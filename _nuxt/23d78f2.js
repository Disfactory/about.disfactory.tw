/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{226:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},227:function(e,t,n){var o=n(265);e.exports=function(source,e){if(null==source)return{};var t,i,n=o(source,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(source);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(source,t)&&(n[t]=source[t])}return n}},229:function(e,t,n){"use strict";var o=n(2),r=n(32),l=n(263),c=n(162),h=n(6),d=1..toFixed,m=Math.floor,f=function(e,t,n){return 0===t?n:t%2==1?f(e,t-1,n*e):f(e*e,t/2,n)};o({target:"Number",proto:!0,forced:d&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!h((function(){d.call({})}))},{toFixed:function(e){var t,n,o,h,d=l(this),v=r(e),data=[0,0,0,0,0,0],y="",x="0",S=function(e,t){for(var n=-1,o=t;++n<6;)o+=e*data[n],data[n]=o%1e7,o=m(o/1e7)},O=function(e){for(var t=6,n=0;--t>=0;)n+=data[t],data[t]=m(n/e),n=n%e*1e7},w=function(){for(var e=6,s="";--e>=0;)if(""!==s||0===e||0!==data[e]){var t=String(data[e]);s=""===s?t:s+c.call("0",7-t.length)+t}return s};if(v<0||v>20)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||d>=1e21)return String(d);if(d<0&&(y="-",d=-d),d>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(d*f(2,69,1))-69)<0?d*f(2,-t,1):d/f(2,t,1),n*=4503599627370496,(t=52-t)>0){for(S(0,n),o=v;o>=7;)S(1e7,0),o-=7;for(S(f(10,o,1),0),o=t-1;o>=23;)O(1<<23),o-=23;O(1<<o),S(1,1),O(2),x=w()}else S(0,n),S(1<<-t,0),x=w()+c.call("0",v);return x=v>0?y+((h=x.length)<=v?"0."+c.call("0",v-h)+x:x.slice(0,h-v)+"."+x.slice(h-v)):y+x}})},263:function(e,t,n){var o=n(31);e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},265:function(e,t){e.exports=function(source,e){if(null==source)return{};var t,i,n={},o=Object.keys(source);for(i=0;i<o.length;i++)t=o[i],e.indexOf(t)>=0||(n[t]=source[t]);return n}},271:function(e,t,n){var o=n(2),r=n(160).values;o({target:"Object",stat:!0},{values:function(e){return r(e)}})},272:function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=8)}([function(e,t,n){var o=n(4),i=n(5),s=n(6);e.exports=function(e){return o(e)||i(e)||s()}},function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t,n){},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t,n){"use strict";var o=n(2);n.n(o).a},function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),s=n(1),r=n.n(s),a=n(3),l=n.n(a),c={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()}},methods:{maybeAdjustScroll:function(){var e,t=(null===(e=this.$refs.dropdownMenu)||void 0===e?void 0:e.children[this.typeAheadPointer])||!1;if(t){var n=this.getDropdownViewport(),o=t.getBoundingClientRect(),i=o.top,s=o.bottom,r=o.height;if(i<n.top)return this.$refs.dropdownMenu.scrollTop=t.offsetTop;if(s>n.bottom)return this.$refs.dropdownMenu.scrollTop=t.offsetTop-(n.height-r)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},u={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var e=0;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}}},methods:{typeAheadUp:function(){for(var e=this.typeAheadPointer-1;e>=0;e--)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadDown:function(){for(var e=this.typeAheadPointer+1;e<this.filteredOptions.length;e++)if(this.selectable(this.filteredOptions[e])){this.typeAheadPointer=e;break}},typeAheadSelect:function(){var e=this.filteredOptions[this.typeAheadPointer];e&&this.select(e)}}},p={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(e){this.mutableLoading=e}},methods:{toggleLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==e?!this.mutableLoading:e}}};function h(e,t,n,o,i,s,r,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=a?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}var d={Deselect:h({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[t("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var e=this.$createElement,t=this._self._c||e;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[t("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},m={inserted:function(e,t,n){var o=n.context;if(o.appendToBody){var i=o.$refs.toggle.getBoundingClientRect(),s=i.height,r=i.top,a=i.left,l=i.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;e.unbindPosition=o.calculatePosition(e,o,{width:l+"px",left:c+a+"px",top:u+r+s+"px"}),document.body.appendChild(e)}},unbind:function(e,t,n){n.context.appendToBody&&(e.unbindPosition&&"function"==typeof e.unbindPosition&&e.unbindPosition(),e.parentNode&&e.parentNode.removeChild(e))}},b=0;function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={components:v({},d),mixins:[c,u,p],directives:{appendToBody:m},props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(e){return e}},selectable:{type:Function,default:function(e){return!0}},getOptionLabel:{type:Function,default:function(e){return"object"===r()(e)?e.hasOwnProperty(this.label)?e[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(e),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):e}},getOptionKey:{type:Function,default:function(e){if("object"!==r()(e))return e;try{return e.hasOwnProperty("id")?e.id:function(e){var t={};return Object.keys(e).sort().forEach((function(n){t[n]=e[n]})),JSON.stringify(t)}(e)}catch(t){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",e,t)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(e,t,n){return(t||"").toLowerCase().indexOf(n.toLowerCase())>-1}},filter:{type:Function,default:function(e,t){var n=this;return e.filter((function(e){var o=n.getOptionLabel(e);return"number"==typeof o&&(o=o.toString()),n.filterBy(e,o,t)}))}},createOption:{type:Function,default:function(e){return"object"===r()(this.optionList[0])?l()({},this.label,e):e}},resetOnOptionsChange:{default:!1,validator:function(e){return["function","boolean"].includes(r()(e))}},clearSearchOnBlur:{type:Function,default:function(e){var t=e.clearSearchOnSelect,n=e.multiple;return t&&!n}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(e,t){return e}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(e,t,n){var o=n.width,i=n.top,s=n.left;e.style.top=i,e.style.left=s,e.style.width=o}}},data:function(){return{uid:++b,search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},watch:{options:function(e,t){var n=this;!this.taggable&&("function"==typeof n.resetOnOptionsChange?n.resetOnOptionsChange(e,t,n.selectedValue):n.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:function(e){this.isTrackingValues&&this.setInternalValueFromOptions(e)},multiple:function(){this.clearSelection()},open:function(e){this.$emit(e?"open":"close")}},created:function(){this.mutableLoading=this.loading,void 0!==this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value),this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(e){var t=this;Array.isArray(e)?this.$data._value=e.map((function(e){return t.findOptionFromReducedValue(e)})):this.$data._value=this.findOptionFromReducedValue(e)},select:function(e){this.$emit("option:selecting",e),this.isOptionSelected(e)||(this.taggable&&!this.optionExists(e)&&this.$emit("option:created",e),this.multiple&&(e=this.selectedValue.concat(e)),this.updateValue(e),this.$emit("option:selected",e)),this.onAfterSelect(e)},deselect:function(e){var t=this;this.$emit("option:deselecting",e),this.updateValue(this.selectedValue.filter((function(n){return!t.optionComparator(n,e)}))),this.$emit("option:deselected",e)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(e){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue:function(e){var t=this;void 0===this.value&&(this.$data._value=e),null!==e&&(e=Array.isArray(e)?e.map((function(e){return t.reduce(e)})):this.reduce(e)),this.$emit("input",e)},toggleDropdown:function(e){var t=e.target!==this.searchEl;t&&e.preventDefault();var n=[].concat(i()(this.$refs.deselectButtons||[]),i()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(t){return t.contains(e.target)||t===e.target}))?e.preventDefault():this.open&&t?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(e){var t=this;return this.selectedValue.some((function(n){return t.optionComparator(n,e)}))},optionComparator:function(e,t){return this.getOptionKey(e)===this.getOptionKey(t)},findOptionFromReducedValue:function(e){var t=this,n=[].concat(i()(this.options),i()(this.pushedTags)).filter((function(n){return JSON.stringify(t.reduce(n))===JSON.stringify(e)}));return 1===n.length?n[0]:n.find((function(e){return t.optionComparator(e,t.$data._value)}))||e},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var e=null;this.multiple&&(e=i()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(e)}},optionExists:function(e){var t=this;return this.optionList.some((function(n){return t.optionComparator(n,e)}))},normalizeOptionForSlot:function(e){return"object"===r()(e)?e:l()({},this.label,e)},pushTag:function(e){this.pushedTags.push(e)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var e=this.clearSearchOnSelect,t=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:e,multiple:t})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(e){var t=this,n=function(e){return e.preventDefault(),!t.isComposing&&t.typeAheadSelect()},o={8:function(e){return t.maybeDeleteValue()},9:function(e){return t.onTab()},27:function(e){return t.onEscape()},38:function(e){return e.preventDefault(),t.typeAheadUp()},40:function(e){return e.preventDefault(),t.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(e){return o[e]=n}));var i=this.mapKeydown(o,this);if("function"==typeof i[e.keyCode])return i[e.keyCode](e)}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var e=this.value;return this.isTrackingValues&&(e=this.$data._value),e?[].concat(e):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var e=this,t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:v({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return e.isComposing=!0},compositionend:function(){return e.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(t){return e.search=t.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.loading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:v({},t,{deselect:this.deselect}),footer:v({},t,{deselect:this.deselect})}},childComponents:function(){return v({},d,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return!this.noDrop&&this.open&&!this.mutableLoading},searchPlaceholder:function(){if(this.isValueEmpty&&this.placeholder)return this.placeholder},filteredOptions:function(){var e=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return e;var t=this.search.length?this.filter(e,this.search,this):e;if(this.taggable&&this.search.length){var n=this.createOption(this.search);this.optionExists(n)||t.unshift(n)}return t},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}}},x=(n(7),h(y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-select",class:e.stateClasses,attrs:{dir:e.dir}},[e._t("header",null,null,e.scope.header),e._v(" "),n("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+e.uid+"__combobox",role:"combobox","aria-expanded":e.dropdownOpen.toString(),"aria-owns":"vs"+e.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(t){return e.toggleDropdown(t)}}},[n("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[e._l(e.selectedValue,(function(t){return e._t("selected-option-container",[n("span",{key:e.getOptionKey(t),staticClass:"vs__selected"},[e._t("selected-option",[e._v("\n            "+e._s(e.getOptionLabel(t))+"\n          ")],null,e.normalizeOptionForSlot(t)),e._v(" "),e.multiple?n("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:e.disabled,type:"button",title:"Deselect "+e.getOptionLabel(t),"aria-label":"Deselect "+e.getOptionLabel(t)},on:{click:function(n){return e.deselect(t)}}},[n(e.childComponents.Deselect,{tag:"component"})],1):e._e()],2)],{option:e.normalizeOptionForSlot(t),deselect:e.deselect,multiple:e.multiple,disabled:e.disabled})})),e._v(" "),e._t("search",[n("input",e._g(e._b({staticClass:"vs__search"},"input",e.scope.search.attributes,!1),e.scope.search.events))],null,e.scope.search)],2),e._v(" "),n("div",{ref:"actions",staticClass:"vs__actions"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:e.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:e.clearSelection}},[n(e.childComponents.Deselect,{tag:"component"})],1),e._v(" "),e._t("open-indicator",[e.noDrop?e._e():n(e.childComponents.OpenIndicator,e._b({tag:"component"},"component",e.scope.openIndicator.attributes,!1))],null,e.scope.openIndicator),e._v(" "),e._t("spinner",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[e._v("Loading...")])],null,e.scope.spinner)],2)]),e._v(" "),n("transition",{attrs:{name:e.transition}},[e.dropdownOpen?n("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+e.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+e.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(t){return t.preventDefault(),e.onMousedown(t)},mouseup:e.onMouseUp}},[e._t("list-header",null,null,e.scope.listHeader),e._v(" "),e._l(e.filteredOptions,(function(t,o){return n("li",{key:e.getOptionKey(t),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--selected":e.isOptionSelected(t),"vs__dropdown-option--highlight":o===e.typeAheadPointer,"vs__dropdown-option--disabled":!e.selectable(t)},attrs:{role:"option",id:"vs"+e.uid+"__option-"+o,"aria-selected":o===e.typeAheadPointer||null},on:{mouseover:function(n){e.selectable(t)&&(e.typeAheadPointer=o)},mousedown:function(n){n.preventDefault(),n.stopPropagation(),e.selectable(t)&&e.select(t)}}},[e._t("option",[e._v("\n          "+e._s(e.getOptionLabel(t))+"\n        ")],null,e.normalizeOptionForSlot(t))],2)})),e._v(" "),0===e.filteredOptions.length?n("li",{staticClass:"vs__no-options"},[e._t("no-options",[e._v("Sorry, no matching options.")],null,e.scope.noOptions)],2):e._e(),e._v(" "),e._t("list-footer",null,null,e.scope.listFooter)],2):n("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+e.uid+"__listbox",role:"listbox"}})]),e._v(" "),e._t("footer",null,null,e.scope.footer)],2)}),[],!1,null,null,null).exports),S={ajax:p,pointer:u,pointerScroll:c};n.d(t,"VueSelect",(function(){return x})),n.d(t,"mixins",(function(){return S})),t.default=x}])},314:function(e,t,n){"use strict";var o=n(12),r=n(4),l=n(68),c=n(15),h=n(13),d=n(31),m=n(161),f=n(67),v=n(6),y=n(70),x=n(106).f,S=n(37).f,O=n(18).f,w=n(315).trim,M=r.Number,A=M.prototype,C="Number"==d(y(A)),k=function(e){var t,n,o,r,l,c,h,code,d=f(e,!1);if("string"==typeof d&&d.length>2)if(43===(t=(d=w(d)).charCodeAt(0))||45===t){if(88===(n=d.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(d.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+d}for(c=(l=d.slice(2)).length,h=0;h<c;h++)if((code=l.charCodeAt(h))<48||code>r)return NaN;return parseInt(l,o)}return+d};if(l("Number",!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var T,j=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof j&&(C?v((function(){A.valueOf.call(n)})):"Number"!=d(n))?m(new M(k(t)),n,j):k(t)},D=o?x(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),B=0;D.length>B;B++)h(M,T=D[B])&&!h(j,T)&&O(j,T,S(M,T));j.prototype=A,A.constructor=j,c(r,"Number",j)}},315:function(e,t,n){var o=n(14),r="["+n(316)+"]",l=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),h=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(l,"")),2&e&&(n=n.replace(c,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},316:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},317:function(e,t,n){var content=n(318);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(50).default)("2a41097c",content,!0,{sourceMap:!1})},318:function(e,t,n){(t=n(49)(!1)).push([e.i,"/*!\n * TOAST UI Chart 4th Edition\n * @version 4.0.3 | Sat Jan 30 2021\n * @author NHN. FE Development Lab <dl_javascript@nhn.com>\n * @license MIT\n */.toastui-chart-export-menu{font-family:Arial,sans-serif;position:absolute;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;box-sizing:border-box}.toastui-chart-export-menu-title{height:34px;width:140px;margin:0;padding:10px;box-sizing:inherit}.toastui-chart-export-menu-btn-wrapper{width:100%;height:76px}.toastui-chart-export-menu-btn{width:50%;height:50%;border:none;padding:12px 3px;float:left;color:inherit;font-family:inherit;background:transparent;cursor:pointer}.toastui-chart-export-menu-btn:hover{font-weight:700}.toastui-chart-export-menu-btn:nth-child(3){border-bottom-left-radius:inherit}.toastui-chart-export-menu-btn:nth-child(4){border-bottom-right-radius:inherit}.toastui-chart-tooltip-container{position:absolute;top:0;left:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none}.toastui-chart-tooltip{display:flex;flex-direction:column;box-sizing:border-box;min-width:150px}.toastui-chart-tooltip-category{padding:8px 15px;border-bottom:1px solid rgba(0,0,0,.1)}.toastui-chart-tooltip-series-wrapper{display:flex;padding:13px 15px;flex-direction:column}.toastui-chart-tooltip-series{display:flex;width:100%;justify-content:space-between}.toastui-chart-series-name{display:flex;align-items:center;line-height:10px}.toastui-chart-series-name .toastui-chart-icon,.toastui-chart-tooltip-series .toastui-chart-icon{width:10px;height:10px;margin-right:8px;display:inline-block}.toastui-chart-series-name .toastui-chart-name{white-space:nowrap}.toastui-chart-series-value{white-space:nowrap;margin-left:10px}.toastui-chart-tooltip-series-wrapper .toastui-chart-tooltip-title{padding:8px 0 5px}.toastui-chart-tooltip-series-wrapper .toastui-chart-tooltip-title:first-child{padding-top:0}",""]),e.exports=t},319:function(e,t,n){var o;window,e.exports=(o=n(336),function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=68)}([function(e,t){e.exports=o},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(39))},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var o=n(2);e.exports=!o((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var o=n(1),r=n(20).f,i=n(7),u=n(42),l=n(16),a=n(47),c=n(54);e.exports=function(e,t){var n,s,p,h,d,m=e.target,f=e.global,v=e.stat;if(n=f?o:v?o[m]||l(m,{}):(o[m]||{}).prototype)for(s in t){if(h=t[s],p=e.noTargetGet?(d=r(n,s))&&d.value:n[s],!c(f?s:m+(v?".":"#")+s,e.forced)&&void 0!==p){if(typeof h==typeof p)continue;a(h,p)}(e.sham||p&&p.sham)&&i(h,"sham",!0),u(n,s,h,e)}}},function(e,t,n){var o=n(5),r=n(15),i=n(10);e.exports=o?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(30),r=Math.min;e.exports=function(e){return e>0?r(o(e),9007199254740991):0}},function(e,t,n){var o=n(21);e.exports=function(e){return Object(o(e))}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(12),r=n(21);e.exports=function(e){return o(r(e))}},function(e,t,n){var o=n(2),r=n(13),i="".split;e.exports=o((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==r(e)?i.call(e,""):Object(e)}:Object},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var o=n(4);e.exports=function(e,t){if(!o(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!o(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!o(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(5),r=n(22),i=n(23),u=n(14),l=Object.defineProperty;t.f=o?l:function(e,t,n){if(i(e),t=u(t,!0),i(n),r)try{return l(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(1),r=n(7);e.exports=function(e,t){try{r(o,e,t)}catch(n){o[e]=t}return t}},function(e,t,n){var o=n(1),r=n(16),i=o["__core-js_shared__"]||r("__core-js_shared__",{});e.exports=i},function(e,t,n){var o,r,i=n(1),u=n(56),l=i.process,a=l&&l.versions,c=a&&a.v8;c?r=(o=c.split("."))[0]+o[1]:u&&(!(o=u.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=u.match(/Chrome\/(\d+)/))&&(r=o[1]),e.exports=r&&+r},function(e,t,n){var o=n(1),r=n(25),i=n(3),u=n(26),l=n(37),a=n(60),c=r("wks"),s=o.Symbol,p=a?s:s&&s.withoutSetter||u;e.exports=function(e){return i(c,e)||(l&&i(s,e)?c[e]=s[e]:c[e]=p("Symbol."+e)),c[e]}},function(e,t,n){var o=n(5),r=n(40),i=n(10),u=n(11),l=n(14),a=n(3),c=n(22),s=Object.getOwnPropertyDescriptor;t.f=o?s:function(e,t){if(e=u(e),t=l(t,!0),c)try{return s(e,t)}catch(e){}if(a(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var o=n(5),r=n(2),i=n(41);e.exports=!o&&!r((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var o=n(4);e.exports=function(e){if(!o(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var o=n(17),r=Function.toString;"function"!=typeof o.inspectSource&&(o.inspectSource=function(e){return r.call(e)}),e.exports=o.inspectSource},function(e,t,n){var o=n(46),r=n(17);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:o?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+o).toString(36)}},function(e,t){e.exports={}},function(e,t,n){var o=n(49),r=n(1),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(o[e])||i(r[e]):o[e]&&o[e][t]||r[e]&&r[e][t]}},function(e,t,n){var o=n(3),r=n(11),i=n(51).indexOf,u=n(27);e.exports=function(e,t){var n,l=r(e),a=0,c=[];for(n in l)!o(u,n)&&o(l,n)&&c.push(n);for(;t.length>a;)o(l,n=t[a++])&&(~i(c,n)||c.push(n));return c}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){"use strict";var o=n(2);e.exports=function(e,t){var n=[][e];return!!n&&o((function(){n.call(null,t||function(){throw 1},1)}))}},function(e,t,n){var o=n(5),r=n(2),i=n(3),u=Object.defineProperty,l={},a=function(e){throw e};e.exports=function(e,t){if(i(l,e))return l[e];t||(t={});var n=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,s=i(t,0)?t[0]:a,p=i(t,1)?t[1]:void 0;return l[e]=!!n&&!r((function(){if(c&&!o)return!0;var e={length:-1};c?u(e,1,{enumerable:!0,get:a}):e[1]=1,n.call(e,s,p)}))}},function(e,t,n){var o=n(13);e.exports=Array.isArray||function(e){return"Array"==o(e)}},function(e,t,n){var o=n(4),r=n(35),i=n(19)("species");e.exports=function(e,t){var n;return r(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!r(n.prototype)?o(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var o=n(2);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!String(Symbol())}))},function(e,t,n){"use strict";var o=n(6),r=n(55).left,i=n(33),u=n(34),l=n(18),a=n(57),c=i("reduce"),s=u("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!s||!a&&l>79&&l<83},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!o.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:o},function(e,t,n){var o=n(1),r=n(4),i=o.document,u=r(i)&&r(i.createElement);e.exports=function(e){return u?i.createElement(e):{}}},function(e,t,n){var o=n(1),r=n(7),i=n(3),u=n(16),l=n(24),a=n(43),c=a.get,s=a.enforce,p=String(String).split("String");(e.exports=function(e,t,n,l){var a,c=!!l&&!!l.unsafe,h=!!l&&!!l.enumerable,d=!!l&&!!l.noTargetGet;"function"==typeof n&&("string"!=typeof t||i(n,"name")||r(n,"name",t),(a=s(n)).source||(a.source=p.join("string"==typeof t?t:""))),e!==o?(c?!d&&e[t]&&(h=!0):delete e[t],h?e[t]=n:r(e,t,n)):h?e[t]=n:u(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||l(this)}))},function(e,t,n){var o,r,i,u=n(44),l=n(1),a=n(4),c=n(7),s=n(3),p=n(17),h=n(45),d=n(27),m=l.WeakMap;if(u){var f=p.state||(p.state=new m),v=f.get,b=f.has,y=f.set;o=function(e,t){return t.facade=e,y.call(f,e,t),t},r=function(e){return v.call(f,e)||{}},i=function(e){return b.call(f,e)}}else{var x=h("state");d[x]=!0,o=function(e,t){return t.facade=e,c(e,x,t),t},r=function(e){return s(e,x)?e[x]:{}},i=function(e){return s(e,x)}}e.exports={set:o,get:r,has:i,enforce:function(e){return i(e)?r(e):o(e,{})},getterFor:function(e){return function(t){var n;if(!a(t)||(n=r(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var o=n(1),r=n(24),i=o.WeakMap;e.exports="function"==typeof i&&/native code/.test(r(i))},function(e,t,n){var o=n(25),r=n(26),i=o("keys");e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){e.exports=!1},function(e,t,n){var o=n(3),r=n(48),i=n(20),u=n(15);e.exports=function(e,t){for(var n=r(t),l=u.f,a=i.f,c=0;c<n.length;c++){var s=n[c];o(e,s)||l(e,s,a(t,s))}}},function(e,t,n){var o=n(28),r=n(50),i=n(53),u=n(23);e.exports=o("Reflect","ownKeys")||function(e){var t=r.f(u(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){var o=n(1);e.exports=o},function(e,t,n){var o=n(29),r=n(31).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return o(e,r)}},function(e,t,n){var o=n(11),r=n(8),i=n(52),u=function(e){return function(t,n,u){var l,a=o(t),c=r(a.length),s=i(u,c);if(e&&n!=n){for(;c>s;)if((l=a[s++])!=l)return!0}else for(;c>s;s++)if((e||s in a)&&a[s]===n)return e||s||0;return!e&&-1}};e.exports={includes:u(!0),indexOf:u(!1)}},function(e,t,n){var o=n(30),r=Math.max,i=Math.min;e.exports=function(e,t){var n=o(e);return n<0?r(n+t,0):i(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(2),r=/#|\.prototype\./,i=function(e,t){var n=l[u(e)];return n==c||n!=a&&("function"==typeof t?o(t):!!t)},u=i.normalize=function(e){return String(e).replace(r,".").toLowerCase()},l=i.data={},a=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,n){var o=n(32),r=n(9),i=n(12),u=n(8),l=function(e){return function(t,n,l,a){o(n);var c=r(t),s=i(c),p=u(c.length),h=e?p-1:0,d=e?-1:1;if(l<2)for(;;){if(h in s){a=s[h],h+=d;break}if(h+=d,e?h<0:p<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:p>h;h+=d)h in s&&(a=n(a,s[h],h,c));return a}};e.exports={left:l(!1),right:l(!0)}},function(e,t,n){var o=n(28);e.exports=o("navigator","userAgent")||""},function(e,t,n){var o=n(13),r=n(1);e.exports="process"==o(r.process)},function(e,t,n){"use strict";var o=n(6),r=n(2),i=n(35),u=n(4),l=n(9),a=n(8),c=n(59),s=n(36),p=n(61),h=n(19),d=n(18),m=h("isConcatSpreadable"),f=d>=51||!r((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=p("concat"),b=function(e){if(!u(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)};o({target:"Array",proto:!0,forced:!f||!v},{concat:function(e){var t,n,o,r,i,u=l(this),p=s(u,0),h=0;for(t=-1,o=arguments.length;t<o;t++)if(b(i=-1===t?u:arguments[t])){if(h+(r=a(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<r;n++,h++)n in i&&c(p,h,i[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(p,h++,i)}return p.length=h,p}})},function(e,t,n){"use strict";var o=n(14),r=n(15),i=n(10);e.exports=function(e,t,n){var u=o(t);u in e?r.f(e,u,i(0,n)):e[u]=n}},function(e,t,n){var o=n(37);e.exports=o&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var o=n(2),r=n(19),i=n(18),u=r("species");e.exports=function(e){return i>=51||!o((function(){var t=[];return(t.constructor={})[u]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,n){"use strict";var o=n(6),r=n(63);o({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},function(e,t,n){"use strict";var o=n(64).forEach,r=n(33),i=n(34),u=r("forEach"),l=i("forEach");e.exports=u&&l?[].forEach:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t,n){var o=n(65),r=n(12),i=n(9),u=n(8),l=n(36),a=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,s=4==e,p=6==e,h=7==e,d=5==e||p;return function(m,f,v,b){for(var y,x,g=i(m),S=r(g),O=o(f,v,3),w=u(S.length),M=0,A=b||l,C=t?A(m,w):n||h?A(m,0):void 0;w>M;M++)if((d||M in S)&&(x=O(y=S[M],M,g),e))if(t)C[M]=x;else if(x)switch(e){case 3:return!0;case 5:return y;case 6:return M;case 2:a.call(C,y)}else switch(e){case 4:return!1;case 7:a.call(C,y)}return p?-1:c||s?s:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,n){var o=n(32);e.exports=function(e,t,n){if(o(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,o){return e.call(t,n,o)};case 3:return function(n,o,r){return e.call(t,n,o,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var o=n(6),r=n(9),i=n(67);o({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(e){return i(r(e))}})},function(e,t,n){var o=n(29),r=n(31);e.exports=Object.keys||function(e){return o(e,r)}},function(e,t,n){"use strict";n.r(t),n.d(t,"areaChart",(function(){return a})),n.d(t,"barChart",(function(){return c})),n.d(t,"boxPlotChart",(function(){return s})),n.d(t,"bubbleChart",(function(){return p})),n.d(t,"bulletChart",(function(){return h})),n.d(t,"columnChart",(function(){return d})),n.d(t,"columnLineChart",(function(){return m})),n.d(t,"heatmapChart",(function(){return f})),n.d(t,"lineChart",(function(){return v})),n.d(t,"lineAreaChart",(function(){return b})),n.d(t,"lineScatterChart",(function(){return y})),n.d(t,"nestedPieChart",(function(){return x})),n.d(t,"pieChart",(function(){return g})),n.d(t,"radarChart",(function(){return S})),n.d(t,"scatterChart",(function(){return O})),n.d(t,"treemapChart",(function(){return w})),n(38),n(58),n(62),n(66);var o=n(0),r={area:o.AreaChart,bar:o.BarChart,boxPlot:o.BoxPlotChart,bubble:o.BubbleChart,bullet:o.BulletChart,column:o.ColumnChart,columnLine:o.ColumnLineChart,heatmap:o.HeatmapChart,line:o.LineChart,lineArea:o.LineAreaChart,lineScatter:o.LineScatterChart,nestedPie:o.NestedPieChart,pie:o.PieChart,radar:o.RadarChart,scatter:o.ScatterChart,treemap:o.TreemapChart},i=Object.keys(r),u=["clickLegendLabel","clickLegendCheckbox","selectSeries","unselectSeries","hoverSeries","unhoverSeries","zoom","resetZoom"],l=i.reduce((function(e,t){var n;return e["".concat(t,"Chart")]={name:"".concat(n=t,"-chart"),template:'<div ref="toastuiChart"></div>',props:{data:{type:Object,required:!0},options:{type:Object}},data:function(){return{Creator:r[n],chartInstance:null,computedOptions:{}}},watch:{data:{handler:function(e){this.chartInstance.setData(e)},deep:!0},options:{handler:function(e){this.chartInstance.setOptions(e)},deep:!0}},mounted:function(){this.computedOptions=Object.assign({},this.options),this.chartInstance=new this.Creator({el:this.$refs.toastuiChart,data:this.data,options:this.computedOptions}),this.addEventListeners()},destroyed:function(){this.chartInstance.destroy()},methods:{addEventListeners:function(){var e=this;u.forEach((function(t){e.chartInstance.on(t,(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];e.$emit.apply(e,[t].concat(o))}))}))},invoke:function(e){var t;if(this.chartInstance[e]){for(var n,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];t=(n=this.chartInstance)[e].apply(n,r)}return t},getRootElement:function(){return this.$refs.toastuiChart}}},e}),{}),a=l.areaChart,c=l.barChart,s=l.boxPlotChart,p=l.bubbleChart,h=l.bulletChart,d=l.columnChart,m=l.columnLineChart,f=l.heatmapChart,v=l.lineChart,b=l.lineAreaChart,y=l.lineScatterChart,x=l.nestedPieChart,g=l.pieChart,S=l.radarChart,O=l.scatterChart,w=l.treemapChart}]))},336:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Aa})),n.d(t,"LineChart",(function(){return Jo})),n.d(t,"AreaChart",(function(){return wr})),n.d(t,"BarChart",(function(){return Ir})),n.d(t,"ColumnChart",(function(){return Wr})),n.d(t,"PieChart",(function(){return sr})),n.d(t,"HeatmapChart",(function(){return yr})),n.d(t,"BubbleChart",(function(){return Vr})),n.d(t,"ScatterChart",(function(){return Gr})),n.d(t,"BulletChart",(function(){return qr})),n.d(t,"RadarChart",(function(){return la})),n.d(t,"TreemapChart",(function(){return xa})),n.d(t,"NestedPieChart",(function(){return Jr})),n.d(t,"LineAreaChart",(function(){return Cr})),n.d(t,"LineScatterChart",(function(){return Ar})),n.d(t,"ColumnLineChart",(function(){return Yr})),n.d(t,"BoxPlotChart",(function(){return Ma}));var o={};n.r(o),n.d(o,"clipRectArea",(function(){return et})),n.d(o,"pathRect",(function(){return tt})),n.d(o,"circle",(function(){return circle})),n.d(o,"line",(function(){return it})),n.d(o,"rect",(function(){return st}));var r={};n.r(r),n.d(r,"DEFAULT_LABEL_TEXT",(function(){return nt})),n.d(r,"labelStyle",(function(){return ot})),n.d(r,"strokeLabelStyle",(function(){return at})),n.d(r,"label",(function(){return lt})),n.d(r,"rectLabel",(function(){return ct})),n.d(r,"bubbleLabel",(function(){return ut}));var l={};n.r(l),n.d(l,"TICK_SIZE",(function(){return mt})),n.d(l,"tick",(function(){return gt}));var c={};n.r(c),n.d(c,"dataLabel",(function(){return Fi})),n.d(c,"drawBubbleLabel",(function(){return $i})),n.d(c,"getBubbleArrowPoints",(function(){return Vi}));var h={};n.r(h),n.d(h,"SPECTRUM_LEGEND_LABEL_HEIGHT",(function(){return Gi})),n.d(h,"spectrumLegendBar",(function(){return Xi})),n.d(h,"spectrumLegendTooltip",(function(){return Ui})),n.d(h,"spectrumLegend",(function(){return qi})),n.d(h,"spectrumTooltip",(function(){return Zi}));var d={};n.r(d),n.d(d,"polygon",(function(){return polygon}));var m={};n.r(m),n.d(m,"scatterSeries",(function(){return Qi}));var f={};n.r(f),n.d(f,"LEGEND_ITEM_MARGIN_X",(function(){return es})),n.d(f,"LEGEND_MARGIN_X",(function(){return ts})),n.d(f,"LEGEND_MARGIN_Y",(function(){return is})),n.d(f,"LEGEND_CHECKBOX_SIZE",(function(){return ss})),n.d(f,"LEGEND_ICON_SIZE",(function(){return ns})),n.d(f,"getLegendItemHeight",(function(){return os})),n.d(f,"legend",(function(){return ls}));var v={};n.r(v),n.d(v,"linePoints",(function(){return Xo})),n.d(v,"areaPoints",(function(){return Uo}));var y={};n.r(y),n.d(y,"exportMenuButton",(function(){return Ko}));var x={};n.r(x),n.d(x,"backButton",(function(){return qo})),n.d(x,"resetButton",(function(){return Zo}));var S={};n.r(S),n.d(S,"sector",(function(){return ir}));var O={};n.r(O),n.d(O,"circleLegend",(function(){return $r}));var w={};function M(e){return!A(e)&&!C(e)}function A(e){return void 0===e}function C(e){return null===e}function k(e){return"boolean"==typeof e}function T(e){return"number"==typeof e}function j(e){return"string"==typeof e}function D(e){return T(e)&&isFinite(e)&&Math.floor(e)===e}function B(e){return"object"==typeof e&&null!==e}function P(e){return"function"==typeof e}function R(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function E(e,t,n){A(t)&&(t=e||0,e=0),n=n||1;const o=[];if(t){const r=n<0?-1:1;for(t*=r;e*r<t;e+=n)o.push(e)}return o}function L(e,t,n){if("number"==typeof n&&e[n]!==t)return!1;for(const n of e)if(n===t)return!0;return!1}function z(e,...t){const n={};return Object.keys(e).forEach(o=>{L(t,o)&&(n[o]=e[o])}),n}function I(e,...t){const n={};return Object.keys(e).forEach(o=>{L(t,o)||(n[o]=e[o])}),n}function W(e,t){const{length:n}=t;if(n)for(let i=0;i<n;i+=1){if(A(e)||C(e))return null;e=e[t[i]]}return e}function N(e,t=0){let n;return function(...o){window.clearTimeout(n),n=window.setTimeout(()=>{e(...o)},t)}}function Y(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(e=>{B(n[e])?Array.isArray(t[e])?n[e]=_(t[e]):n.hasOwnProperty(e)?n[e]=Y(n[e],t[e]):n[e]=H(t[e]):n[e]=t[e]}),n}function _(e){return e.map(e=>B(e)?Array.isArray(e)?_(e):H(e):e)}function H(e){const t={},n=Object.keys(e);return n.length?(n.forEach(n=>{B(e[n])?t[n]=Array.isArray(e[n])?_(e[n]):H(e[n]):t[n]=e[n]}),t):e}function F(e,t){return D(e)?Number(e)-Number(t):new Date(e).getTime()-new Date(t).getTime()}function $(e,t){return e-t}function V(e){return e.length?e[0]:void 0}function G(e){return e.length?e[e.length-1]:void 0}function X(e=[]){return e.some(e=>Number(e)<0)}function U(e){return e.reduce((a,b)=>a+b,0)}function K(e){return e.every(e=>Number(e)<=0)}function Z(e){return e.find(e=>null!==e)}function J(text){return Number(text.substr(0,text.length-1))}function Q(e,t){return T(t)?t:Number((e*J(t)/100).toFixed(2))}function ee(e){return T(e)?e:0}function te(e){return"auto"===e}n.r(w),n.d(w,"boxPlot",(function(){return wa}));const ie="It works only when the selectable option is true.",se="The index value is invalid.",ne="Source object is observable already",oe="circleLegend is only possible when bubble series is present",re=e=>`There's no ${e} data!`,ae=e=>"Brush don't exist in painter: "+e,le="DashSegments option is available from IE11 and above.";let ce=null,he=null;const de=[];let ue=!1;function pe(e){const t=()=>{he!==t&&(ue||!C(he)?(de.includes(t)&&de.splice(de.indexOf(t),1),de.push(t)):C(he)&&(he=t,e(),he=null,me()))};return t.deps=[],ce=t,ce(),ce=null,()=>{t.deps.forEach(e=>{const n=e.findIndex(e=>e===t);e.splice(n,1)}),t.deps=[]}}function me(){if(de.length){const e=de.shift();e&&e()}}function ge(e){return"object"==typeof e&&e.__toastUIChartOb__}function fe(e,source=e){if(ge(source))throw new Error(ne);ge(e)||Object.defineProperty(e,"__toastUIChartOb__",{enumerable:!1});for(const t in source){if(!source.hasOwnProperty(t))continue;const n=[];let o=source[t];const r=Object.getOwnPropertyDescriptor(source,t),l=r&&r.get,c=r&&r.set;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return ce===xe?{target:e,key:t,value:o,obs:n}:(ue||!ce||n.includes(ce)||(n.push(ce),ce.deps.push(n)),o)},set:function(r){const h=o;c?(c.call(e,r),o=l?l.call(e):e[t]):o=r,h!==o&&ye(n)}}),"object"!=typeof e[t]||Array.isArray(e[t])||fe(e[t])}return e}function ve(e,source){if(ge(source))throw new Error(ne);return fe(e,source)}function be(e,t){const n=xe(e,t);n&&ye(n.obs)}function ye(e){e.forEach(e=>e())}function xe(e,t){ce=xe;const n=e[t];return ce=null,"object"==typeof n&&n.hasOwnProperty("target")&&n.hasOwnProperty("obs")?n:null}function Se(e){return JSON.parse(JSON.stringify(e))}class Oe{constructor(e){this.computed={},this.actions={},this.initStoreState=H(e),this.setRootState({})}setRootState(e){fe(e),this.state=e}setComputed(e,t,n=this.computed){const o=e.split("."),r=o.splice(o.length-1,1)[0];!function(e,t,n){let o;const r={};Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>o}),ve(e,r),pe(()=>{const r=o;o=n(),r!==o&&(e[t]=o)})}(function(e,t){const{length:n}=t;if(n)for(let i=0;i<n;i+=1)A(e[t[i]])&&(e[t[i]]={}),e=e[t[i]];return e}(n,o),r,t.bind(null,this.state,this.computed))}setWatch(e,t){return function(e,path,t){const n=path.split("."),o=n.splice(n.length-1,1)[0],r=W(e,n);if(!r)return null;const l=xe(r,o);if(!l)return null;const c=()=>{t(r[o])};return l.obs.push(c),()=>{const e=l.obs.findIndex(e=>e===c);e>-1&&l.obs.splice(e,1)}}(this,e,t)}setAction(e,t){this.actions[e]=t}dispatch(e,t,n){n?(ue=!0,(()=>{this.actions[e].call(this,this,t)})(),ue=!1,me()):this.actions[e].call(this,this,t)}observe(e){return pe(e.bind(this,this.state,this.computed))}observable(e){return fe(e)}notifyByPath(e){!function(e,t){const n=t.split("."),o=n.splice(n.length-1,1)[0],r=W(e,n);r&&be(r,o)}(this,e)}notify(e,t){be(e,t)}setModule(e,param){if(param||(e=(param=e).name),param.state){const e="function"==typeof param.state?param.state(this.initStoreState):param.state;we(this.state,e)}param.computed&&R(param.computed,(e,t)=>{this.setComputed(t,e)}),param.watch&&R(param.watch,(e,t)=>{this.setWatch(t,e)}),param.action&&R(param.action,(e,t)=>{this.setAction(t,e)}),param.observe&&R(param.observe,e=>{this.observe(e)})}setValue(e,t,source){we(e,{[t]:source})}}function we(e,source){const t={};for(const n in source)source.hasOwnProperty(n)&&(A(e[n])?t[n]=source[n]:"object"!=typeof source[n]||Array.isArray(source[n])?e[n]=source[n]:we(e[n],source[n]));Object.keys(t).length&&ve(e,t)}function Me(e,{width:t,height:n}){return{width:0===t?e.offsetWidth:t,height:0===n?e.offsetHeight:n}}var Ae={name:"root",state:({options:e})=>{var t,n,o,r,l,c,h,d;return{chart:Object.assign(Object.assign({},e.chart),{width:ee(null===(n=null===(t=e)||void 0===t?void 0:t.chart)||void 0===n?void 0:n.width),height:ee(null===(r=null===(o=e)||void 0===o?void 0:o.chart)||void 0===r?void 0:r.height)}),usingContainerSize:{width:te(null===(c=null===(l=e)||void 0===l?void 0:l.chart)||void 0===c?void 0:c.width),height:te(null===(d=null===(h=e)||void 0===h?void 0:h.chart)||void 0===d?void 0:d.height)},container:{}}},action:{setChartSize({state:e},t){e.chart.width=t.width,e.chart.height=t.height},initChartSize({state:e},t){const{width:n,height:o}=e.chart;0!==n&&0!==o||(t.parentNode?this.dispatch("setChartSize",Me(t,{width:n,height:o})):setTimeout(()=>{this.dispatch("setChartSize",Me(t,{width:n,height:o}))},0))},setUsingContainerSize({state:e},{width:t,height:n}){e.usingContainerSize.width=t,e.usingContainerSize.height=n}}};function Ce(e){if(e)return B(e)?e.format:"YY-MM-DD hh:mm:ss"}const ke=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*mm|[\\]*m|[\\]*ss|[\\]*s|[\\]*A/gi,Te=["Invalid month","January","February","March","April","May","Jun","Jul","August","September","October","November","December"],je=[0,31,28,31,30,31,30,31,31,30,31,30,31],De={M:e=>Number(e.month),MM:e=>{const t=e.month;return Number(t)<10?"0"+t:t},MMM:e=>Te[Number(e.month)].substr(0,3),MMMM:e=>Te[Number(e.month)],D:e=>Number(e.date),d:e=>De.D(e),DD:e=>{const t=e.date;return Number(t)<10?"0"+t:t},dd:e=>De.DD(e),YY:e=>Number(e.year)%100,yy:e=>De.YY(e),YYYY:e=>{let t="20";const n=e.year;return n>69&&n<100&&(t="19"),Number(n)<100?t+String(n):n},yyyy:e=>De.YYYY(e),A:e=>e.meridiem,a:e=>e.meridiem,hh:e=>{const t=e.hour;return Number(t)<10?"0"+t:t},HH:e=>De.hh(e),h:e=>String(Number(e.hour)),H:e=>De.h(e),m:e=>String(Number(e.minute)),mm:e=>{const t=e.minute;return Number(t)<10?"0"+t:t},s:e=>String(Number(e.second)),ss:e=>{const t=e.second;return Number(t)<10?"0"+t:t}};function Be(form,e,option){var t,n,o;const r=null!=(n=null===(t=option)||void 0===t?void 0:t.meridiemSet.AM)?n:"AM",l=(null===(o=option)||void 0===o?void 0:o.meridiemSet.PM)||"PM";let c;if(e instanceof Date)c={year:e.getFullYear(),month:e.getMonth()+1,date:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()};else{const{year:t,month:n,hour:o,minute:r,second:l}=e;c={year:t,month:n,date:e.date,hour:o,minute:r,second:l}}return function(e,t,n){const o=Number(e),r=Number(t),l=Number(n);if(!(o>-1&&o<100||o>1969&&o<2070)||!(r>0&&r<13))return!1;const c=function(e,t){return 2===e&&t%4==0&&(t%100!=0||t%400==0)}(r,o)?29:je[r];return l>0&&l<=c}(c.year,c.month,c.date)?(c.meridiem="",/([^\\]|^)[aA]\b/.test(form)&&(c.hour>12&&(c.hour%=12),0===c.hour&&(c.hour=12),c.meridiem=c.hour>11?l:r),form.replace(ke,e=>e.indexOf("\\")>-1?e.replace(/\\/,""):De[e](c)||"")):""}function Pe(style,e){return style.reduce((t,n)=>j(n)?Object.assign(Object.assign({},t),e[n]):Object.assign(Object.assign({},t),n),{})}function Re(e,t){return`translate(${e}px,${t}px)`}function Ee(e){const{fontFamily:t,fontSize:n,fontWeight:o}=e;return`${o} ${n}px ${t}`}function Le(e){const{color:t,fontSize:n,fontFamily:o,fontWeight:r}=e;return`font-weight: ${r}; font-family: ${o}; font-size: ${n}px; color: ${t};`}function ze(e){return Ee(z(e,"fontFamily","fontWeight","fontSize"))}function Ie(e,t){e.setLineDash?e.setLineDash(t):console.error(le)}function We(e){return Math.floor(.15*e)}function Ne(e,t){e.fillStyle=t,e.fill()}function Ye(e,style){const{lineWidth:t,strokeStyle:n}=style;n&&(e.strokeStyle=n),t&&(e.lineWidth=t),e.stroke()}const _e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,He=/rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)/,Fe=/rgba\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(1|0?\.?\d+)\)/,$e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ve(e,t){if(e.length>t)return e;let n=e;return E(0,t-1).forEach(e=>{n="0"+n}),n.slice(-1*t)}function Ge(e){return _e.test(e)}function Xe(e){return $e[e.toLowerCase()]||e}function Ue(e){const t=Xe(e);return!!Ge(t)&&t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(e,t,g,b)=>"#"+t+t+g+g+b+b).substring(1).match(/.{2}/g).map(e=>parseInt(e,16))}function Ke(e,t){const n=Xe(e);if(Ge(n)){const[e,g,b]=Ue(n);return`rgba(${e}, ${g}, ${b}, ${t})`}if(He.test(e)){const n=He.exec(e);return`rgba(${n[1]}, ${n[2]}, ${n[3]}, ${t})`}if(Fe.test(e)){const n=Fe.exec(e);return`rgba(${n[1]}, ${n[2]}, ${n[3]}, ${t})`}return e}function qe(e){if(Fe.test(e)){const t=Fe.exec(e);return Number(t[4])}return 1}function Ze(e,t=1){return Ke(e,qe(e)*t)}const Je={default:{strokeStyle:"#ffffff",lineWidth:2},plot:{lineWidth:1,strokeStyle:"rgba(0, 0, 0, 0.05)"}},Qe={shadow:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:6}};function et(e,t){const{x:n,y:o,width:r,height:l}=t;e.beginPath(),e.rect(n,o,r,l),e.clip()}function tt(e,t){const{x:n,y:o,width:r,height:l,radius:c=0,stroke:h="black",fill:d="",lineWidth:m=1}=t;e.beginPath(),e.moveTo(n+c,o),e.lineTo(n+r-c,o),e.quadraticCurveTo(n+r,o,n+r,o+c),e.lineTo(n+r,o+l-c),e.quadraticCurveTo(n+r,o+l,n+r-c,o+l),e.lineTo(n+c,o+l),e.quadraticCurveTo(n,o+l,n,o+l-c),e.lineTo(n,o+c),e.quadraticCurveTo(n,o,n+c,o),e.closePath(),d&&Ne(e,d),Ye(e,{lineWidth:m,strokeStyle:h})}function circle(e,t){const{x:n,y:o,style:style,radius:r,color:l,angle:c={start:0,end:2*Math.PI},borderWidth:h,borderColor:d}=t;if(e.beginPath(),style){const t=Pe(style,Je);Object.keys(t).forEach(n=>{e[n]=t[n]})}e.arc(n,o,r,c.start,c.end,!0),Ne(e,l),Ye(e,{lineWidth:h,strokeStyle:d}),e.closePath()}function it(e,t){const{x:n,y:o,x2:r,y2:l,strokeStyle:c,lineWidth:h,dashSegments:d}=t;e.beginPath(),d&&Ie(e,d),e.moveTo(n,o),e.lineTo(r,l),Ye(e,{strokeStyle:c,lineWidth:h}),e.closePath()}function st(e,t){const{x:n,y:o,width:r,height:l,style:style,thickness:c=0,color:h,borderColor:d="#ffffff"}=t;if(e.beginPath(),style){const t=Pe(style,Qe);Object.keys(t).forEach(n=>{e[n]=t[n]})}c&&(e.fillStyle=d,e.fillRect(n-c,o-c,r+2*c,l+2*c),e.shadowColor="rgba(0, 0, 0, 0)"),e.rect(n,o,r,l),Ne(e,h)}const nt="normal 11px Arial",ot={default:{font:nt,fillStyle:"#333333",textAlign:"left",textBaseline:"middle"},title:{textBaseline:"top"},axisTitle:{textBaseline:"top"},rectLabel:{font:nt,fillStyle:"rgba(0, 0, 0, 0.3)",textAlign:"center",textBaseline:"middle"}},at={none:{lineWidth:1,strokeStyle:"rgba(255, 255, 255, 0)"},stroke:{lineWidth:4,strokeStyle:"rgba(255, 255, 255, 0.5)"}};function lt(e,t){const{x:n,y:o,text:text,style:style,stroke:r,opacity:l,radian:c}=t;if(style){const t=Pe(style,ot);Object.keys(t).forEach(n=>{e[n]="fillStyle"===n&&T(l)?Ze(t[n],l):t[n]})}if(e.save(),c&&(e.translate(n,o),e.rotate(c),e.translate(-n,-o)),r){const t=Pe(r,at),c=Object.keys(t);c.forEach(n=>{e[n]="strokeStyle"===n&&T(l)?Ze(t[n],l):t[n]}),c.length&&e.strokeText(text,n,o)}e.fillText(text,n,o),e.restore()}function ct(e,t){const{x:n,y:o,style:style,text:text,width:r,height:l,borderRadius:c=0,backgroundColor:h}=t;tt(e,{type:"pathRect",x:n-r/2,y:o-l/2,width:r,height:l,radius:c,fill:h,stroke:"rgba(0, 0, 0, 0)"}),lt(e,{type:"label",x:n,y:o,style:style,text:text})}const ht={shadow:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetY:2,shadowBlur:4}};function ut(e,t){const{x:n,y:o,width:r,height:l,radius:c=0,points:h,direction:d,lineWidth:m=1,fill:f="#ffffff",stroke:v,bubbleStyle:y=null,labelStyle:x,labelStrokeStyle:S,text:text}=t;!function(e,t){const{x:n,y:o,radius:r=0,width:l,height:c,style:style,stroke:h,fill:d,lineWidth:m=1,points:f=[],direction:v=""}=t,y=n+l,x=o+c;e.beginPath(),e.moveTo(n+r,o),"top"===v&&pt(e,f);e.lineTo(y-r,o),e.quadraticCurveTo(y,o,y,o+r),"right"===v&&pt(e,f);e.lineTo(y,o+c-r),e.quadraticCurveTo(y,x,y-r,x),"bottom"===v&&pt(e,f);e.lineTo(n+r,x),e.quadraticCurveTo(n,x,n,x-r),"left"===v&&pt(e,f);if(e.lineTo(n,o+r),e.quadraticCurveTo(n,o,n+r,o),style){const t=Pe(style,ht);Object.keys(t).forEach(n=>{e[n]=t[n]})}d&&Ne(e,d);h&&Ye(e,{strokeStyle:h,lineWidth:m})}(e,{x:n,y:o,radius:c,width:r,height:l,style:y,fill:f,stroke:v,lineWidth:m,direction:d,points:h}),text&&(e.shadowColor="rgba(0, 0, 0, 0)",lt(e,{type:"label",x:n+r/2,y:o+l/2+1,text:text,style:x,stroke:S}))}function pt(e,t){t.length&&(e.lineTo(t[0].x,t[0].y),e.lineTo(t[1].x,t[1].y),e.lineTo(t[2].x,t[2].y))}const mt=5;function gt(e,t){const{x:n,y:o,isYAxis:r,tickSize:l=mt,strokeStyle:c,lineWidth:h}=t,d={type:"line",x:n,y:o,x2:n,y2:o,strokeStyle:c,lineWidth:h};r?d.x2+=l:d.y2+=l,it(e,d)}const ft=document.createElement("canvas").getContext("2d");function vt(text,e=nt){return ft.font=e,Math.ceil(ft.measureText(text).width)}function bt(text,e=nt){ft.font=e;const{actualBoundingBoxAscent:t,actualBoundingBoxDescent:n}=ft.measureText(text);return T(t)&&T(n)?Math.ceil(Math.abs(t)+Math.abs(n))+1:function(e=nt){const t=e.match(/\d+(?=px)/);return parseInt(String(1.2*Number(t)),10)}(e)}function yt(e){return kt(2*mt+e/2)}function xt(...e){const t=e.map(e=>function(e){var t,n;return null!=(n=null===(t=String(e).split(".")[1])||void 0===t?void 0:t.length)?n:0}(e)),n=Math.max(...t);return Math.pow(10,n)}function St(a,b){const e=xt(a,b);return(a*e+b*e)/e}function Ot(a,b){const e=xt(a,b);return a*e*(b*e)/(e*e)}function wt(a,b){const e=xt(a,b);return a*e/(b*e)}function Mt(e){const t=e.slice();return t.unshift(0),t.reduce((base,e)=>St(parseFloat(String(base)),parseFloat(String(e))))}function At(e,t,n){var o,r;const l=xt(t),c=E(Math.round(e.min*l),Math.round(e.max*l)+1,t*l),h=Ce(null===(r=null===(o=n)||void 0===o?void 0:o.xAxis)||void 0===r?void 0:r.date);return c.map(label=>h?Be(h,new Date(label)):String(label/l))}function Ct(e,t,n=0,o=0){let r=[];return t>0&&(r=E(0,t).map(o=>(0===o?0:o/(t-1))*e+n)),o&&r.push(o),r}function kt(e,t=1){const n=t/2;return t%2?(D(e)?e:Math.round(e-n))+n:Math.round(e)}function Tt(e,t,n){const{x:o,y:r}=e,{x:l,y:c}=t,{x:h,y:d}=n,m=Bt(n,t),f=Bt(t,e),v=.333*f/(f+m)||0,y=.333*m/(f+m)||0;return{prev:{x:l-v*(h-o),y:c-v*(d-r)},next:{x:l+y*(h-o),y:c+y*(d-r)}}}function jt(e){for(let i=0,t=e.length,n=e[0];i<t;i+=1){const o=e[i];if(C(o)){n=e[i+1];continue}const r=e[Math.min(i+1,t-1)%t];n&&r&&(o.controlPoint=Tt(n,o,r)),n=o}}function Dt(e,{min:t,max:n}){return(e-t)/(n-t)}function Bt(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Pt(e){return vt(e.reduce((e,t)=>e.length>t.length?e:t,""))}function Rt(e,t,n,o,r){const{pointOnColumn:l,tickDistance:c,labelDistance:h}=e;let d;if(n){d=Dt(j(o)?Number(new Date(o)):Number(o),n)*(t-(l?h:0))+(l?h/2:0)}else d=c*r+(l?c/2:0);return d}function Et(e,t){return e.reduce((e,n)=>[...e,n[t]],[])}class Lt{constructor({store:e,eventBus:t}){this.name="Component",this.type="component",this.rect={x:0,y:0,height:0,width:0},this.isShow=!0,this.store=e,this.eventBus=t}update(e){this.drawModels&&(Array.isArray(this.models)?this.updateModels(this.drawModels,this.models,e):Object.keys(this.models).forEach(t=>{const n=this.drawModels[t],o=this.models[t];this.updateModels(n,o,e)}))}initUpdate(e){this.update(e)}updateModels(e,t,n){e.forEach((e,o)=>{const r=t[o];Object.keys(e).forEach(t=>{var o;if(e&&r&&"_"!==t[0])if(T(e[t]))e[t]=e[t]+(r[t]-e[t])*n;else if("points"===t){const l=this.getCurrentModelToMatchTargetModel(e[t],e[t],r[t]).map((e,o)=>{const l=r[t][o];if(e&&l){const{x:t,y:o}=e,{x:r,y:c}=l;return Object.assign(Object.assign({},l),{x:t+(r-t)*n,y:o+(c-o)*n})}return l});(null===(o=this.store.state.options.series)||void 0===o?void 0:o.spline)&&jt(l),e[t]=l}else e[t]=r[t]})})}sync(){this.drawModels&&(Array.isArray(this.models)?this.syncModels(this.drawModels,this.models):Object.keys(this.models).forEach(e=>{const t=this.drawModels[e],n=this.models[e];this.syncModels(t,n,e)}))}getCurrentModelToMatchTargetModel(e,t,n){var o;if(null===(o=Z(n))||void 0===o?void 0:o.name){const o=[...new Set(e.map(({name:e})=>e))],r=[...new Set(n.map(({name:e})=>e))];if(!function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1)if(e[i]!==t[i])return!1;return!0}(o,r))return this.getCurrentModelWithDifferentModel(e,t,n,o,r)}const r=t.length,l=n.length;return r<l?[...t,...n.slice(r,l)]:r>l?t.slice(0,l):e}getCurrentModelWithDifferentModel(e,t,n,o,r){const l=t.length,c=n.length;if(l>c){const t=e.filter(({name:e})=>L(r,e));return t.length!==n.length?n:t}if(l<c){const t=n.reduce((e,t,n)=>!L(o,t.name)?{models:[...e.models,t],modelIdx:[...e.modelIdx,n]}:e,{models:[],modelIdx:[]});if(e.length+t.models.length===c){const n=[...e];return t.models.forEach((e,o)=>{n.splice(t.modelIdx[o],0,e)}),n}return n}return e}syncModels(e,t,n){const o=n?this.drawModels[n]:this.drawModels,r=this.getCurrentModelToMatchTargetModel(o,e,t);n?this.drawModels[n]=r:this.drawModels=r}getSelectableOption(e){var t,n,o;return null!=(o=null===(n=null===(t=e)||void 0===t?void 0:t.series)||void 0===n?void 0:n.selectable)&&o}renderDataLabels(data,e){setTimeout(()=>{this.eventBus.emit("renderDataLabels",{data:data,name:null!=e?e:this.name})},0)}draw(e){const t=this.drawModels?this.drawModels:this.models;Array.isArray(t)?e.paintForEach(t):t&&Object.keys(t).forEach(n=>{e.paintForEach(t[n])})}}var zt;!function(e){e.X="xAxis",e.Y="yAxis",e.SECONDARY_Y="secondaryYAxis"}(zt||(zt={}));class It extends Lt{constructor(){super(...arguments),this.models={label:[],tick:[],axisLine:[]},this.axisSize=0}initialize({name:e}){this.type="axis",this.name=e,this.yAxisComponent=L([zt.Y,zt.SECONDARY_Y],e)}render({layout:e,axes:t,theme:n}){if(t.centerYAxis||!t[this.name])return;this.theme=ni(n,this.name),this.rect=e[this.name],this.axisSize=this.yAxisComponent?this.rect.height:this.rect.width;const{viewLabels:o}=t[this.name],{offsetKey:r,anchorKey:l}={offsetKey:(c=this.yAxisComponent)?"y":"x",anchorKey:c?"x":"y"};var c;const h=this.makeRenderOptions(t[this.name]);this.hasOnlyAxisLine()||(this.models.label=this.renderLabelModels(o,r,l,h),this.models.tick=this.renderTickModels(r,l,h)),this.models.axisLine=[this.renderAxisLineModel()],this.drawModels||(this.drawModels={tick:[],label:[],axisLine:this.models.axisLine},["tick","label"].forEach(e=>{this.drawModels[e]=this.models[e].map(e=>{const t=Object.assign({},e);return this.yAxisComponent?t.y=0:t.x=0,t})}))}renderAxisLineModel(){const e=kt(0);let t;const{color:n,width:o}=this.theme;if(this.yAxisComponent){const r=this.getYAxisXPoint();t={type:"line",x:r,y:e,x2:r,y2:kt(this.axisSize),strokeStyle:n,lineWidth:o}}else t={type:"line",x:e,y:e,x2:kt(this.axisSize),y2:e,strokeStyle:n,lineWidth:o};return t}renderTickModels(e,t,n){const o=this.yAxisComponent?this.getYAxisXPoint():kt(0),{tickInterval:r,relativePositions:l}=n,c=L([zt.SECONDARY_Y,zt.X],this.name)?mt:-mt;return l.reduce((n,l,h)=>h%r?n:[...n,{type:"tick",isYAxis:this.yAxisComponent,tickSize:c,[e]:kt(l),[t]:o,strokeStyle:this.theme.color,lineWidth:this.theme.width}],[])}renderLabelModels(e,t,n,o){const{needRotateLabel:r,radian:l,offsetY:c}=o,h=this.theme.label,d=Ee(h),style=["default",{textAlign:this.getLabelTextAlign(r),font:d,fillStyle:h.color}],m=this.yAxisComponent?this.getYAxisAnchorPoint():c;return e.map(({text:text,offsetPos:e})=>({type:"label",text:text,style:style,radian:l,[t]:kt(e),[n]:m}))}makeRenderOptions(e){const{tickCount:t,tickInterval:n}=e,o=Ct(this.axisSize,t);if(this.yAxisComponent)return{relativePositions:o,tickInterval:n};const{needRotateLabel:r,radian:l,offsetY:c}=e;return{relativePositions:o,tickInterval:n,needRotateLabel:r,radian:l,offsetY:c}}getYAxisAnchorPoint(){return this.isRightSide()?kt(this.rect.width):kt(0)}getLabelTextAlign(e){const t=this.isRightSide()?"right":"left",n=e?"left":"center";return this.yAxisComponent?t:n}isRightSide(){return this.name===zt.SECONDARY_Y}getYAxisXPoint(){return this.isRightSide()?kt(0):kt(this.rect.width)}hasOnlyAxisLine(){return this.yAxisComponent&&!this.rect.width||this.name===zt.X&&!this.rect.height}}const Wt=Math.PI/180,Nt=[0,25,45,65,85,90];function Yt(e,t){return Math.cos(e*Wt)*t}function _t(e,t){return Math.sin(e*Wt)*t}function Ht(e,t,n){return 2*(_t(e,t/2)+_t(90-e,n/2))}function Ft(e,t){return Object.assign({anchor:e},z(t,"x","y","radius","degree","drawingStartAngle"))}function $t(e,t=-90){let n=0;return e%360==0?n=Math.PI/180*t:e>=0&&e<360&&(n=Math.PI/180*(e+t)),n}function Vt(param){const{anchor:e,x:t,y:n,radius:{inner:o,outer:r},degree:{start:l,end:c},drawingStartAngle:h}=param;return Gt(t,n,"center"===e?(r-o)/2+o:r,$t(l+(c-l)/2,h))}function Gt(e,t,n,o){return{x:Math.round(e+n*Math.cos(o)),y:Math.round(t+n*Math.sin(o))}}function Xt(e,t,n,o){return e?t<=o&&n>=o:t>=o&&n<=o}function Ut(e,t,n){var o;const r=90,l=121,c=5;if(null===(o=n)||void 0===o?void 0:o[0]){if(vt(n[0])<t/e-5)return 1}let h=[];if(function(e){const t=[];for(let b,a=2;a*a<=e;a+=1)e%a==0&&(b=e/a,t.push(a),b!==a&&t.push(b));return t.sort((e,t)=>e-t)}(e).forEach(n=>{const o=n/e*t;o>=r&&o<=l&&h.push({interval:n,blockCount:Math.floor(e/n),remainBlockCount:0})}),!h.length){const n=E(r,l,c);h=n.reduce((n,o)=>{const r=function(e,t,n){let o,r=Math.floor(t/n),l=null;const c=r?Math.floor(e/r):e;return c>1&&(o=e-c*r,o>=c&&(r+=Math.floor(o/c),o%=c),l={blockCount:r,remainBlockCount:o,interval:c}),l}(e,t,o);return r?[...n,r]:n},[])}let d=1;if(h.length){d=h.reduce((e,t)=>t.blockCount>e.blockCount?t:e,{blockCount:0,interval:1}).interval}return d}function Kt(e,t){var n,o;return!!e.bar||!!e.bullet&&!(null===(o=null===(n=t)||void 0===n?void 0:n.series)||void 0===o?void 0:o.vertical)}function qt(e){return!!(e.column||e.bar||e.boxPlot||e.bullet)}function Zt(e){return{valueAxisName:e?"xAxis":"yAxis",labelAxisName:e?"yAxis":"xAxis"}}function Jt(e){return{valueSizeKey:e?"width":"height",labelSizeKey:e?"height":"width"}}function Qt(e){const t=e.map(label=>Number(label));return{min:Math.min(...t),max:Math.max(...t)}}function ei(e){var t;return Array.isArray(null===(t=e)||void 0===t?void 0:t.yAxis)&&2===e.yAxis.length}function ti(e){var t;const n=ei(e);return{yAxis:n?e.yAxis[0]:null===(t=e)||void 0===t?void 0:t.yAxis,secondaryYAxis:n?e.yAxis[1]:null}}function ii(e,t,n){var o;const{secondaryYAxis:r}=ti(e);return(null===(o=r)||void 0===o?void 0:o.chartType)===t?"secondaryYAxis":n}function si(e,t){const{yAxis:n,secondaryYAxis:o}=ti(e);return"xAxis"!==t&&o?[n.chartType,o.chartType].map((n,o)=>n?ii(e,n,t):["yAxis","secondaryYAxis"][o]):[t]}function ni(e,t){const{xAxis:n,yAxis:o}=e;let r;return r=t===zt.X?n:Array.isArray(o)?t===zt.Y?o[0]:o[1]:o,r}function oi(e,t,n){let o=0;return Nt.every(r=>{const l=function(e,t,n){return 2*(Yt(e,t/2)+Yt(90-e,n/2))}(r,t,n);return o=r,l>e}),e<t?o:0}function ri(e,t,n){var o,r;const l=e[n],c=t[n];return!(!l&&!c)&&(null===(o=l)||void 0===o?void 0:o.maxLabelWidth)!==(null===(r=c)||void 0===r?void 0:r.maxLabelWidth)}function ai(e,t){return function(e,t){return ri(e,t,"yAxis")||ri(e,t,"secondaryYAxis")}(e,t)||function(e,t){const{maxHeight:n}=e.xAxis,{maxHeight:o}=t.xAxis;return n!==o}(e,t)}function ci(e){var t,n,o,r;return null==(r=null===(o=null===(n=null===(t=e)||void 0===t?void 0:t.xAxis)||void 0===n?void 0:n.label)||void 0===o?void 0:o.rotatable)||r}function hi(e,t){const{labels:n,pointOnColumn:o,labelDistance:r,tickDistance:l,labelInterval:c,tickInterval:h,tickCount:d}=e,m=Ct(t,d),f=o?(null!=r?r:l*(c===h?c:1))/2:0;return n.reduce((e,text,n)=>{const o=m[n]+f;return!(n%c)&&o<=t?[...e,{offsetPos:o,text:text}]:e},[])}function di(title){if(A(title))return title;const e={text:"",offsetX:0,offsetY:0};return j(title)?Object.assign(Object.assign({},e),{text:title}):Object.assign(Object.assign({},e),title)}function ui(e,t){const n=Ce(t);return e.map(e=>n?Be(n,new Date(e)):e)}function pi(e,t,n,o){const r=oi(n,e,t);return o&&0!==r?{needRotateLabel:r>0,radian:$t(r,0),rotationHeight:Ht(r,e,t)}:{needRotateLabel:!1,radian:0,rotationHeight:t}}function mi(e,t,n=nt){const o=e.reduce((e,t)=>e.length>t.length?e:t,"");return{maxLabelWidth:vt(o,n)+t,maxLabelHeight:bt(o,n)}}function gi(e,t){var n,o,r,l;if("xAxis"===e)return 0;const c=ti(t);return Math.abs(null!=(l=null===(r=null===(o=null===(n=c)||void 0===n?void 0:n[e])||void 0===o?void 0:o.label)||void 0===r?void 0:r.margin)?l:0)}function fi(e){return Array.isArray(e)&&2===e.length}function vi(data){return Array.isArray(data)&&fi(Z(data))}function bi(e,t){return!(!t||0===t[0]&&t[1]===e.length-1)}function yi(data,e){return e?data.slice(e[0],e[1]+1):data}function xi(e){return T(e)?e:Array.isArray(e)?e[1]:e.y}function Si(e){return Array.isArray(e)?e[0]:e.x}function Oi(e,t,n,o){if(T(e))return n-o;const r=Si(e);let l=t.findIndex(e=>e===String(r));return-1===l&&function(e,t){const n=G(t);return!!n&&(T(e)?e>=Number(n):new Date(e)>=new Date(n))}(r,t)&&(l=t.length),l}function wi(e){return function(e){if(!e.line||!e.line.data.length)return!1;const t=Z(e.line.data[0].data);return t&&(Array.isArray(t)||B(t))}(e)||!!e.scatter||!!e.bubble}function Mi(e,t){var n;const o=!!W(e,["series","diverging"]),r="center"===(null===(n=e.yAxis)||void 0===n?void 0:n.align);return t&&o&&r}function Ai(e,t){var n,o,r;return null!=(r=null===(o=null===(n=Object.assign(Object.assign({},ti(e)),{xAxis:e.xAxis})[t])||void 0===n?void 0:n.label)||void 0===o?void 0:o.formatter)?r:e=>e}function Ci(e){var t,n;const{axisSize:o,categories:r,series:l,options:c,theme:h,scale:d,zoomRange:m,rawCategories:f,initialAxisData:v,isCoordinateTypeChart:y,axisName:x}=e,S=function(e,t){var n;return!!qt(e)||!(!e.line&&!e.area)&&Boolean(null===(n=t.xAxis)||void 0===n?void 0:n.pointOnColumn)}(l,c),O=!bi(f,m)&&y?At(d.limit,d.stepSize,c):ui(r,null===(n=null===(t=c)||void 0===t?void 0:t.xAxis)||void 0===n?void 0:n.date),w=Ai(c,x),M=O.map((label,e)=>w(label,{index:e,labels:O,axisName:x})),A=r.length-(S?0:1),C=A?o/A:o,k=o/(M.length-(S?0:1)),T=M.length+(S?1:0),j=hi(Object.assign({labels:M,pointOnColumn:S,tickDistance:C,tickCount:T},v),o),D=gi(x,c);return Object.assign(Object.assign({labels:M,viewLabels:j,pointOnColumn:S,labelDistance:k,tickDistance:C,tickCount:T,isLabelAxis:!0},v),mi(M,D,Ee(h.label)))}function ki(e){var t;const{scale:n,axisSize:o,series:r,options:l,centerYAxis:c,initialAxisData:h,theme:d,labelOnYAxis:m,axisName:f}=e,{limit:v,stepSize:y}=n,x=c?null===(t=c)||void 0===t?void 0:t.xAxisHalfSize:o,S=function(e,t){var n;return qt(e)&&!!(null===(n=t.series)||void 0===n?void 0:n.diverging)}(r,l),O=Ai(l,f),w=function(e,t,n,o){const{min:r,max:l}=e;if(!(r<=0&&l>=0)||o)return null;const c=(0-r)/(l-r)*t;return n?c:t-c}(v,o,Kt(r,l),S);let M=At(v,y);!c&&S&&(M=function(e){return K(e)?e.reverse().slice(1).concat(e):e.slice(1).reverse().concat(e)}(M));const A=M.map((label,e)=>O(label,{index:e,labels:M,axisName:f})),C=x/Math.max(M.length,1),k=M.length,j=hi(Object.assign({labels:m?A:[...A].reverse(),pointOnColumn:!1,tickDistance:C,tickCount:k},h),x),D=gi(f,l),B=Object.assign(Object.assign({labels:A,viewLabels:j,pointOnColumn:!1,isLabelAxis:!1,tickCount:k,tickDistance:C},h),mi(A,D,Ee(d.label)));return T(w)&&(B.zeroPosition=w),B}function Ti(e,t){var n,o,r,l,c,h;const{axis:d,categories:m,layout:f,isCoordinateTypeChart:v}=t,y=null===(o=null===(n=d)||void 0===n?void 0:n.tick)||void 0===o?void 0:o.interval,x=null===(l=null===(r=d)||void 0===r?void 0:r.label)||void 0===l?void 0:l.interval,S=T(y)||T(x),O=e&&!T(null===(h=null===(c=d)||void 0===c?void 0:c.scale)||void 0===h?void 0:h.stepSize)&&!t.shift&&!S&&!v,w=O?function(e,t){if(!e||!t)return 1;const{width:n}=t.xAxis;return Ut(e.length,n,e)}(m,f):1;return{tickInterval:null!=y?y:w,labelInterval:null!=x?x:O?w:1}}function ji(e,t){var n,o;const r=Ti(e,t),title=di(null===(o=null===(n=t)||void 0===n?void 0:n.axis)||void 0===o?void 0:o.title);return title&&(r.title=title),r}function Di({axisData:e,axisSize:t,centerYAxis:n,rotatable:o,labelMargin:r=0}){const{viewLabels:l,pointOnColumn:c,maxLabelWidth:h,maxLabelHeight:d}=e,m=yt(d)+r,f=pi(h,d,(n?n.xAxisHalfSize:t)/(l.length-(c?0:1)),o),{needRotateLabel:v,rotationHeight:y}=f,x=(v?y:d)+m;return Object.assign(Object.assign(Object.assign({},e),f),{maxHeight:x,offsetY:m})}var Bi={name:"axes",state:({series:e,options:t})=>{const{secondaryYAxis:n}=ti(t),o={xAxis:{},yAxis:{}};return Mi(t,!!e.bar)&&(o.centerYAxis={}),e.radar&&(o.radialAxis={}),n&&(o.secondaryYAxis={}),{axes:o}},action:{setAxesData({state:e}){var t,n;const{scale:o,options:r,series:l,layout:c,zoomRange:h,theme:d}=e,{xAxis:m,yAxis:f,plot:v}=c,y=Kt(l,r),{categories:x,rawCategories:S}=function(e,t){var n,o;return{categories:(n=e,null!=n?n:[]),rawCategories:(o=t,null!=o?o:[])}}(e.categories,e.rawCategories),{valueAxisName:O,valueAxisSize:w,labelAxisName:M,labelAxisSize:A}=function(e,t){const{valueAxisName:n,labelAxisName:o}=Zt(e),{valueSizeKey:r,labelSizeKey:l}=Jt(e);return{valueAxisName:n,valueAxisSize:t[r],labelAxisName:o,labelAxisSize:t[l]}}(y,v),C=e.axes.centerYAxis,k=wi(l),T=function(e,t,n,o,r){var l,c,h;const{yAxis:d,secondaryYAxis:m}=ti(e),f=null===(c=null===(l=e)||void 0===l?void 0:l.series)||void 0===c?void 0:c.shift;return{xAxis:ji(!t,{categories:n,axis:null===(h=e)||void 0===h?void 0:h.xAxis,layout:o,shift:f,isCoordinateTypeChart:r}),yAxis:ji(t,{axis:d}),secondaryYAxis:m?ji(t,{axis:m}):null}}(r,y,x,c,k),j=ki({scale:o[O],axisSize:w,options:r,series:l,theme:ni(d,O),centerYAxis:C?{xAxisHalfSize:(m.width-f.width)/2}:null,initialAxisData:T[O],labelOnYAxis:y,axisName:O}),D=Ci({scale:o[M],axisSize:A,categories:x,rawCategories:S,options:r,series:l,theme:ni(d,M),zoomRange:h,initialAxisData:T[M],isCoordinateTypeChart:k,labelOnYAxis:y,axisName:M});let B,P,R;if(e.axes.secondaryYAxis&&(B=function({state:e,labelOnYAxis:t,valueAxisSize:n,labelAxisSize:o,initialAxisData:r,isCoordinateTypeChart:l}){var c,h;const{scale:d,options:m,series:f,zoomRange:v,theme:y}=e,x=e.categories,S=e.rawCategories;return t?Ci({scale:d.secondaryYAxis,axisSize:o,categories:(h=null===(c=ti(m).secondaryYAxis)||void 0===c?void 0:c.categories,null!=h?h:x),rawCategories:S,options:m,series:f,theme:ni(y,zt.SECONDARY_Y),zoomRange:v,initialAxisData:r,isCoordinateTypeChart:l,axisName:zt.SECONDARY_Y}):ki({scale:d.secondaryYAxis,axisSize:n,options:m,series:f,theme:ni(y,zt.SECONDARY_Y),centerYAxis:null,initialAxisData:r,axisName:zt.SECONDARY_Y})}({state:e,labelOnYAxis:y,valueAxisSize:w,labelAxisSize:A,labelAxisName:M,valueAxisName:O,initialAxisData:T.secondaryYAxis,isCoordinateTypeChart:k})),C){const e=(m.width-f.width)/2;P=Y(j,{x:m.x+e,xAxisHalfSize:e,secondStartX:(m.width+f.width)/2,yAxisLabelAnchorPoint:f.width/2,yAxisHeight:f.height})}e.axes.radialAxis&&(R=function(e,t,n,{labelInterval:o},r){const{limit:l,stepSize:c}=e,{width:h,height:d}=t,m=At(l,c),f=Ai(r,"yAxis"),v=m.map(label=>f(label)),y=Math.min(h,d)/2-50;return Object.assign({labels:v,axisSize:y,centerX:h/2,centerY:d/2,labelInterval:o},mi(v,0,Ee(n.label)))}(o[O],v,ni(d,O),T.yAxis,r));const E={xAxis:Di({axisData:y?j:D,axisSize:y?w:A,centerYAxis:P,rotatable:ci(r),labelMargin:null===(n=null===(t=r.xAxis)||void 0===t?void 0:t.label)||void 0===n?void 0:n.margin}),yAxis:y?D:j,secondaryYAxis:B,centerYAxis:P,radialAxis:R};ai(e.axes,E)&&this.notify(e,"layout"),e.axes=E}},computed:{},observe:{updateAxes(){this.dispatch("setAxesData")}}};const Pi={xls:"data:application/vnd.ms-excel;base64,",csv:"data:text/csv;charset=utf-8,%EF%BB%BF"};function Ri(e,t,content,n){const o=function(e){return"jpeg"===e||"png"===e}(t)?function(e){const t=e.substr(0,e.indexOf(";base64,")).substr(e.indexOf(":")+1),n=atob(e.substr(e.indexOf(",")+1)),o=[];for(let e=0;e<n.length;e+=1024){const t=n.slice(e,e+1024),r=new Array(t.length);for(let i=0;i<t.length;i+=1)r[i]=t.charCodeAt(i);o.push(new window.Uint8Array(r))}try{return new Blob(o,{type:t})}catch(e){return new Blob(o.map(e=>e.buffer),{type:t})}}(content):new Blob([content],{type:n});window.navigator.msSaveOrOpenBlob(o,`${e}.${t}`)}function Ei(e,t,content){if(content){const n=document.createElement("a");n.href=content,n.target="_blank",n.download=`${e}.${t}`,document.body.appendChild(n),n.click(),n.remove()}}function Li(...e){return((template,...e)=>template.reduce((t,n,i)=>t+e[i-1]+n))(...e).replace(/\n\s*/g,"")}function zi(e,t){return e.reduce((e,n,o)=>{var r,l;return!o||e<(null===(l=null===(r=n)||void 0===r?void 0:r[t])||void 0===l?void 0:l.length)?n[t].length:e},0)}function Ii(e){const{series:t}=e,n=[["Label","Data"]];return t.treemap.data.forEach(e=>{!function e({label:label,data:data,children:t=[]},n){return data&&n.push([label,data]),t.forEach(t=>e(t,n)),n}(e,n)}),n}function Wi(e){const{series:t}=e,n=e.categories;return Object.keys(t).reduce((e,o)=>[...e,...t[o].map(({name:e,data:data})=>[e,...!T(data[0])&&L(["line","area","scatter"],o)?function(e,t,data){return t.map((t,n)=>{if("area"===e&&Array.isArray(data[n]))return data[n].join();const o=data.find(e=>t===String(Si(e)));return o?xi(o):""})}(o,n,data):data.map(e=>Array.isArray(e)?e.join():e)])],[["",...n]])}function Ni(e){let t;const{series:n}=e;return t=n.bullet?function({series:e}){const t=e.bullet.data,n=zi(t,"markers"),o=E(0,zi(t,"ranges")).map(e=>"Range "+(e+1)),r=E(0,n).map(e=>"Marker "+(e+1));return t.reduce((e,{data:data,markers:t,name:n,ranges:l})=>[...e,[n,null!=data?data:"",...o.map((e,t)=>{var n;const o=null===(n=l)||void 0===n?void 0:n[t];return o?`${o[0]} ~ ${o[1]}`:""}),...r.map((e,n)=>{var o,r;return null!=(r=null===(o=t)||void 0===o?void 0:o[n])?r:""})]],[["","Actual",...o,...r]])}(e):n.heatmap?function({categories:e,series:t}){const n=e.x;return t.heatmap.data.reduce((e,{data:data,yCategory:t})=>[...e,[t,...data.map(e=>C(e)?"":e)]],[["",...n]])}(e):n.bubble?function(e){const{series:t}=e;return t.bubble.data.reduce((e,{name:t,data:data})=>[...e,...data.map(e=>C(e)?[]:[t,e.label,String(e.x),e.y,e.r])],[["Name","Label","X","Y","Radius"]])}(e):n.boxPlot?function(e){var t;const{series:n}=e,o=null!=(t=e.categories)?t:[];return n.boxPlot.data.reduce((e,{name:t,data:data,outliers:n})=>[...e,[t,...(null!=data?data:[]).map((e,t)=>{var o;const r=null===(o=(null!=n?n:[]).find(e=>e[0]===t))||void 0===o?void 0:o[1];return(r?[...e,r]:[...e]).join()})]],[["",...o]])}(e):n.pie?function(e){var t;const{series:n}=e,o=null!=(t=e.categories)?t:[];return n.pie.data.reduce((e,{name:t,data:data})=>[...e,...Array.isArray(data)?(null!=data?data:[]).reduce((e,t)=>{var n;return[...e,[t.name,(n=t.data,null!=n?n:"")]]},[]):[[t,null!=data?data:""]]],o.length?[["",...o]]:[])}(e):n.treemap?Ii(e):Wi(e),t}function Yi(e,t,content,n){const o=function(){let e;const t=!A(document.createElement("a").download);return!A(window.Blob&&window.navigator.msSaveOrOpenBlob)?e=Ri:t&&(e=Ei),e}();j(content)&&o&&o(e,t,content,n)}function _i(e,t,data){const n=Ni(data),o=Pi[t].replace(/(data:|;base64,|,%EF%BB%BF)/g,"");let content="";content="csv"===t?function(e,option={}){const{lineDelimiter:t="\n",itemDelimiter:n=","}=option,o=e.length-1;let r="";return e.forEach((e,l)=>{const c=e.length-1;e.forEach((e,t)=>{const o=T(e)?e:`"${e}"`;r+=o,t<c&&(r+=n)}),l<o&&(r+=t)}),r}(n):function(e){return Li`<html xmlns:o="urn:schemas-microsoft-com:office:office"
        xmlns:x="urn:schemas-microsoft-com:office:excel"
        xmlns="http://www.w3.org/TR/REC-html40">
        <head>
            <!--[if gte mso 9]>
                <xml>
                    <x:ExcelWorkbook>
                        <x:ExcelWorksheets>
                            <x:ExcelWorksheet>
                                <x:Name>Ark1</x:Name>
                                <x:WorksheetOptions>
                                    <x:DisplayGridlines/>
                                </x:WorksheetOptions>
                            </x:ExcelWorksheet>
                        </x:ExcelWorksheets>
                        </x:ExcelWorkbook>
                </xml>
            <![endif]-->
            <meta name=ProgId content=Excel.Sheet>
            <meta charset=UTF-8>
        </head>
        <body>
            ${function(e){let t="<table>";return e.forEach((e,n)=>{const o=0===n?"th":"td";t+="<tr>",e.forEach((e,r)=>{t+=`<${o}${0!==n||0===r?' class="number"':""}>${e}</${o}>`}),t+="</tr>"}),t+="</table>",t}(e)}
        </body>
        </html>`}(n),function(){const e=!A(document.createElement("a").download);return!!A(window.Blob&&window.navigator.msSaveOrOpenBlob)&&e}()&&("csv"!==t&&(content=window.btoa(unescape(encodeURIComponent(content)))),content=Pi[t]+content),Yi(e,t,content,o)}class Hi extends Lt{constructor(){super(...arguments),this.models={exportMenuButton:[]},this.opened=!1,this.toggleExportMenu=()=>{this.opened=!this.opened,this.models.exportMenuButton[0].opened=this.opened,this.eventBus.emit("needDraw"),this.opened?this.chartEl.appendChild(this.exportMenuEl):this.chartEl.removeChild(this.exportMenuEl)},this.getCanvasExportBtnRemoved=()=>{const canvas=this.chartEl.getElementsByTagName("canvas")[0],e=canvas.getContext("2d"),{x:t,y:n,height:o,width:r}=this.rect;return["#fff",this.chartBackgroundColor].forEach(l=>{e.fillStyle=l,e.fillRect(t,n,r,o)}),canvas},this.onClickExportButton=e=>{const{id:t}=e.target;if("png"===t||"jpeg"===t){const canvas=this.getCanvasExportBtnRemoved();Yi(this.fileName,t,canvas.toDataURL("image/"+t,1))}else _i(this.fileName,t,this.data);this.toggleExportMenu()}}applyExportButtonPanelStyle(e){const t=this.exportMenuEl.querySelector(".toastui-chart-export-menu"),n=this.exportMenuEl.querySelector(".toastui-chart-export-menu-title"),o=this.exportMenuEl.querySelector(".toastui-chart-export-menu-btn-wrapper");t.setAttribute("style",this.makePanelWrapperStyle(e)),n.setAttribute("style",this.makePanelStyle("header")),o.setAttribute("style",this.makePanelStyle("body"))}makeExportMenuButton(){const e=document.createElement("div");return e.onclick=this.onClickExportButton,e.innerHTML='\n        <div class="toastui-chart-export-menu">\n          <p class="toastui-chart-export-menu-title">Export to</p>\n          <div class="toastui-chart-export-menu-btn-wrapper">\n            <button class="toastui-chart-export-menu-btn" id="xls">xls</button>\n            <button class="toastui-chart-export-menu-btn" id="csv">csv</button>\n            <button class="toastui-chart-export-menu-btn" id="png">png</button>\n            <button class="toastui-chart-export-menu-btn" id="jpeg">jpeg</button>\n          </div>\n        </div>\n      ',e}initialize({chartEl:e}){this.chartEl=e,this.type="exportMenu",this.name="exportMenu",this.exportMenuEl=this.makeExportMenuButton()}onClick({responders:e}){e.length&&this.toggleExportMenu()}getFileName(title){var e,t;return j(title)?title:null!=(t=null===(e=title)||void 0===e?void 0:e.text)?t:"toast-ui-chart"}render({options:e,layout:t,chart:n,series:o,rawCategories:r,theme:l}){var c,h;this.isShow=ys(e),this.isShow&&(this.chartBackgroundColor=l.chart.backgroundColor,this.theme=l.exportMenu,this.data={series:o,categories:r},this.fileName=this.getFileName((null===(h=null===(c=e)||void 0===c?void 0:c.exportMenu)||void 0===h?void 0:h.filename)||n.title),this.applyExportButtonPanelStyle(n.width),this.rect=t.exportMenu,this.models.exportMenuButton=[{type:"exportMenuButton",x:0,y:0,opened:this.opened,theme:this.theme.button}],this.responders=[{type:"rect",width:24,height:24,x:0,y:0}])}makePanelWrapperStyle(e){const{top:t,left:n}=this.chartEl.getBoundingClientRect(),o=t+cs.Y+24+5,r=n+e-140-cs.X,{borderRadius:l,borderWidth:c,borderColor:h}=this.theme.panel;return`top: ${o}px; left: ${r}px; border: ${c}px solid ${h}; border-radius: ${l}px;`}makePanelStyle(e){const t=this.theme.panel[e],n="header"===e?"top":"bottom",{borderRadius:o,borderWidth:r}=this.theme.panel,l=o-r+"px";return[""+Le(t),`border-${n}-left-radius: ${l};`,`border-${n}-right-radius: ${l};`,`background-color: ${t.backgroundColor};`].join("")}}function Fi(e,t){var n;const{x:o,y:r,text:text,textAlign:l,textBaseline:c,opacity:h,callout:d,theme:m}=t,{color:f,textBubble:v}=m,y={textAlign:l,textBaseline:c,font:ze(m),fillStyle:f},x=function(e){const{textStrokeColor:t}=e,n=z(e,"lineWidth","shadowColor","shadowBlur");t&&(n.strokeStyle=t);return n}(m);if(d){const{theme:{lineWidth:t,lineColor:n}}=d;it(e,Object.assign(Object.assign({type:"line"},z(d,"x","y","x2","y2")),{strokeStyle:n,lineWidth:t}))}(null===(n=v)||void 0===n?void 0:n.visible)?$i(e,t):lt(e,{type:"label",x:o,y:r,text:text,style:[y],stroke:[x],opacity:h})}function $i(e,t){const{text:text,theme:n}=t,{color:o,textStrokeColor:r}=n,l={textAlign:"center",textBaseline:"middle",font:ze(n),fillStyle:o};let c={};r&&(c={strokeStyle:r}),ut(e,Object.assign(Object.assign({},function(e){const{text:text,theme:t,textAlign:n,textBaseline:o}=e,r=ze(t),{arrow:l,paddingX:c,paddingY:h,borderRadius:d,borderColor:m,borderWidth:f,backgroundColor:v,shadowBlur:y,shadowOffsetX:x,shadowOffsetY:S,shadowColor:O}=t.textBubble,w=vt(text,r)+2*c,M=bt(text,r)+2*h;let{x:A,y:C}=e;"center"===n?A-=w/2:"right"===n&&(A-=w);"middle"===o?C-=M/2:"bottom"===o&&(C-=M);const rect={x:A,y:C,width:w,height:M};return Object.assign(Object.assign(Object.assign({},rect),{radius:d,fill:v,lineWidth:f,stroke:m,bubbleStyle:[{shadowBlur:y,shadowOffsetX:x,shadowOffsetY:S,shadowColor:O}]}),function(rect,e,t,n){var o,r;if(!(null===(o=n)||void 0===o?void 0:o.visible))return null;const l=n.height,{width:c,height:h}=rect,d=null!==(r=n.direction)&&void 0!==r?r:function(e,t){let n="top";"center"===e&&"top"===t?n="top":"center"===e&&"bottom"===t?n="bottom":"middle"===t&&"right"===e?n="right":"middle"===t&&"left"===e&&(n="left");return n}(e,t);let{x:m,y:f}=rect,{x:v,y:y}=rect;"top"===d?f+=l:"bottom"===d?(f-=l,y+=h):"right"===d?(m-=l,v+=c):"left"===d&&(m+=l);"center"===e?v=rect.x+c/2:"middle"===t&&(y=rect.y+h/2);return{direction:d,points:Vi(d,{x:v,y:y},n),x:m,y:f}}(rect,n,o,l))}(t)),{labelStyle:[l],labelStrokeStyle:[c],text:text}))}function Vi(e,{x:t,y:n},o){const r=o.width,l=o.height;let c=[];return"top"===e?c=[{x:t-r/2,y:n+l},{x:t,y:n},{x:t+r/2,y:n+l}]:"bottom"===e?c=[{x:t+r/2,y:n-l},{x:t,y:n},{x:t-r/2,y:n-l}]:"right"===e?c=[{x:t-l,y:n-r/2},{x:t,y:n},{x:t-l,y:n+r/2}]:"left"===e&&(c=[{x:t+l,y:n+r/2},{x:t,y:n},{x:t+l,y:n-r/2}]),c}const Gi=12,Xi={HEIGHT:6,PADDING:5},Ui={HEIGHT:28,POINT_WIDTH:8,POINT_HEIGHT:6,PADDING:6};function Ki(e,t,n){const{HEIGHT:o}=Xi;return{barWidth:n?e:o,barHeight:n?o:t-Gi}}function qi(e,t){const n=function(e){const{align:t,x:n,y:o,labels:r,width:l}=e;let c,h;return"top"===t?(c=n,h=o):"bottom"===t?(c=n,h=o+Ui.HEIGHT+Xi.HEIGHT+Xi.PADDING):"left"===t?(c=n+Pt(r),h=o):(c=n+l-Pt(r)-cs.X,h=o),{x:c,y:h}}(t),o=function(e){const{align:t,x:n,y:o,labels:r,width:l}=e,{PADDING:c}=Xi;let h,d;return"top"===t?(h=n,d=o+Gi+c):"bottom"===t?(h=n,d=o+Ui.HEIGHT):"left"===t?(h=n+Pt(r)+c,d=o+Gi/2):(h=n+l-(Pt(r)+cs.X+2*c+Xi.HEIGHT),d=o+Gi/2),{x:h,y:d}}(t);!function(e,t){const{labels:n,align:o,x:r,y:l,width:c,height:h,verticalAlign:d}=t,{barWidth:m,barHeight:f}=Ki(c,h,d),v=n.length-1,y={left:{textAlign:"right",textBaseline:"top"},right:{textAlign:"left",textBaseline:"top"},top:{textAlign:"center",textBaseline:"top"},bottom:{textAlign:"center",textBaseline:"top"}};n.forEach((text,t)=>{lt(e,{type:"label",x:d?r+m/v*t:r,y:d?l:l+f/v*t,text:text,style:["default",y[o]]})})}(e,Object.assign(Object.assign({},t),n)),function(e,t){const{width:n,height:o,startColor:r,endColor:l,x:c,y:h,verticalAlign:d}=t,{barWidth:m,barHeight:f}=Ki(n,o,d),v=d?e.createLinearGradient(c,h,c+m,h):e.createLinearGradient(c,h,c,h+f);v.addColorStop(0,r),v.addColorStop(1,l),e.fillStyle=v,e.fillRect(c,h,m,f)}(e,Object.assign(Object.assign({},t),o))}function Zi(e,t){const{x:n,y:o}=function(e){const{align:t,colorRatio:n,width:o,height:r,x:l,y:c,labels:h,verticalAlign:d}=e,{barWidth:m,barHeight:f}=Ki(o,r,d),{PADDING:v,HEIGHT:y}=Xi;return"top"===t?{x:l+m*n,y:c+Gi+y+2*v}:"bottom"===t?{x:l+m*n,y:c+Gi+2*v}:"left"===t?{x:l+Pt(h)+y+2*v,y:c+f*n+v}:"right"===t?{x:l+o-(Pt(h)+cs.X+3*v+y),y:c+f*n+v}:void 0}(t),{PADDING:r,POINT_HEIGHT:l,POINT_WIDTH:c}=Ui,{align:h,text:text,color:d}=t,m=vt(text)+2*r,f=Gi+2*r,v=h;let y=n,x=o;"top"===h?x+=l:"right"===h?(y-=m/2+l,x-=f/2):"left"===h?(y+=m/2+l,x-=f/2):"bottom"===h&&(x-=f+l);ut(e,{x:y-m/2,y:x,width:m,height:f,text:text,labelStyle:["default",{textAlign:"center"}],points:Vi(h,{x:n,y:o},{visible:!0,width:c,height:l}),direction:v,fill:d})}function polygon(e,t){const{color:n,points:o,lineWidth:r,fillColor:l,dashSegments:c=[]}=t;e.beginPath(),c&&Ie(e,c),o.forEach(({x:t,y:n},o)=>{0!==o?e.lineTo(t,n):e.moveTo(t,n)}),e.lineTo(o[0].x,o[0].y),l&&Ne(e,l),Ye(e,{lineWidth:r,strokeStyle:n}),e.closePath()}function Ji(e){switch(e){case"triangle":return 3;case"diamond":return 4;case"pentagon":return 5;case"hexagon":return 6}}function Qi(e,t){const{x:n,y:o,borderColor:r,borderWidth:l,fillColor:c,iconType:h,size:d}=t,m={x:n,y:o,fillColor:c,borderColor:r,borderWidth:l,size:d};switch(e.beginPath(),h){case"rect":tt(e,{type:"pathRect",x:n-d/2,y:o-d/2,width:d,height:d,stroke:r,lineWidth:l,fill:c});break;case"triangle":case"pentagon":case"diamond":case"hexagon":!function(e,t){const{numberOfSides:n,size:o,x:r,y:l,borderColor:c,borderWidth:h,fillColor:d}=t,s=o/2,m=n%2?Math.PI/180*(10+(n-3)/2)*n:0,f=2*Math.PI/n;e.beginPath();for(let i=0;i<=n;i+=1){const t=i*f+m;e.lineTo(r+s*Math.cos(t),l+s*Math.sin(t))}e.strokeStyle=c,e.lineWidth=h,Ne(e,d),e.stroke(),e.closePath()}(e,Object.assign({type:"regularPolygon",numberOfSides:Ji(h)},m));break;case"star":!function(e,t){const{x:n,y:o,borderColor:r,borderWidth:l,size:c,fillColor:h}=t;e.lineWidth=l,e.strokeStyle=r,e.fillStyle=h,e.save(),e.beginPath(),e.translate(n,o),e.moveTo(0,-c);for(let i=0;i<5;i+=1)e.rotate(Math.PI/5),e.lineTo(0,-c/2),e.rotate(Math.PI/5),e.lineTo(0,-c);e.fill(),e.stroke(),e.restore(),e.closePath()}(e,Object.assign(Object.assign({type:"star"},m),{size:d/2}));break;case"cross":!function(e,t){const{x:n,y:o,borderColor:r,borderWidth:l,size:c,fillColor:h}=t,d=c/4,m=c/2,f=[-m,-m,-d,-d,d,d,m,m,d,d,-d,-d],v=[];for(let e=0,t=f.length;e<t;e+=1){const n=9;v.push(f[(n+e)%t])}polygon(e,{type:"polygon",lineWidth:l,color:r,points:f.map((e,t)=>({x:n+e,y:o+v[t]})),fillColor:h})}(e,Object.assign({type:"cross"},m));break;default:circle(e,{type:"circle",x:n,y:o,radius:d/2,style:[{strokeStyle:r,lineWidth:l}],color:c})}e.stroke(),e.closePath()}const es=40,ts=5,is=13,ss=12,ns=12;function os(e){return e+is}function rs(e,t,n,o){const{active:r,checked:l}=o,c=r?"#bbb":Ke("#bbbbbb",.3);st(e,{type:"rect",x:t,y:n,width:ss,height:ss,color:"#fff",borderColor:c,thickness:1}),l&&function(e,t,n,o){const r=o?"#555555":Ke("#555555",.3);it(e,{type:"line",x:t+2,y:n+5,x2:t+5,y2:n+8,strokeStyle:r,lineWidth:2}),it(e,{type:"line",x:t+5,y:n+9,x2:t+10,y2:n+3,strokeStyle:r,lineWidth:2})}(e,t,n,r)}function as(e,t,n,o){const{iconType:r,active:l,color:c,showCheckbox:h}=o,d=t+(h?ss+ts:0),m=l?c:Ke(c,.3);"rect"===r?st(e,{type:"rect",x:d,y:n+(ss-10)/2,width:10,height:10,color:m}):"line"===r?function(e,t,n,o){const r=[2,2,6,6,10,10],l=[8,0,0,8,8,0];r.forEach((c,h)=>{5!==h&&it(e,{type:"line",x:t+c,y:n+l[h],x2:t+r[h+1],y2:n+l[h+1],lineWidth:2,strokeStyle:o})})}(e,d,n+2,m):"circle"===r&&circle(e,{type:"circle",x:d+6,y:n+6,radius:6,color:m,style:["default"]})}function ls(e,t){const{data:data,showCheckbox:n,align:o,fontSize:r,fontFamily:l,fontWeight:c}=t,h=Ee({fontSize:r,fontFamily:l,fontWeight:c}),d=t.color;data.forEach(t=>{const{x:r,y:l,checked:c,active:m,color:f,iconType:v,useScatterChartIcon:y,label:x}=t,S=l-1+(bt(x,h)-11)/4,O={iconType:v,checked:c,active:m,color:f,showCheckbox:n,align:o,font:h,fontColor:d};n&&rs(e,r,S,O),y&&"line"!==v?function(e,t,n,o){const{iconType:r,active:l,color:c,showCheckbox:h}=o;Qi(e,{type:"scatterSeries",iconType:r,x:t+(h?ss+ts:0)+6,y:n+6,borderColor:l?c:Ke(c,.3),size:12,fillColor:"rgba(255, 255, 255, 0)",borderWidth:1.5})}(e,r,S,O):as(e,r,S,O),function(e,t,n,text,o){const{active:r,showCheckbox:l,font:c,fontColor:h}=o,d=r?h:Ke(h,.3);lt(e,{type:"label",x:t+ns+ts+(l?ss+ts:0),y:n,text:text,style:["default",{font:c,textBaseline:"top",fillStyle:d}]})}(e,r,l,x,O)})}const cs={X:10,Y:15};function hs(e){return"top"===e||"bottom"===e}function ds(e,t,n){var o,r,l,c;return{height:(r=null===(o=e)||void 0===o?void 0:o.height,null!=r?r:n),width:(c=null===(l=e)||void 0===l?void 0:l.width,null!=c?c:t)}}function us(e){const{yAxisTitle:t,isRightSide:n,visibleSecondaryYAxis:o}=e,r=ps(e);return n&&o?Math.max(t.x+t.width-r,0):t.x}function ps({maxLabelWidth:e,size:t,isRightSide:n}){var o,r,l;return null!=(l=null===(r=null===(o=t)||void 0===o?void 0:o[n?"secondaryYAxis":"yAxis"])||void 0===r?void 0:r.width)?l:e}function ms(e){var t,n;const{size:o,isRightSide:r=!1}=e,l=function(e){const{chartSize:t,legend:legend,circleLegend:n,hasCenterYAxis:o,maxLabelWidth:r}=e,{width:l}=t,{align:c}=legend;let h=ps(e),d=us(e);return o&&(h=r+2*(mt+cs.X),d=(l-legend.width-h+2*cs.X)/2),legend.visible&&"left"===c&&(d=us(e)),n.visible&&"left"===c&&(d=Math.max(n.width+cs.X,d)),d}(e),c=function({yAxisTitle:e}){return e.y+e.height}(e),h=function(e){const{hasCenterYAxis:t,hasAxis:n,maxLabelWidth:o,visibleSecondaryYAxis:r=!1,isRightSide:l=!1}=e;let c=ps(e);return t&&!l?c=o+2*(mt+cs.X):(!n||l&&!r)&&(c=0),c}(e),d=function({chartSize:e,legend:legend,yAxisTitle:t,hasAxis:n,size:o,xAxisTitleHeight:r,legendItemHeight:l}){var c,h,d,m;const{height:f}=e,{align:v,useSpectrumLegend:y}=legend,x=function(e){var t;return(null===(t=e.xAxis)||void 0===t?void 0:t.height)&&!e.yAxis?e.xAxis.height:20}(o),S=t.y+t.height;let O=f-S-x-r;if(n||(O=f-S),legend.visible){const e=fs(y,l),t=Math.max(S,e);"top"===v?O=f-t-(n?20+r:0):"bottom"===v&&(O=f-S-20-r-l)}return!(null===(h=null===(c=o)||void 0===c?void 0:c.yAxis)||void 0===h?void 0:h.height)&&(null===(m=null===(d=o)||void 0===d?void 0:d.plot)||void 0===m?void 0:m.height)&&(O=o.plot.height),O}(e);return Object.assign({x:l,y:c},ds(r?null===(t=o)||void 0===t?void 0:t.secondaryYAxis:null===(n=o)||void 0===n?void 0:n.yAxis,h,d))}function gs(e){var t;const{hasAxis:n,hasCenterYAxis:o,yAxis:r,size:l,xAxisData:c}=e,h=o?2*cs.X:r.x+r.width,d=r.y+r.height,m=function({chartSize:e,yAxis:t,hasCenterYAxis:n,legend:legend,circleLegend:o,secondaryYAxis:r,xAxisData:l}){var c;const{width:h}=e,{align:d,width:m}=legend,f=hs(d);let v;return f?(v=h-(t.x+t.width+cs.X),o.visible&&(v-=o.width)):v=h-(t.width+Math.max(m,o.width)),n&&(v=h-(f?0:m)-2*cs.X),r.width&&(v-=r.width),(null===(c=l)||void 0===c?void 0:c.maxLabelWidth)&&(v-=.5*l.maxLabelWidth),v}(e),f=function(e,t=!1){var n,o;return t?null!=(o=null===(n=e)||void 0===n?void 0:n.maxHeight)?o:20:0}(c,n);return Object.assign({x:h,y:d},ds(null===(t=l)||void 0===t?void 0:t.xAxis,m,f))}function fs(e,t){return e?Gi+2*Xi.PADDING+Ui.POINT_HEIGHT+Ui.HEIGHT+cs.Y:t+cs.Y}function vs({chartSize:e,visible:t,title:title,legend:{align:n,width:o,visible:r,useSpectrumLegend:l},hasCenterYAxis:c,visibleSecondaryYAxis:h,isRightSide:d=!1,yAxisTitleHeight:m,legendItemHeight:f}){const v=t?m+5:0,y=hs(n),x=(e.width-(y?2*cs.X:o))/(h?2:1),S={x:d?title.x+x:title.x,y:title.y+title.height};return r&&("left"===n?S.x+=o:"top"===n&&(S.y+=fs(l,f))),c&&(S.x=(x+2*cs.X)/2),Object.assign({height:v,width:x},S)}function bs(e){var t;return!!(null===(t=e.series)||void 0===t?void 0:t.zoomable)}function ys(e){var t;const n=null===(t=e.exportMenu)||void 0===t?void 0:t.visible;return!!A(n)||n}function xs(e){return e?e+cs.X:40}function Ss(option){return!option||A(option.width)&&A(option.height)?null:z(option,"width","height")}function Os(e,t,n){const o=e[n],r=t[n];if(T(o)&&T(r))return Math.max(o,r)}function ws(e,t=0){return(Array.isArray(e)?Math.max(e[0].title.fontSize,e[1].title.fontSize):e.title.fontSize)+t}var Ms={name:"layout",state:()=>({layout:{}}),action:{setLayout({state:e}){var t,n,o,r,l,c,h,d,m,f,v,y,x,S,O,w,M,A;const{legend:C,theme:k,circleLegend:T,series:j,options:D,chart:B,axes:P}=e,{width:R,height:E}=B,L={height:E-2*cs.Y,width:R-2*cs.X},z=Mi(D,!!j.bar),I=!(j.pie||j.radar||j.treemap),W=function(e){const t=Ss(e.xAxis),n=ti(e),o=Ss(n.yAxis),r=Ss(n.secondaryYAxis),l=Ss(e.plot);return l&&(t&&(t.width=l.width=Os(t,l,"width")),o&&(o.height=l.height=Os(o,l,"height")),r&&(r.height=l.height=Os(r,l,"height"))),{xAxis:t,yAxis:o,plot:l,secondaryYAxis:r}}(D),{yAxis:N,secondaryYAxis:Y}=ti(D),_=!!Y,H=k.title.fontSize,F=null!=(r=ws(k.yAxis,null===(o=null===(n=null===(t=P)||void 0===t?void 0:t.yAxis)||void 0===n?void 0:n.title)||void 0===o?void 0:o.offsetY))?r:0,$=null!=(d=ws(k.xAxis,null===(h=null===(c=null===(l=P)||void 0===l?void 0:l.xAxis)||void 0===c?void 0:c.title)||void 0===h?void 0:h.offsetY))?d:0,V=os(k.legend.label.fontSize),G=function(e,t){return{x:t?cs.X+e.width-24:cs.X+e.width,y:cs.Y,height:t?29:0,width:t?24:0}}(L,ys(D)),X=function(e,t){return{x:t?e.x-24-cs.X:0,y:t?e.y:0,height:t?29:0,width:t?24:0}}(G,bs(D)),title=function(e,t,n,o){const r={x:cs.X,y:cs.Y},l=n?e.width-t.width:0,c=n?Math.max(o+5,t.height):t.height;return Object.assign({width:l,height:c},r)}(L,G.height?G:X,!!(null===(m=D.chart)||void 0===m?void 0:m.title),H),U=vs({chartSize:L,visible:!!(null===(f=N)||void 0===f?void 0:f.title)||!!(null===(v=Y)||void 0===v?void 0:v.title),title:title,legend:C,hasCenterYAxis:z,visibleSecondaryYAxis:_,yAxisTitleHeight:F,legendItemHeight:V}),K=ms({chartSize:L,legend:C,circleLegend:T,yAxisTitle:U,hasCenterYAxis:z,hasAxis:I,maxLabelWidth:xs(null===(y=P)||void 0===y?void 0:y.yAxis.maxLabelWidth),size:W,xAxisTitleHeight:$,legendItemHeight:V}),Z=vs({chartSize:L,visible:!!(null===(x=N)||void 0===x?void 0:x.title)||!!(null===(S=Y)||void 0===S?void 0:S.title),title:title,legend:C,hasCenterYAxis:z,isRightSide:!0,visibleSecondaryYAxis:_,yAxisTitleHeight:F,legendItemHeight:V}),J=ms({chartSize:L,legend:C,circleLegend:T,yAxisTitle:Z,hasCenterYAxis:z,hasAxis:I,maxLabelWidth:xs(null===(w=null===(O=P)||void 0===O?void 0:O.secondaryYAxis)||void 0===w?void 0:w.maxLabelWidth),size:W,isRightSide:!0,visibleSecondaryYAxis:_,xAxisTitleHeight:$,legendItemHeight:V}),Q=gs({chartSize:L,yAxis:K,secondaryYAxis:J,legend:C,circleLegend:T,hasCenterYAxis:z,hasAxis:I,size:W,xAxisData:null===(M=P)||void 0===M?void 0:M.xAxis}),ee=function(e,t,n){const o={x:t.x,y:t.y+t.height},r=e?n:0,l=e?t.width:0;return Object.assign({height:r,width:l},o)}(!!(null===(A=D.xAxis)||void 0===A?void 0:A.title),Q,$),legend=function(e){const{legend:legend,xAxis:t,yAxis:n,chartSize:o,title:title,hasAxis:r,secondaryYAxis:l,xAxisTitleHeight:c,legendItemHeight:h}=e;if(!legend.visible)return{x:0,y:0,width:0,height:0};const{align:d,width:m}=legend,{width:f}=o,v=hs(d);let y=t.x+t.width+l.width+cs.X,x=Math.max(n.y,24),S=n.height-t.height;return v?(y=(f-m)/2,S=fs(legend.useSpectrumLegend,h),x="top"===d?title.y+title.height:n.y+n.height+(r?t.height+c:cs.Y)):"left"===d&&(y=cs.X),{width:m,height:S,x:y,y:x}}({chartSize:L,xAxis:Q,yAxis:K,secondaryYAxis:J,title:title,legend:C,hasAxis:I,xAxisTitleHeight:$,legendItemHeight:V});!function({width:e,height:t},n,o){if(e<0||t<0)return;const{title:title,yAxisTitle:r,yAxis:l,xAxis:c,xAxisTitle:h,legend:legend,secondaryYAxis:d}=n,{align:m}=o,f=hs(m),v=f?legend.height:0,y=c.height+h.height+l.height+r.height+title.height+v-t;y>0&&(l.height-=y,c.y-=y,h.y-=y,f&&(legend.y-=y)),d.x=c.x+c.width,d.height=l.height}(L,{title:title,yAxisTitle:U,yAxis:K,xAxis:Q,xAxisTitle:ee,legend:legend,secondaryYAxis:J},C);const te=function(e,t,n,o){return{width:o,height:t.height,x:"left"===n?cs.X:e.x+e.width+cs.X,y:t.y}}(Q,K,C.align,T.width),ie=function(e,t,n){return Object.assign({x:e.x,y:t.y},ds(n,Math.max(e.width,1),Math.max(t.height,1)))}(Q,K,W.plot);we(e.layout,{chart:{x:0,y:0,width:R,height:E},title:title,plot:ie,legend:legend,circleLegend:te,xAxis:Q,xAxisTitle:ee,yAxis:K,yAxisTitle:U,exportMenu:G,resetButton:X,secondaryYAxisTitle:Z,secondaryYAxis:J})}},observe:{updateLayoutObserve(){this.dispatch("setLayout")}}};function As(e,t){if(t)return t;const n=new Set;return Object.keys(e).forEach(t=>{var o;"pie"!==t&&(o=e[t].data,null!=o?o:e[t]).forEach(({data:data,name:e})=>{Array.isArray(data)?data.forEach(e=>{if(!C(e)){const t=Si(e);n.add(T(t)?t:t.toString())}}):"bullet"===t&&n.add(e)})}),Array.from(n).sort(F).map(e=>String(e))}var Cs={name:"category",state:({categories:e,series:t})=>({categories:As(t,e)}),action:{setCategory({state:e,computed:t}){const{viewRange:n}=t;let o=e.rawCategories;n&&(o=Array.isArray(o)?yi(o,n):Object.assign(Object.assign({},o),{x:yi(o.x,n)})),e.categories=o,this.notify(e,"categories")},initCategory({initStoreState:e,state:t}){const{zoomRange:n}=t;let o=As(e.series);n&&Array.isArray(o)&&(o=yi(o,n)),t.categories=o,this.notify(t,"categories")}},observe:{updateCategory(){this.dispatch("setCategory")}}};function ks(e,t){let n;return n=t?Array.isArray(t)?t.length:t.x.length:Object.keys(As(e,t)).length,[0,n-1]}function Ts(e,t,n){var o;if((e.line||e.area)&&(null===(o=t.series)||void 0===o?void 0:o.zoomable))return ks(e,n)}function js(e,t,n){var o;if((e.line||e.area||e.column||e.heatmap)&&(null===(o=t.series)||void 0===o?void 0:o.shift))return ks(e,n)}function Ds(data,e,t,n){if(!n)return data;let[o,r]=n;return"area"!==t&&!T(Z(data))?[o,r]=function(data,e,t){const[n,o]=t;let r,l;return E(n,o+1).forEach(i=>{const t=data.findIndex(t=>Si(t).toString()===e[i]);-1!==t&&(A(r)&&(r=t),A(r)||(l=Math.max(t,null!=l?l:0)))}),[r,l]}(data,e,n):(o=o>1?o-1:o,r=r<e.length-1?r+1:r),data.slice(o,r+1)}function Bs(e,t){return wi(e)&&(A(t)||"line"===t||"scatter"===t)}var Ps={name:"seriesData",state:({series:e,categories:t,options:n})=>({rawCategories:As(e,t),series:Object.assign({},e),zoomRange:Ts(e,n,t),shiftRange:js(e,n,t),disabledSeries:[]}),action:{setSeriesData({state:e,initStoreState:t}){const n=H(t.series),{disabledSeries:o,theme:r,zoomRange:l,rawCategories:c}=e,h={};Object.keys(n).forEach(e=>{var t,d,m;const{colors:f,iconTypes:v}=r.series[e];let y=n[e].map((t,n)=>Object.assign(Object.assign({},t),{rawData:t.data,data:Ds(t.data,c,e,l),color:f?f[n]:""}));"scatter"===e&&(y=y.map((e,t)=>Object.assign(Object.assign({},e),{iconType:v?v[t]:"circle"})));const x=y.length,S=null!=(m=null===(d=null===(t=y[0])||void 0===t?void 0:t.data)||void 0===d?void 0:d.length)?m:0,data=y.filter(({name:e})=>!o.includes(e));h[e]={seriesCount:x,seriesGroupCount:S,data:data,colors:f}}),we(e.series,h)},disableSeries({state:e},t){if(e.disabledSeries.push(t),this.notify(e,"disabledSeries"),e.series.bullet){const n=e.categories.findIndex(e=>e===t);e.categories.splice(n,1),this.notify(e,"axes")}},enableSeries({state:e},t){const n=e.disabledSeries.findIndex(e=>e===t);e.disabledSeries.splice(n,1),this.notify(e,"disabledSeries"),e.series.bullet&&(e.categories=e.series.bullet.data.map(({name:e})=>e),this.notify(e,"axes"))},zoom({state:e},t){const n=e.rawCategories;e.zoomRange=t.map(e=>n.findIndex(t=>t===e)),this.notify(e,"zoomRange")},resetZoom({state:e,initStoreState:t}){const{series:n,options:o}=t,r=e.rawCategories;e.zoomRange=Ts(n,o,r),this.notify(e,"zoomRange")},addData({state:e,initStoreState:t},{data:data,category:n,chartType:o}){const{series:r}=t,l=Bs(e.series,o);let{categories:c}=t;if(c=r.heatmap?c.x:c,n&&Array.isArray(c)){if(!c.some(e=>e===n)&&(c.push(n),Array.isArray(e.shiftRange))){const[t,n]=e.shiftRange;e.shiftRange=[t+1,n+1]}}if(o)r[o].forEach((e,t)=>{e.data.push(data[t])});else{const[e]=Object.keys(t.series);r[e].forEach((e,t)=>{e.data.push(data[t])})}this.notify(e,"series"),this.notify(e,"rawCategories"),Array.isArray(e.zoomRange)&&this.dispatch("resetZoom"),l&&this.dispatch("initCategory")},addSeries({state:e,initStoreState:t},{data:data,chartType:n,category:o}){const{series:r,categories:l}=t,c=Bs(e.series,n),h=n||Object.keys(r)[0];(function(e,t,data){return e[t].some(({label:label})=>label===data.name)})(r,h,data)||(r[h].push(data),Array.isArray(l)&&o&&l.push(o)),this.dispatch("initThemeState"),this.dispatch("initLegendState"),this.notify(e,"series"),(c||"bullet"===h)&&this.dispatch("initCategory")},addHeatmapSeries({state:e,initStoreState:t},{data:data,category:n}){const{series:o,categories:r}=t,l=function(e,t){return L(e.y,t)}(r,n);l||o.heatmap.push({data:data,yCategory:n}),!l&&n&&(r.y.push(n),this.notify(e,"rawCategories")),this.notify(e,"series"),this.dispatch("initThemeState"),this.dispatch("initLegendState")},addTreemapSeries({state:e,initStoreState:t},{data:data}){const{series:n}=t;(function(e,data){return e.treemap.some(({label:label})=>label===data.label)})(n,data)||n.treemap.push(data),this.notify(e,"series"),this.notify(e,"treemapSeries"),this.dispatch("initThemeState"),this.dispatch("initLegendState")},setData({state:e,initStoreState:t},{series:n,categories:o}){t.series=n,e.rawCategories=As(n,o),this.dispatch("initThemeState"),this.dispatch("initLegendState")}},observe:{updateSeriesData(){this.dispatch("setSeriesData")}},computed:{isLineTypeSeriesZooming:({zoomRange:e,rawCategories:t})=>bi(t,e),viewRange:({zoomRange:e,shiftRange:t})=>e||t}};const Rs=.1,Es=1;function Ls(e,t,n){const o=Math.abs(n-t);return 360===o||e?o:360-o}function zs(e,t=""){return e.filter(({data:data})=>!C(data)).map(({data:data,name:e,color:n,rootParentName:o})=>({label:e,color:n,value:data,category:t,rootParentName:o,templateType:"pie"}))}function Is(e){return!(!e.pie||!Array.isArray(e.pie[0].data))}function Ws(e){return e.pie.map(({name:e})=>e)}function Ns(e){const t=e.toFixed(2),n=parseFloat(t);return(t.length>5?parseFloat(t.substr(0,4)):String(n))+"%"}function Ys(e,t){var n,o,r;return!!t.pie&&"outer"===(null===(r=null===(o=null===(n=e)||void 0===n?void 0:n.series)||void 0===o?void 0:o.dataLabels)||void 0===r?void 0:r.anchor)}function _s(e,t){var n,o,r,l;return!!t.pie&&"outer"===(null===(l=null===(r=null===(o=null===(n=e)||void 0===n?void 0:n.series)||void 0===o?void 0:o.dataLabels)||void 0===r?void 0:r.pieSeriesName)||void 0===l?void 0:l.anchor)}const Hs=2,Fs=3,$s=4,Vs=.3,Gs=.05,Xs=4,Us={shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetX:2,shadowOffsetY:2,shadowBlur:6},Ks=4,qs=2,Zs={whisker:{lineWidth:1},maximum:{lineWidth:1},minimum:{lineWidth:1},median:{lineWidth:1,color:"#ffffff"}},Js=[.5,.3,.1];const Qs={width:8,height:6},en={colors:["#00a9ff","#ffb840","#ff5a46","#00bd9f","#785fff","#f28b8c","#989486","#516f7d","#29dbe3","#dddddd","#64e38b","#e3b664","#fB826e","#64e3C2","#f66efb","#e3cd64","#82e364","#8570ff","#e39e64","#fa5643","#7a4b46","#81b1c7","#257a6c","#58527a","#fbb0b0","#c7c7c7"],startColor:"#ffe98a",endColor:"#d74177",lineWidth:2,dashSegments:[],borderWidth:0,borderColor:"#ffffff",select:{dot:{radius:3,borderWidth:5},areaOpacity:.3,restSeries:{areaOpacity:.06}},hover:{dot:{radius:3,borderWidth:5}},dot:{radius:3},areaOpacity:.3};function tn(e="Arial"){return{fontSize:11,fontFamily:e,fontWeight:700,color:"#bbbbbb"}}function sn(e="Arial"){const t=tn(e),n=function(e="Arial"){return{fontSize:11,fontFamily:e,fontWeight:"normal",color:"#333333"}}(e);return{chart:{fontFamily:e,backgroundColor:"#ffffff"},title:{fontSize:18,fontFamily:e,fontWeight:100,color:"#333333"},yAxis:{title:Object.assign({},t),label:Object.assign({},n),width:1,color:"#333333"},xAxis:{title:Object.assign({},t),label:Object.assign({},n),width:1,color:"#333333"},legend:{label:{color:"#333333",fontSize:11,fontWeight:"normal",fontFamily:e}},tooltip:{background:"rgba(85, 85, 85, 0.95)",borderColor:"rgba(255, 255, 255, 0)",borderWidth:0,borderRadius:3,borderStyle:"solid",body:{fontSize:12,fontFamily:e+", sans-serif",fontWeight:"normal",color:"#ffffff"},header:{fontSize:13,fontFamily:e+", sans-serif",fontWeight:"bold",color:"#ffffff"}},plot:{lineColor:"rgba(0, 0, 0, 0.05)",backgroundColor:"rgba(255, 255, 255, 0)"},exportMenu:{button:Object.assign(Object.assign({},nn(5,"#f4f4f4")),{backgroundColor:"#f4f4f4",xIcon:{color:"#555555",lineWidth:2},dotIcon:{color:"#555555",width:2,height:2,gap:2}}),panel:Object.assign(Object.assign({},nn(0,"#bab9ba")),{header:Object.assign(Object.assign({},n),{backgroundColor:"#f4f4f4"}),body:Object.assign(Object.assign({},n),{backgroundColor:"#ffffff"})})}}}function nn(e,t,n=1){return{borderWidth:n,borderRadius:e,borderColor:t}}function on(e=!1,t=7,n=5,o=1,r="#ffffff"){return{visible:e,paddingX:n,paddingY:o,borderRadius:t,backgroundColor:r,shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffsetY:2,shadowBlur:4}}function rn(e,t,{hasOuterAnchor:n=!1,hasOuterAnchorPieSeriesName:o=!1},r=!1){const l=function(e="Arial"){return{fontFamily:e,fontSize:11,fontWeight:400,color:"#333333",useSeriesColor:!1}}(e),c={lineWidth:en.lineWidth,dashSegments:en.dashSegments,select:{dot:en.select.dot},hover:{dot:en.hover.dot},dot:en.dot,dataLabels:Object.assign(Object.assign({},l),{textBubble:Object.assign(Object.assign({},on()),{arrow:Object.assign({visible:!1,direction:"bottom"},Qs)})})};switch(t){case"line":return Object.assign({},c);case"area":return Object.assign(Object.assign({},c),{select:Object.assign(Object.assign({},c.select),{areaOpacity:.3,restSeries:en.select.restSeries}),areaOpacity:.3});case"treemap":case"heatmap":return{startColor:en.startColor,endColor:en.endColor,borderWidth:0,borderColor:"#ffffff",hover:{borderWidth:Xs,borderColor:"#ffffff"},select:{borderWidth:Xs,borderColor:"#ffffff"},dataLabels:Object.assign(Object.assign({},l),{color:"#ffffff",textBubble:Object.assign({},on(!1,1,5,1,"rgba(255, 255, 255, 0.5)"))})};case"scatter":return{size:12,borderWidth:1.5,fillColor:"rgba(255, 255, 255, 0)",select:{fillColor:"rgba(255, 255, 255, 1)",borderWidth:2.5,size:12},hover:{fillColor:"rgba(255, 255, 255, 1)",borderWidth:2.5,size:12}};case"bubble":return{borderWidth:0,borderColor:"rgba(255, 255, 255, 0)",select:{},hover:{shadowColor:"rgba(0, 0, 0, 0.3)",shadowBlur:2,shadowOffsetY:2,lineWidth:2}};case"radar":return{areaOpacity:Vs,hover:{dot:{radius:$s,borderWidth:$s+1}},select:{dot:{radius:$s,borderWidth:$s+1},restSeries:{areaOpacity:Gs},areaOpacity:Vs},dot:{radius:Fs}};case"bar":case"column":return{colorByPoint:!1,areaOpacity:1,hover:Object.assign(Object.assign({},Us),{borderWidth:Xs,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.05}}),select:Object.assign(Object.assign({},Us),{borderWidth:Xs,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.2},restSeries:{areaOpacity:.2},areaOpacity:1}),connector:{color:"rgba(51, 85, 139, 0.3)",lineWidth:1,dashSegments:[]},dataLabels:Object.assign(Object.assign({},l),{textBubble:Object.assign(Object.assign({},on(!1,1,4,3)),{arrow:Object.assign({visible:!1},Qs)}),stackTotal:Object.assign(Object.assign({},l),{textBubble:Object.assign(Object.assign({},on(!0,1,4,3)),{arrow:Object.assign({visible:!0},Qs)})})})};case"bullet":return{areaOpacity:1,barWidthRatios:{rangeRatio:1,bulletRatio:.5,markerRatio:.8},markerLineWidth:1,borderWidth:0,borderColor:"rgba(255, 255, 255, 0)",hover:Object.assign(Object.assign({},Us),{borderWidth:Xs,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.05}}),select:Object.assign(Object.assign({},Us),{borderWidth:Xs,borderColor:"#ffffff",groupedRect:{color:"#000000",opacity:.2},restSeries:{areaOpacity:.2},areaOpacity:1}),dataLabels:Object.assign(Object.assign({},l),{textBubble:Object.assign(Object.assign({},on()),{arrow:Object.assign({visible:!1},Qs)}),marker:Object.assign(Object.assign({},l),{fontSize:9,useSeriesColor:!0,textBubble:Object.assign(Object.assign({},on(!0)),{backgroundColor:"rgba(255, 255, 255, 0.8)",shadowColor:"rgba(0, 0, 0, 0.0)",shadowOffsetX:0,shadowOffsetY:0,shadowBlur:0,arrow:Object.assign({visible:!1},Qs)})})})};case"boxPlot":return{areaOpacity:1,barWidthRatios:{barRatio:1,minMaxBarRatio:.5},markerLineWidth:1,dot:{color:"#ffffff",radius:Ks,borderWidth:qs,useSeriesColor:!1},rect:{borderWidth:0},line:Object.assign({},Zs),hover:Object.assign(Object.assign({},Us),{rect:{borderWidth:Xs,borderColor:"#ffffff"},dot:{radius:Ks,borderWidth:0,useSeriesColor:!0},line:Object.assign({},Zs)}),select:Object.assign(Object.assign({},Us),{rect:{borderWidth:Xs,borderColor:"#ffffff"},dot:{radius:Ks,borderWidth:0,useSeriesColor:!0},line:Object.assign({},Zs),restSeries:{areaOpacity:.2},areaOpacity:1})};case"pie":return{areaOpacity:1,strokeStyle:r?"#ffffff":"rgba(255, 255, 255, 0)",lineWidth:r?1:0,hover:{lineWidth:3,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0},select:{lineWidth:3,strokeStyle:"#ffffff",shadowColor:"#cccccc",shadowBlur:5,shadowOffsetX:0,shadowOffsetY:0,restSeries:{areaOpacity:.3},areaOpacity:1},dataLabels:{fontFamily:"Arial",fontSize:16,fontWeight:600,color:n?"#333333":"#ffffff",useSeriesColor:n,textBubble:Object.assign({},on(!1,0)),callout:{lineWidth:1,useSeriesColor:!0,lineColor:"#e9e9e9"},pieSeriesName:Object.assign(Object.assign({},l),{useSeriesColor:o,color:o?"#333333":"#ffffff",textBubble:Object.assign({},on(!1,0))})}};default:return{}}}function an(e){var t,n;return!!A(null===(t=e.legend)||void 0===t?void 0:t.showCheckbox)||!!(null===(n=e.legend)||void 0===n?void 0:n.showCheckbox)}function ln(e){let t="spectrum";return!function(e){return L(["bubble","scatter"],e)}(e)?!function(e){return L(["bar","column","area","pie","boxPlot","bullet"],e)}(e)?function(e){return L(["line","radar"],e)}(e)&&(t="line"):t="rect":t="circle",t}function cn(label,e,t,n){return(t?0:(e?ss+ts:0)+ns+ts)+vt(label,n)}function hn(e){var t;return T(null===(t=e.chart)||void 0===t?void 0:t.width)?e.chart.width:0}function dn(data,e){const t=Object.values(e).reduce((e,t)=>t&&t.colors?[...e,...t.colors]:e,[]);return data.map((e,n)=>Object.assign(Object.assign({},e),{color:t[n]}))}function un(e,t){var n,o,r,l,c,h,d,m,f;const v=an(e),y=null!=(r=null===(o=null===(n=e)||void 0===n?void 0:n.series)||void 0===o?void 0:o.useColorValue)?r:!!t.heatmap,x=!!(null===(l=t)||void 0===l?void 0:l.scatter),S=Ee(Y(sn(null===(d=null===(h=null===(c=e)||void 0===c?void 0:c.theme)||void 0===h?void 0:h.chart)||void 0===d?void 0:d.fontFamily).legend.label,Object.assign({},null===(f=null===(m=e.theme)||void 0===m?void 0:m.legend)||void 0===f?void 0:f.label))),data=(Is(t)?function(e){const t=[];return e.pie.forEach(({data:data})=>{data.forEach(({name:e,parentName:n})=>{n||t.push({label:e,type:"pie"})})}),t}(t):function(e){return Object.keys(e).flatMap(t=>e[t].map(({name:e,colorValue:n})=>({label:n||e,type:t})))}(t)).map(({label:label,type:e})=>({label:label,active:!0,checked:!0,width:cn(label,v,y,S),iconType:ln(e),chartType:e}));return{useSpectrumLegend:y,useScatterChartIcon:x,data:data}}var pn={name:"legend",state:({options:e,series:t})=>({legend:un(e,t),circleLegend:{}}),action:{initLegendState({state:e,initStoreState:t}){we(e.legend,un(t.options,t.series))},setLegendLayout({state:e,initStoreState:t}){const{legend:{data:n,useSpectrumLegend:o},series:r,options:l}=e,c=function(e){var t,n;return A(null===(t=e.legend)||void 0===t?void 0:t.align)?"right":null===(n=e.legend)||void 0===n?void 0:n.align}(l),h=function(e,t){var n,o,r;return!(t.treemap&&!(null===(n=e.series)||void 0===n?void 0:n.useColorValue))&&(!!A(null===(o=e.legend)||void 0===o?void 0:o.visible)||!!(null===(r=e.legend)||void 0===r?void 0:r.visible))}(l,r),d=an(l),m=Math.min(hn(l)/10,150),f=function({defaultWidth:e,legendWidths:t,useSpectrumLegend:n,options:o,align:r,visible:l,checkbox:c}){var h,d;const m=hs(r),f=null===(h=o)||void 0===h?void 0:h.legend;let v=e;if(!l)return 0;if(null===(d=f)||void 0===d?void 0:d.width)return f.width;if(n&&m){const e=U(t);v=Math.max(hn(o)/4,e)}else if(n&&!m){const e=2*Ui.PADDING+2*Xi.PADDING+Ui.POINT_HEIGHT+Xi.HEIGHT+2*cs.X;v=Math.max(...t)+e}else if(!n&&m)v=U(t)+es*(t.length-1);else{const e=Math.max(...t);v=(c?ss+ts:0)+ns+ts+Math.max(e,v)}return v}({defaultWidth:m,legendWidths:n.map(({width:e})=>e),useSpectrumLegend:o,options:l,align:c,visible:h,checkbox:d}),v=Is(t.series),y=!!r.scatter,x=hs(c)?m:Math.max(m,f),S=!!r.bubble&&function(e){var t,n,o,r;return!!A(null===(n=null===(t=e)||void 0===t?void 0:t.circleLegend)||void 0===n?void 0:n.visible)||!!(null===(r=null===(o=e)||void 0===o?void 0:o.circleLegend)||void 0===r?void 0:r.visible)}(l);we(e.legend,{visible:h,align:c,showCheckbox:d,width:f}),we(e.circleLegend,{visible:S,width:S?x:0,radius:S?Math.max((x-ts)/2,0):0}),v||this.dispatch("updateLegendColor"),y&&this.dispatch("updateLegendIcon")},setLegendActiveState({state:e},{name:t,active:n}){const{data:data}=e.legend;data.find(({label:label})=>label===t).active=n,this.notify(e,"legend")},setAllLegendActiveState({state:e},t){e.legend.data.forEach(e=>{e.active=t}),this.notify(e,"legend")},setLegendCheckedState({state:e},{name:t,checked:n}){e.legend.data.find(({label:label})=>label===t).checked=n,this.notify(e,"legend")},updateLegendColor({state:e}){var t,n,o;const{legend:r,series:l,options:c}=e,data=(null!=(o=null===(n=null===(t=c)||void 0===t?void 0:t.series)||void 0===n?void 0:n.useColorValue)?o:!!l.heatmap)?r.data:dn(r.data,l);we(e.legend,{data:data})},updateLegendIcon({state:e}){const{legend:t,series:n}=e,data=t.data.reduce((e,t)=>{var o;if("scatter"===t.chartType&&(null===(o=n.scatter)||void 0===o?void 0:o.data)){const o=n.scatter.data.find(({name:e})=>e===t.label),r=o?o.iconType:t.iconType;return[...e,Object.assign(Object.assign({},t),{iconType:r})]}return[...e,t]},[]);we(e.legend,{data:data})},updateNestedPieChartLegend({state:e}){const{legend:t,nestedPieSeries:n}=e;we(e.legend,{data:dn(t.data,n)})}},observe:{updateLegendLayout(){this.dispatch("setLegendLayout")}}};function mn(e,t,n){var o,r;const{width:l,height:c}=e;return{width:l?t.width:null===(o=n)||void 0===o?void 0:o.width,height:c?t.height:null===(r=n)||void 0===r?void 0:r.height}}var gn={name:"options",state:({options:e})=>({originalOptions:H(e),options:e}),action:{setOptions({state:e}){const{width:t,height:n}=e.chart;t<0||n<0||(e.options=function(e,t){var n;const o=null===(n=t.responsive)||void 0===n?void 0:n.rules;return Array.isArray(o)?o.reduce((t,n)=>n.condition(e)?Y(t,n.options):t,t):t}({width:t,height:n},e.originalOptions))},initOptions({initStoreState:e,state:t},{options:n,containerSize:o}){e.options=n,t.originalOptions=H(n);const{usingContainerSize:r,originalOptions:l}=t,c=mn(r,o,{width:l.chart.width,height:l.chart.height});this.dispatch("setChartSize",c)},updateOptions({state:e,initStoreState:t},{options:n,containerSize:o}){var r,l;t.options=Y(t.options,n),e.originalOptions=Y(e.originalOptions,n);const{usingContainerSize:c,originalOptions:h}=e,d=mn(c,o,{width:null===(r=h.chart)||void 0===r?void 0:r.width,height:null===(l=h.chart)||void 0===l?void 0:l.height});this.dispatch("setChartSize",d),this.dispatch("initThemeState")}},observe:{updateOptions(){this.dispatch("setOptions")}}};function fn(e,t,n,o){var r;const l=function(e){var t,n,o;const r=Object.assign({},e.theme);if(!Array.isArray(r.yAxis))return r;const l=tn(null===(o=null===(n=null===(t=e)||void 0===t?void 0:t.theme)||void 0===n?void 0:n.chart)||void 0===o?void 0:o.fontFamily),c=r.yAxis.map(e=>Y({title:Object.assign({},l)},Object.assign({},e)));return Object.assign(Object.assign({},r),{yAxis:c})}(e);if(!(null===(r=l)||void 0===r?void 0:r.series))return Object.assign({},l);const c=Object.assign(Object.assign({},l),{series:{}}),h=Object.keys(t),d=h.length>1;if(o){const e=Ws(t);c.series={pie:e.reduce((e,t)=>{var o;return Object.assign(Object.assign({},e),{[t]:Y(null===(o=l.series)||void 0===o?void 0:o[t],I(n,"colors"))})},{})}}else c.series=d?Object.assign({},h.reduce((e,t)=>{var o;return Object.assign(Object.assign({},e),{[t]:Y(null===(o=l.series)||void 0===o?void 0:o[t],I(n,"colors"))})},{})):{[h[0]]:l.series};return c}function vn(e,t,n){var o,r,l,c,h,d,m,f,v;return{hasOuterAnchor:!!t.pie&&"outer"===(null===(c=null===(l=null===(r=null===(o=e)||void 0===o?void 0:o.series)||void 0===r?void 0:r[n])||void 0===l?void 0:l.dataLabels)||void 0===c?void 0:c.anchor),hasOuterAnchorPieSeriesName:!!t.pie&&"outer"===(null===(v=null===(f=null===(m=null===(d=null===(h=e)||void 0===h?void 0:h.series)||void 0===d?void 0:d[n])||void 0===m?void 0:m.dataLabels)||void 0===f?void 0:f.pieSeriesName)||void 0===v?void 0:v.anchor)}}function bn(e,t){var n,o,r;const l=Is(t),c=function(e,t,n){var o,r;const l=null===(o=e)||void 0===o?void 0:o.theme;return(null===(r=l)||void 0===r?void 0:r.series)?(n?Ws(t):Object.keys(t)).reduce((e,t)=>(delete e[t],e),Object.assign({},l.series)):{}}(e,t,l);let h={hasOuterAnchor:Ys(e,t),hasOuterAnchorPieSeriesName:_s(e,t)};if(l){h=Ws(t).reduce((n,o)=>Object.assign(Object.assign({},n),{[o]:vn(e,t,o)}),{})}const d=Y(function(e,t,n,o=!1){const r=Object.keys(t).reduce((t,o)=>Object.assign(Object.assign({},t),{series:Object.assign(Object.assign({},t.series),{[o]:rn(e,o,n)})}),sn(e));if(o){const l=Ws(t);r.series.pie=l.reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:rn(e,"pie",n[r],o)}),{})}return r}(null===(r=null===(o=null===(n=e)||void 0===n?void 0:n.theme)||void 0===o?void 0:o.chart)||void 0===r?void 0:r.fontFamily,t,h,l),fn(e,t,c,l));return t.heatmap||function(e,t,n,o){var r,l;let c=0;const h=[...(l=null===(r=n)||void 0===r?void 0:r.colors,null!=l?l:[]),...en.colors];(o?Ws(t):Object.keys(t)).forEach((n,r)=>{var l;const d=o?t.pie[r].data.length:t[n].length,m=o?e.series.pie:e.series;(null===(l=m[n])||void 0===l?void 0:l.colors)||(m[n]=Object.assign(Object.assign({},m[n]),{colors:h.slice(c,c+d)}),c+=d)})}(d,t,c,l),function(e){["vertical","horizontal"].reduce((e,t)=>(e[t]||(e[t]={lineColor:e.lineColor}),e),e.plot)}(d),d}var yn={name:"theme",state:({options:e,series:t})=>({theme:bn(e,t)}),action:{initThemeState({state:e,initStoreState:t}){e.theme=bn(e.options,t.series)}},observe:{updateTheme(){this.dispatch("initThemeState")}}};class xn{constructor(){this.handlers=[]}on(e,t){this.handlers[e]||(this.handlers[e]=[]),this.handlers[e].push(t)}emit(e,...t){this.handlers[e]&&this.handlers[e].forEach(e=>e(...t))}}class Sn{constructor({store:e,eventBus:t}){this.components=[],this.store=e,this.eventBus=t}add(e,t){const component=new e({store:this.store,eventBus:this.eventBus});component.initialize&&component.initialize(t);let n=(...e)=>{component.render(e[0],e[1]),component.sync(),this.eventBus.emit("needLoop")};this.store.observe((...e)=>{n(...e)}),n=N(n),this.components.push(component)}remove(e){this.components=this.components.filter(component=>!(component instanceof e))}clear(){this.components=[],this.eventBus.emit("needDraw")}invoke(e,t){this.components.forEach(component=>{const n=component[e];n&&n.call(component,t)})}forEach(e){this.components.forEach(e)}}class On{constructor(e){this.width=0,this.height=0,this.brushes={},this.chart=e}setup(){const{height:e,width:t}=this.chart.store.state.chart;if(!this.canvas){const canvas=document.createElement("canvas");this.canvas=canvas,canvas.style.backgroundColor="#fff",this.chart.el.appendChild(canvas),canvas.addEventListener("click",this.chart),canvas.addEventListener("mousemove",this.chart),canvas.addEventListener("mousedown",this.chart),canvas.addEventListener("mouseup",this.chart);const e=canvas.getContext("2d");e&&(this.ctx=e)}this.setSize(t,e)}setSize(e,t){this.canvas.style.width=e+"px",this.canvas.style.height=t+"px";let n=1;"deviceXDPI"in window.screen?n=window.screen.deviceXDPI/window.screen.logicalXDPI:window.hasOwnProperty("devicePixelRatio")&&(n=window.devicePixelRatio),this.width=e*n||0,this.height=t*n||0,this.scaleCanvasRatio(n)}scaleCanvasRatio(e){this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.scale(e,e)}add(e,t){this.brushes[e]=t}addGroups(e){e.forEach(e=>{Object.keys(e).forEach(t=>{this.add(t,e[t])})})}paint(e,t){if(!this.brushes[e])throw new Error(ae(e));this.brushes[e](this.ctx,t)}paintForEach(e){e.forEach(e=>this.paint(e.type,e))}beforeFrame(){this.ctx.clearRect(0,0,this.width,this.height),this.ctx.fillStyle="#fff",this.ctx.fillRect(0,0,this.width,this.height)}beforeDraw(e,t){this.ctx.save(),this.ctx.translate(e,t)}afterDraw(){this.ctx.restore()}}class wn{constructor(){this.anims=[],this.state="IDLE",this.requestId=null,this.firstRendering=!0}add({chart:e,duration:t,requester:n,onCompleted:o=(()=>{}),onFrame:r=(t=>{this.firstRendering||e.update(t),this.firstRendering&&(e.initUpdate(t),1===t&&(this.firstRendering=!1))})}){this.anims.length&&this.reset(),"IDLE"===this.state&&(this.anims.push({chart:e,requester:n,duration:t,onFrame:r,onCompleted:o,start:null,current:null,completed:!1}),this.start())}reset(){this.anims.forEach(e=>{e.current=1,e.onFrame(e.current),e.completed=!0}),this.anims=[],this.cancelAnimFrame(),this.state="IDLE",this.requestId=null}start(){this.anims.length&&(this.state="RUNNING",this.runFrame())}runFrame(){this.requestId=window.requestAnimationFrame(e=>{this.runAnims(e)})}runAnims(e){this.next(e),this.anims.length?this.runFrame():(this.state="IDLE",this.requestId=null)}next(e){this.anims.forEach(t=>{C(t.start)&&(t.start=e),Object.defineProperty(t.chart,"___animId___",{value:e,enumerable:!1,writable:!1,configurable:!0}),t.current=t.duration?Math.min((e-t.start)/t.duration,1):1,t.onFrame(t.current),t.completed=1===t.current}),this.anims.forEach(t=>{t.chart.___animId___===e&&(t.chart.draw(),delete t.chart.___animId___),t.completed&&(this.cancelAnimFrame(),t.onCompleted(),t.chart.eventBus.emit("animationCompleted",t.requester))}),this.anims=this.anims.filter(e=>!e.completed)}cancelAnimFrame(){this.requestId&&window.cancelAnimationFrame(this.requestId)}}const Mn={circle:(e,t,n)=>{const{x:o,y:r}=e,{x:l,y:c,radius:h,detectionSize:d}=t,{x:m,y:f}=n,v=A(d)?10:d;return Math.pow(o-(l+m),2)+Math.pow(r-(c+f),2)<Math.pow(h+v,2)},rect:(e,t,n={x:0,y:0,width:0,height:0})=>{const{x:o,y:r}=e,{x:l,y:c,width:h,height:d}=t,{x:m,y:f}=n;return o>=l+m&&o<=l+m+h&&r>=c+f&&r<=c+f+d},sector:(e,t,n={x:0,y:0,width:0,height:0})=>{const{x:o,y:r}=e,{x:l,y:c,radius:{outer:h,inner:d},degree:{start:m,end:f},drawingStartAngle:v,clockwise:y}=t,{x:x,y:S}=n,O=o-(l+x),w=r-(c+S),M=Math.pow(O,2)+Math.pow(w,2)<Math.pow(h,2),A=Math.pow(O,2)+Math.pow(w,2)>Math.pow(d,2),C=M&&A,k=function(e,t=-90){return(180*e/Math.PI-t+360)%360}(Math.atan2(w,O),v);return C&&Xt(y,m,f,k)},line:(e,t,n={x:0,y:0,width:0,height:0})=>{const{x:o,y:r}=e,{x:l,y:c}=n,{x:h,y:d,x2:m,y2:f,detectionSize:v=3}=t,y=f-d,x=m-h;let S=!1;if(0===y){const e=Math.min(h,m),t=Math.max(h,m);S=o-l>=e&&o-l<=t&&r>=d+c-v&&r<=d+c+v}else if(0===x){const e=Math.min(d,f),t=Math.max(d,f);S=r-c>=e&&r-c<=t&&o>=h+l-v&&o<=h+l+v}else{S=y/x*(o-(h+l))===r-(d+c)}return S},boxPlot:(e,t,n={x:0,y:0,width:0,height:0})=>["rect","median","minimum","maximum","upperWhisker","lowerWhisker"].some(o=>!!t[o]&&("rect"===o?Mn.rect(e,t[o],n):Mn.line(e,t[o],n)))};function An(){const e=location.hostname,t=`TOAST UI chart for ${e}: Statistics`,n=window.localStorage.getItem(t);n&&!function(e){return(new Date).getTime()-e>6048e5}(Number(n))||(window.localStorage.setItem(t,String((new Date).getTime())),setTimeout(()=>{"interactive"!==document.readyState&&"complete"!==document.readyState||function(e,t){const n=Object.keys(t).map((e,n)=>`${n?"&":""}${e}=${t[e]}`).join(""),o=document.createElement("img");o.src=`${e}?${n}`,o.style.display="none",document.body.appendChild(o),document.body.removeChild(o)}("https://www.google-analytics.com/collect",{v:1,t:"event",tid:"UA-129983528-2",cid:e,dp:e,dh:"chart",el:"chart",ec:"use"})},1e3))}class Cn{constructor(e){this.___animId___=null,this.painter=new On(this),this.eventBus=new xn,this.enteredComponents=[],this.animationControlFlag={resizing:!1,updating:!1},this.resizeObserver=null,this.debounceResizeEvent=N((e,t)=>{this.resizeChartSize(e,t)},100),this.debounceWindowResizeEvent=N(()=>{const{offsetWidth:e,offsetHeight:t}=this.el;this.resizeChartSize(e,t)},100),this.getCheckedLegend=()=>{const{data:data}=this.store.state.legend;return data.filter(e=>e.checked).map(e=>z(e,"chartType","label","checked"))},this.getOptions=()=>Se(this.store.initStoreState.options),this.on=(e,t)=>{this.eventBus.on(e,t)},this.destroy=()=>{this.componentManager.clear(),this.clearResizeEvent(),this.el.innerHTML=""},this.selectSeries=e=>{if(!this.isSelectableSeries())throw new Error(ie);this.eventBus.emit("selectSeries",Object.assign(Object.assign({},e),{state:this.store.state}))},this.unselectSeries=()=>{if(!this.isSelectableSeries())throw new Error(ie);this.store.dispatch("setAllLegendActiveState",!0),this.eventBus.emit("resetSelectedSeries")},this.resize=e=>{this.resetSeries(),this.store.dispatch("updateOptions",{options:{chart:Object.assign({},e)}})},this.resetSeries=()=>{this.eventBus.emit("resetHoveredSeries"),this.eventBus.emit("resetSelectedSeries")},this.setResizeEventListeners=(e,t)=>{var n,o,r,l;const{usingContainerSize:c}=this.store.state,{width:h,height:d}=c,m=null===(o=null===(n=t)||void 0===n?void 0:n.chart)||void 0===o?void 0:o.width,f=null===(l=null===(r=t)||void 0===r?void 0:r.chart)||void 0===l?void 0:l.height,v=te(m),y=te(f);(h||d)&&T(m)&&T(f)?this.clearResizeEvent():h||d||!v&&!y||this.setResizeEvent(),this.store.dispatch("setUsingContainerSize",function(e,t,n,o){const{width:r,height:l}=t,c=te(n),h=te(o);return"updateOptions"===e?{width:A(n)||r===c?r:c,height:A(o)||l===h?l:h}:{width:c,height:h}}(e,c,m,f))};const{el:t,options:n,series:o,categories:r}=e;(A(n.usageStatistics)||n.usageStatistics)&&An(),this.el=t,this.animator=new wn,this.store=new Oe({series:o,categories:r,options:n}),this.componentManager=new Sn({store:this.store,eventBus:this.eventBus}),this.eventBus.on("needLoop",N(()=>{var e,t;let o=this.getAnimationDuration(null===(e=n.chart)||void 0===e?void 0:e.animation);this.animationControlFlag.resizing&&(o=A(n.responsive)?this.getAnimationDuration():this.getAnimationDuration(null===(t=n.responsive)||void 0===t?void 0:t.animation),this.animationControlFlag.resizing=!1),this.eventBus.emit("loopStart"),this.animator.add({onCompleted:()=>{this.eventBus.emit("loopComplete")},chart:this,duration:o,requester:this})},10)),this.eventBus.on("needSubLoop",e=>{this.animator.add(Object.assign(Object.assign({},e),{chart:this}))}),this.eventBus.on("needDraw",N(()=>{this.draw()},10)),setTimeout(()=>{var e,t,o,r;this.initialize(),this.store.observe(()=>{this.painter.setup()}),(te(null===(t=null===(e=n)||void 0===e?void 0:e.chart)||void 0===t?void 0:t.width)||te(null===(r=null===(o=n)||void 0===o?void 0:o.chart)||void 0===r?void 0:r.height))&&this.setResizeEvent()},0)}getAnimationDuration(e){const{firstRendering:t}=this.animator,{resizing:n,updating:o}=this.animationControlFlag;let r;return!t&&!n||A(e)?r=500:k(e)?r=e?500:0:T(e.duration)&&(r=e.duration),o&&(r=0),this.animationControlFlag.updating=!1,r}resizeChartSize(e,t){this.animationControlFlag.resizing=!0;const{usingContainerSize:{width:n,height:o},chart:{width:r,height:l}}=this.store.state;!n&&!o||!e&&!t||e===r&&t===l?this.animationControlFlag.resizing=!1:(this.resetSeries(),this.store.dispatch("setChartSize",{width:n?e:r,height:o?t:l}),this.draw())}setResizeEvent(){A(ResizeObserver)?window.addEventListener("resize",this.debounceWindowResizeEvent):(this.resizeObserver=new ResizeObserver(e=>{e.forEach(e=>{const{width:t,height:n}=e.contentRect;this.debounceResizeEvent(t,n)})}),this.resizeObserver.observe(this.el))}clearResizeEvent(){this.resizeObserver?(this.resizeObserver.unobserve(this.el),this.resizeObserver.disconnect(),this.resizeObserver=null):window.removeEventListener("resize",this.debounceWindowResizeEvent)}handleEvent(e){const{clientX:t,clientY:n,type:o}=e,r="on"+(o[0].toUpperCase()+o.substring(1)),l=this.painter.ctx.canvas.getBoundingClientRect(),c={x:t-l.left,y:n-l.top},h=[];"mousemove"===o&&(this.componentManager.forEach(component=>{const{x:e,y:t,height:n,width:o}=component.rect,r=this.enteredComponents.some(e=>e===component);c.x>=e&&c.x<=e+o&&c.y>=t&&c.y<=t+n?(h.push(component),!r&&component.onMouseenterComponent&&component.onMouseenterComponent()):r&&component.onMouseoutComponent&&component.onMouseoutComponent()}),this.enteredComponents=h);const d=[];this.componentManager.forEach(component=>{if(!component[r])return;if(!Mn.rect(c,component.rect))return;const t=(component.responders||[]).filter(e=>Mn[e.type](c,e,component.rect));t.length&&d.push({component:component,detected:t}),component[r]({mousePosition:c,responders:t},e)}),this.handleEventForAllResponders&&this.handleEventForAllResponders(e,d,r,c)}initStore(e){var t;[...e,...(t=this.modules,null!=t?t:[])].forEach(e=>this.store.setModule(e))}initialize(){this.initStore([Ae,gn,yn,Ps,pn,Ms,Cs]),this.store.dispatch("initChartSize",this.el)}draw(){this.painter.beforeFrame(),this.componentManager.forEach(component=>{component.isShow&&(this.painter.beforeDraw(component.rect.x,component.rect.y),component.beforeDraw&&component.beforeDraw(this.painter),component.draw(this.painter),this.painter.afterDraw())})}update(e){this.componentManager.invoke("update",e)}initUpdate(e){this.componentManager.invoke("initUpdate",e)}isSelectableSeries(){var e;return null===(e=this.store.initStoreState.options.series)||void 0===e?void 0:e.selectable}setTooltipOffset(e){const{x:t,y:n}=e;this.store.dispatch("updateOptions",{options:{tooltip:{offsetX:t,offsetY:n}}})}dispatchOptionsEvent(e,t){this.setResizeEventListeners(e,t);const{offsetWidth:n,offsetHeight:o}=this.el;this.store.dispatch(e,{options:t,containerSize:{width:n,height:o}})}}function kn(e){const t={min:Math.min(...e),max:Math.max(...e)};if(1===e.length){const[n]=e;n>0?t.min=0:t.max=0===n?10:0}else 0===t.min&&0===t.max?t.max=10:t.min===t.max&&(t.min-=t.min/10,t.max+=t.max/10);return t}function Tn(e,t,n,o,r){var l;const{secondaryYAxis:c}=ti(e);return(ei(e)&&(null===(l=c)||void 0===l?void 0:l.chartType)?[c.chartType===t?"secondaryYAxis":"yAxis"]:si(e,o)).forEach(e=>{r[t][e]=kn([...new Set(n)])}),r}var jn={name:"dataRange",state:()=>({dataRange:{}}),action:{setDataRange({state:e}){var t,n;const{series:o,disabledSeries:r,stackSeries:l,categories:c,options:h}=e,d={},m=Kt(o,h),{labelAxisName:f,valueAxisName:v}=Zt(m),y=!!(null===(t=h.xAxis)||void 0===t?void 0:t.date);for(const e in o){if(!o.hasOwnProperty(e))continue;d[e]={};let t=o[e].data.flatMap(({data:data,name:e})=>r.includes(e)?[]:data);const m=Z(t);if(wi(o)){t=t.filter(e=>!C(e)).map(e=>xi(e));const n=c.map(e=>Number(y?new Date(e):e));d[e][f]=kn([...n])}else fi(m)?t=t.reduce((e,t)=>C(t)?e:Array.isArray(t)?[...e,...t]:[...t],[]):l&&(null===(n=l[e])||void 0===n?void 0:n.stack)?t=l[e].dataRangeValues:L(["bar","column","radar"],e)?t.push(0):"boxPlot"===e?t=o[e].data.flatMap(({data:data,outliers:e=[]})=>[...(null!=data?data:[]).flatMap(e=>e),...(null!=e?e:[]).flatMap(e=>e)]):"bullet"===e&&(t=o[e].data.flatMap(({data:data,markers:e,ranges:t})=>[data,...(null!=e?e:[]).flatMap(e=>e),...(null!=t?t:[]).flatMap(e=>e)]));Tn(h,e,t,v,d)}const x=function(e){const t={min:Number.MAX_SAFE_INTEGER,max:Number.MIN_SAFE_INTEGER};return Object.values(e).reduce((e,n)=>{var o,r,l,c,h,d,m,f,v,y,x,S;return n.xAxis&&(e.xAxis={min:Math.min(n.xAxis.min,(r=null===(o=e.xAxis)||void 0===o?void 0:o.min,null!=r?r:t.min)),max:Math.max(n.xAxis.max,(c=null===(l=e.xAxis)||void 0===l?void 0:l.max,null!=c?c:t.max))}),n.yAxis&&(e.yAxis={min:Math.min(n.yAxis.min,(d=null===(h=e.yAxis)||void 0===h?void 0:h.min,null!=d?d:t.min)),max:Math.max(n.yAxis.max,(f=null===(m=e.yAxis)||void 0===m?void 0:m.max,null!=f?f:t.max))}),n.secondaryYAxis&&(e.secondaryYAxis={min:Math.min(n.secondaryYAxis.min,(y=null===(v=e.secondaryYAxis)||void 0===v?void 0:v.min,null!=y?y:t.min)),max:Math.max(n.secondaryYAxis.max,(S=null===(x=e.secondaryYAxis)||void 0===x?void 0:x.max,null!=S?S:t.max))}),e},{})}(d);we(e.dataRange,x)}},observe:{updateDataRange(){this.dispatch("setDataRange")}}};const Dn=[1,2,5,10];function Bn(e){const t=0===e?1:Math.log(Math.abs(e))/Math.LN10;return Math.pow(10,Math.floor(t))}function Pn(e){const t=Bn(e);return function(e){let t=0;for(let i=0,n=Dn.length;i<n;i+=1){t=Dn[i];if(e<=(t+(Dn[i+1]||t))/2)break}return t}(e/t)*t}function Rn(e,t){const n=1/Math.min(Bn(e),Bn(t));return Math.ceil(e*n/(t*n))}function En(e){return T(e)}function Ln(e,t){const n=En(t.stepSize)?e.stepSize:Pn(e.stepSize),o=function(e,t){let{min:n,max:o}=e;const r=Math.min(Bn(o),Bn(t)),l=r>1?1:1/r,c=t*l;return o=Math.ceil(o*l/c)*c/l,n=n>t?Math.floor(n*l/c)*c/l:n<0?-Math.ceil(Math.abs(n)*l/c)*c/l:0,{min:n,max:o}}(e.limit,n),r=Rn(Math.abs(o.max-o.min),n);return{limit:{min:o.min,max:o.max},stepSize:n,stepCount:r}}function zn(e,t){var n,o,r,l,c,h;return{max:(o=null===(n=t)||void 0===n?void 0:n.max,null!=o?o:e.max),min:(l=null===(r=t)||void 0===r?void 0:r.min,null!=l?l:e.min),stepSize:(h=null===(c=t)||void 0===c?void 0:c.stepSize,null!=h?h:"auto")}}function In(e){const{dataRange:t,scaleOption:n,offsetSize:o,minStepSize:r,useSpectrumLegend:l}=e,c=zn(t,n),h=Ln(function(e,t,n=1){const{min:o,max:r}=e,l=Math.abs(r-o),c=l/t;let h=Math.ceil(t/88),d=c*(t/h);return En(e.stepSize)?(d=e.stepSize,h=l/d):T(n)&&d<n&&(d=n,h=l/d),{limit:{min:o,max:r},stepSize:d,stepCount:h}}(c,o,r),c),d=l?null:function(e,{min:t,max:n},o){var r,l;const c=e.limit,h=T(null===(r=o)||void 0===r?void 0:r.min),d=T(null===(l=o)||void 0===l?void 0:l.max),m=!h&&c.min===t&&0!==c.min,f=!d&&c.max===n&&0!==c.max;return m||f?{min:m,max:f}:null}(h,c,n);if(d){const{stepSize:e,limit:t}=h;h.limit=function({min:e,max:t},n,o){return{min:o.min?e-n:e,max:o.max?t+n:t}}(t,e,d)}return h}const Wn={year:31536e6,month:26784e5,week:6048e5,date:864e5,hour:36e5,minute:6e4,second:1e3};function Nn(e){const{dataRange:t,rawCategoriesSize:n,scaleOption:o}=e,r=function(e,t,n){var o,r;const l=function({max:e,min:t},n){const o=e-t,r=Yn.length-1;let l;o?Yn.every((e,t)=>{const c=Wn[e],h=Math.floor(o/c);let d;return h&&(d=t<r&&h<2&&h<n?t+1:t,l=Yn[d]),!M(d)}):l="second";return l}(e,t),c=null!==(r=null===(o=n)||void 0===o?void 0:o.stepSize)&&void 0!==r?r:Wn[l],h=zn(e,n),d=wt(Number(new Date(h.min)),c),m=wt(Number(new Date(h.max)),c);return{divisionNumber:c,minDate:d,limit:{min:0,max:m-d}}}(t,n,o),{minDate:l,divisionNumber:c,limit:h}=r;return function(e,t,n){const{limit:o,stepSize:r}=e,{min:l,max:c}=o;return Object.assign(Object.assign({},e),{stepSize:Ot(r,n),limit:{min:Ot(St(l,t),n),max:Ot(St(c,t),n)}})}(In(Object.assign(Object.assign({},I(e,"scaleOption")),{dataRange:h,minStepSize:1})),l,c)}const Yn=["year","month","week","date","hour","minute","second"];function _n(e){var t;return!("percent"!==(null===(t=e)||void 0===t?void 0:t.type))}function Hn(e){return!Array.isArray(e)}function Fn(e){return W(e,["series","stack"])||W(e,["series","column","stack"])||W(e,["series","area","stack"])}function $n(e){const t=e.length,n=e.map(({rawData:e})=>e.length),o=Math.max(...n),r=[];for(let i=0;i<o;i+=1){const n=[];for(let o=0;o<t;o+=1)n.push(e[o].rawData[i]);r[i]={values:n,sum:U(n),total:{positive:U(n.filter(e=>e>=0)),negative:U(n.filter(e=>e<0))}}}return r}function Vn(e){if(!e)return;const t={type:"normal",connector:!1};return function(e){return B(e)}(e)?Object.assign(Object.assign({},t),e):t}function Gn(e){const t=e.map(({total:e})=>e.positive);return[...e.map(({total:e})=>e.negative),...t]}function Xn(e){if(!Hn(e))return e;let t=[];return Hn(e)&&Object.keys(e).forEach(n=>{t=[...t,...e[n]]}),t}function Un(e,t,n){const{hasPositive:o,hasNegative:r}=function(e){return{hasNegative:e.map(({total:e})=>e.negative).some(e=>e<0),hasPositive:e.map(({total:e})=>e.positive).some(e=>e>=0)}}(e);if("percent"===t){if(n)return"divergingPercentStack";if(r&&o)return"dualPercentStack";if(!r&&o)return"percentStack";if(r&&!o)return"minusPercentStack"}}function Kn(e,t){const n={};return Object.keys(e).forEach(e=>{const o=e,r=Fn(t);r&&(n[o]||(n[o]={}),n[o].stack=Vn(r))}),n}var qn={name:"stackSeriesData",state:({series:e,options:t})=>({stackSeries:Kn(e,t)}),action:{setStackSeriesData({state:e}){const{series:t,stackSeries:n,options:o}=e,r=Fn(o),l={};Object.keys(t).forEach(c=>{var h;const d=t[c],{data:data,seriesCount:m,seriesGroupCount:f}=d;r?(n[c]||(n[c]={}),n[c].stack=Vn(r)):(n[c]=null,delete n[c]);const{stack:v}=n[c]||{},y=!!(null===(h=o.series)||void 0===h?void 0:h.diverging);if(v){const t=data.some(e=>e.hasOwnProperty("stackGroup"))?function(e){const t={};return[...new Set(e.map(({stackGroup:e})=>e))].forEach(n=>{const o=e.filter(({stackGroup:e})=>n===e);t[n]=$n(o)}),t}(data):$n(data),n=v.type,o=function(e){let t=[];if(Array.isArray(e))t=[0,...Gn(e)];else for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t=[0,...t,...Gn(e[n])]);return t}(t);l[c]={data:data,seriesCount:m,seriesGroupCount:f,stackData:t,dataRangeValues:o,scaleType:Un(Xn(t),n,y)},e.stackSeries[c].stackData=t}we(e.stackSeries,l)})}},observe:{updateStackSeriesData(){this.dispatch("setStackSeriesData")}}};function Zn(e,t,n,o){var r;const{dataRange:l,layout:c,series:h,options:d}=e,m=e.categories,f=e.rawCategories,{labelSizeKey:v}=Jt(t),y=M(null===(r=d.xAxis)||void 0===r?void 0:r.date),x={dataRange:l[o],offsetSize:c.plot[v],scaleOption:n[o],rawCategoriesSize:f.length};let S;return l[o]&&(S=y?Nn(x):In(x)),h.line&&(S=function(e,t,n){var o,r;if(!n)return e;const l=!!(null===(r=null===(o=t)||void 0===o?void 0:o.xAxis)||void 0===r?void 0:r.date),c=n.map(e=>Number(l?new Date(e):e)),{limit:h,stepSize:d}=e,m=Math.min(...c),f=Math.max(...c),v=Object.assign({},h);return f-m&&(h.min<m&&h.min+d<=m&&(v.min+=d),h.max>f&&h.max-d>=f&&(v.max-=d)),{limit:v,stepCount:Rn(Math.abs(v.max-v.min),d),stepSize:d}}(S,d,m)),S}function Jn(e,t,n,o){const{dataRange:r,layout:l,series:c,stackSeries:h}=e,{valueSizeKey:d}=Jt(t);let m;if(function(e){return!!e&&Object.keys(e).some(t=>_n(e[t].stack))}(h))Object.keys(c).forEach(e=>{var t;t=h[e].scaleType,m="minusPercentStack"===t?{limit:{min:-100,max:0},stepSize:25,stepCount:5}:"dualPercentStack"===t||"divergingPercentStack"===t?{limit:{min:-100,max:100},stepSize:25,stepCount:9}:{limit:{min:0,max:100},stepSize:25,stepCount:5}});else if(wi(c)){const e={dataRange:r[o],offsetSize:l.plot[d],scaleOption:n[o]};m=In(e)}else m=In({dataRange:r[o],offsetSize:l.plot[d],scaleOption:n[o]});return m}var Qn={name:"scale",state:()=>({scale:{}}),action:{setScale({state:e}){var t,n,o,r;const{series:l,options:c}=e,h=Kt(l,c),{labelAxisName:d,valueAxisName:m}=Zt(h),{yAxis:f,secondaryYAxis:v}=ti(c),y={},x={xAxis:null===(n=null===(t=c)||void 0===t?void 0:t.xAxis)||void 0===n?void 0:n.scale,yAxis:null===(o=f)||void 0===o?void 0:o.scale};v&&(x.secondaryYAxis=null===(r=v)||void 0===r?void 0:r.scale),si(c,m).forEach(t=>{y[t]=Jn(e,h,x,t)}),wi(l)&&(y[d]=Zn(e,h,x,d)),we(e.scale,y)}},observe:{updateScale(){this.dispatch("setScale")}}};function eo(e){return e.reduce((e,t)=>{const[n,o]=e,[r,l]=t;return[Math.min(n,r),Math.max(o,l)]},[Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER])}function to(e,t,n=!1){return n?Number(new Date(e)):j(e)?function(e,t){return t.findIndex(t=>t===String(e))}(e,t):e}function io(e,data){return e.some(({id:e})=>!A(e)&&!A(data.id)&&e===data.id)}var so={name:"plot",state:({options:e})=>{var t,n,o;return{plot:{visible:(o=null===(n=null===(t=e)||void 0===t?void 0:t.plot)||void 0===n?void 0:n.visible,null==o||o),lines:[],bands:[]}}},action:{setPlot({state:e}){var t,n,o,r,l,c,h,d;const{series:m,options:f}=e;if(!m.area&&!m.line)return;const v=e.rawCategories,y=f,x=function(e,t,n=[]){return n.map(({value:n,color:o,opacity:r})=>({value:to(n,e,t),color:Ze(o,r)}))}(v,!!(null===(n=null===(t=f)||void 0===t?void 0:t.xAxis)||void 0===n?void 0:n.date),null===(r=null===(o=y)||void 0===o?void 0:o.plot)||void 0===r?void 0:r.lines),S=function(e,t,n=[]){return n.flatMap(({range:n,mergeOverlappingRanges:o=!1,color:r,opacity:l})=>{const c=Ze(r,l);if(fi(n[0])){const r=n.map(n=>n.map(n=>to(n,e,t)));return o?{color:c,range:eo(r)}:r.map(e=>({range:e,color:c}))}return{color:c,range:n}})}(v,!!(null===(c=null===(l=f)||void 0===l?void 0:l.xAxis)||void 0===c?void 0:c.date),null===(d=null===(h=y)||void 0===h?void 0:h.plot)||void 0===d?void 0:d.bands);we(e.plot,{lines:x,bands:S})},addPlotLine({state:e},{data:data}){var t,n,o;const r=null!=(o=null===(n=null===(t=e.options)||void 0===t?void 0:t.plot)||void 0===n?void 0:n.lines)?o:[];io(r,data)||this.dispatch("updateOptions",{options:{plot:{lines:[...r,data]}}})},addPlotBand({state:e},{data:data}){var t,n,o;const r=null!=(o=null===(n=null===(t=e.options)||void 0===t?void 0:t.plot)||void 0===n?void 0:n.bands)?o:[];io(r,data)||this.dispatch("updateOptions",{options:{plot:{bands:[...r,data]}}})},removePlotLine({state:e},{id:t}){var n,o,r;const l=(r=null===(o=null===(n=e.options)||void 0===n?void 0:n.plot)||void 0===o?void 0:o.lines,null!=r?r:[]).filter(({id:e})=>e!==t);this.dispatch("updateOptions",{options:{plot:{lines:l}}})},removePlotBand({state:e},{id:t}){var n,o,r;const l=(r=null===(o=null===(n=e.options)||void 0===n?void 0:n.plot)||void 0===o?void 0:o.bands,null!=r?r:[]).filter(({id:e})=>e!==t);this.dispatch("updateOptions",{options:{plot:{bands:l}}})}},observe:{updatePlot(){this.dispatch("setPlot")}}};function no(label,e){return`<span class="toastui-chart-series-name">\n    <i class="toastui-chart-icon" style="background: ${e}"></i>\n    <span class="toastui-chart-name">${label}</span>\n  </span>`}function oo(title,e){return`<div class="toastui-chart-tooltip-series">\n    <span class="toastui-chart-series-name">${title}</span>\n    <span class="toastui-chart-series-value">${e}</span>\n  </div>`}const ro={default:function(e,{header:header,body:body},t){const{borderColor:n,borderWidth:o,background:r,borderRadius:l,borderStyle:c}=t;return`<div class="toastui-chart-tooltip" style="${`border: ${o}px ${c} ${n};border-radius: ${l}px;background: ${r};`}">${header}${body}</div>`},defaultHeader:function({category:e},t){return e?`<div class="toastui-chart-tooltip-category" style="${Le(t.header)}">\n        ${e}\n      </div>`:""},defaultBody:function({data:data},e){return`\n    <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n      ${data.map(({label:label,color:e,formattedValue:t})=>`<div class="toastui-chart-tooltip-series">\n                ${no(label,e)}\n                <span class="toastui-chart-series-value">${t}</span>\n              </div>`).join("")}\n    </div>`},boxPlot:function({data:data},e){const t=data.reduce((e,t,n)=>n?(e.category===t.category&&e.label===t.label&&(e.value=[...e.value,...t.value]),e):t,{});return`\n    <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n      ${[t].map(({label:label,color:e,value:t})=>`<div class="toastui-chart-tooltip-series">\n              ${no(label,e)}\n            </div>\n            <div>\n          ${t.map(({title:title,formattedValue:e})=>oo(title,e)).join("")}\n            </div>`).join("")}\n    </div>`},bullet:function({data:data},e){return data.length>1?function(data,e){const t=data.map(({value:e})=>e[0]),[n,o,r]=["Actual","Range","Marker"].map(e=>function(data,e){return data.filter(({title:title})=>title===e).sort((a,b)=>fi(a.value)&&fi(b.value)?a.value[0]-b.value[0]:T(a.value)&&T(b.value)?a.value-b.value:0).map(({formattedValue:e,color:t})=>function(e,t){return`<div class="toastui-chart-tooltip-series">\n    <i class="toastui-chart-icon" style="background: ${e}"></i>\n    <span class="toastui-chart-series-value">${t}</span>\n  </div>`}(t,e)).join("")}(t,e));return`<div class="toastui-chart-tooltip-category" style="${Le(e.header)}">\n      ${data[0].label}\n    </div>\n    <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n      ${n?'<div class="toastui-chart-tooltip-title">Actual</div>':""} ${n}\n      ${o?'<div class="toastui-chart-tooltip-title">Ranges</div>':""} ${o}\n      ${r?'<div class="toastui-chart-tooltip-title">Markers</div>':""} ${r}\n    </div>`}(data,e):function(data,e){return`\n    <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n      ${data.map(({label:label,color:e,value:t})=>`<div class="toastui-chart-tooltip-series">${no(label,e)}</div>\n            ${t.map(({title:title,formattedValue:e})=>oo(title,e)).join("")}`).join("")}\n    </div>`}(data,e)},pie:function({data:data},e){return`\n    <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n      ${data.map(({label:label,color:e,formattedValue:t,percentValue:n})=>`<div class="toastui-chart-tooltip-series">\n          ${no(label,e)}\n          <span class="toastui-chart-series-value">${Ns(n)}&nbsp;&nbsp;(${t})</span>\n        </div>`).join("")}\n    </div>`},heatmap:function({data:data},e){return""+data.map(({label:label,color:t,formattedValue:n})=>`<div class="toastui-chart-tooltip-category" style="${Le(e.header)}">\n          ${label}\n        </div>\n        <div class="toastui-chart-tooltip-series-wrapper" style="${Le(e.body)}">\n          <div class="toastui-chart-tooltip-series">\n            ${no(n,t)}\n          </div>\n        </div>`).join("")}};class ao extends Lt{constructor(){super(...arguments),this.tooltipInfoModels={},this.onSeriesPointHovered=({models:e,name:t})=>{var n;this.tooltipInfoModels[t]=(null===(n=e)||void 0===n?void 0:n.length)?[...e]:[];!!this.getTooltipInfoModels().length?this.renderTooltip():this.removeTooltip()}}isTooltipContainerOverflow(e,t){const{width:n,height:o}=this.tooltipContainerEl.getBoundingClientRect(),{x:r,y:l,width:c,height:h}=this.rect;return{overflowX:e>r+c||e+n>r+c,overflowY:t>l+h||t+o>l+h}}getPositionInRect(e){const{target:t}=e,n=this.rect.x+e.x,o=this.rect.y+e.y;let r=n+t.radius+t.width+this.offsetX,l=o+this.offsetY;const{overflowX:c,overflowY:h}=this.isTooltipContainerOverflow(r,l),{width:d,height:m}=this.tooltipContainerEl.getBoundingClientRect();return c&&(r=n-(d+t.radius+this.offsetX)>0?n-(d+t.radius+this.offsetX):n+this.offsetX),h&&(l=o+t.height-(m+this.offsetY)>0?o+t.height-(m+this.offsetY):l),r+=window.scrollX||window.pageXOffset,l+=window.scrollY||window.pageYOffset,{x:r,y:l}}setTooltipPosition(e){const{top:t,left:n}=this.chartEl.getBoundingClientRect(),{x:o,y:r}=this.getPositionInRect(e);this.tooltipContainerEl.style.transform=Re(n+o,t+r)}getTooltipInfoModels(){return Object.values(this.tooltipInfoModels).flatMap(e=>e)}renderTooltip(){const e=this.getTooltipInfoModels().reduce((e,t)=>{const{data:data,x:n,y:o,radius:r,width:l,height:c}=t;return e.x=e.x?(e.x+n)/2:n,e.y=e.y?(e.y+o)/2:o,T(r)&&(e.target.radius=r),l&&(e.target.width=l),c&&(e.target.height=c),e.data.push(Object.assign(Object.assign({},data),{value:Array.isArray(data.value)?data.value.map(e=>Object.assign(Object.assign({},e),{formattedValue:this.getFormattedValue(e.value,data)})):data.value,formattedValue:this.getFormattedValue(data.value,data)})),!e.category&&data.category&&(e.category=data.category),data.templateType&&(e.templateType=data.templateType),e},{type:"tooltip",x:0,y:0,data:[],target:{radius:0,width:0,height:0}});var t;this.tooltipContainerEl.innerHTML=this.templateFunc(e,{header:ro.defaultHeader(e,this.theme),body:(t=e.templateType,ro[t||"defaultBody"])(e,this.theme)},this.theme),this.setTooltipPosition(e)}initialize({chartEl:e}){this.type="tooltip",this.name="tooltip",this.chartEl=e,this.tooltipContainerEl=document.createElement("div"),this.tooltipContainerEl.classList.add("toastui-chart-tooltip-container");const{width:t,height:n,top:o,left:r}=this.chartEl.getBoundingClientRect();this.tooltipContainerEl.style.transform=Re(r+t/2,o+n/2),this.chartEl.appendChild(this.tooltipContainerEl),this.eventBus.on("seriesPointHovered",this.onSeriesPointHovered)}removeTooltip(){this.tooltipContainerEl.innerHTML=""}setTooltipTransition(e){var t;const n=null===(t=e.tooltip)||void 0===t?void 0:t.transition;k(n)&&n?this.tooltipContainerEl.style.transition="transform 0.2s ease":j(n)&&(this.tooltipContainerEl.style.transition=n)}render({layout:e,options:t,theme:n}){var o,r,l,c,h,d,m,f,v,y,x;this.setTooltipTransition(t),this.rect=e.plot,this.theme=n.tooltip,this.templateFunc=null!=(l=null===(r=null===(o=t)||void 0===o?void 0:o.tooltip)||void 0===r?void 0:r.template)?l:ro.default,this.offsetX=null!=(d=null===(h=null===(c=t)||void 0===c?void 0:c.tooltip)||void 0===h?void 0:h.offsetX)?d:10,this.offsetY=null!=(v=null===(f=null===(m=t)||void 0===m?void 0:m.tooltip)||void 0===f?void 0:f.offsetY)?v:0,this.formatter=null===(x=null===(y=t)||void 0===y?void 0:y.tooltip)||void 0===x?void 0:x.formatter}getFormattedValue(e,t){return this.formatter?this.formatter(e,t):function(e){let t="";return t=fi(e)?`${e[0]} ~ ${e[1]}`:B(e)&&!Array.isArray(e)?`(${e.x}, ${e.y})`+(function(e){return e.hasOwnProperty("r")}(e)?", r: "+e.r:""):String(e),t}(e)}}function lo({axisData:e,offsetSize:t,value:n,xAxisLimit:o,startIndex:r=0}){const l=Rt(e,t,o,n,function(e,t=0){return~~e?e-t:e}(n,r));return l>0?Math.min(t,l):0}function co(e,t){return e?t.xAxis:t.yAxis}class ho extends Lt{constructor(){super(...arguments),this.models={plot:[],line:[],band:[]},this.startIndex=0}initialize(){this.type="plot"}getPlotAxisSize(e){return{offsetSize:e?this.rect.width:this.rect.height,anchorSize:e?this.rect.height:this.rect.width}}renderLines(e,t,n,o=[]){return o.map(({value:o,color:r})=>{const{offsetSize:l}=this.getPlotAxisSize(!0),c=lo({axisData:co(!0,e),offsetSize:l,value:o,xAxisLimit:t,categories:n,startIndex:this.startIndex});return this.makeLineModel(!0,c,{color:r})})}renderBands(e,t,n,o=[]){const{offsetSize:r,anchorSize:l}=this.getPlotAxisSize(!0);return o.map(({range:o,color:c})=>{const[h,d]=o.map(o=>lo({axisData:co(!0,e),offsetSize:r,value:o,xAxisLimit:t,categories:n,startIndex:this.startIndex}));return{type:"rect",x:kt(h),y:kt(0),width:d-h,height:l,color:c}})}renderPlotLineModels(e,t,n={}){var o,r,l;const{size:c,startPosition:h,axes:d}=n,{lineColor:m,lineWidth:f,dashSegments:v}=this.theme[t?"vertical":"horizontal"],y=(null===(l=t?null===(o=d)||void 0===o?void 0:o.xAxis:null===(r=d)||void 0===r?void 0:r.yAxis)||void 0===l?void 0:l.tickInterval)||1;return e.filter((e,t)=>!(t%y)).map(e=>this.makeLineModel(t,e,{color:m,lineWidth:f,dashSegments:v},null!=c?c:this.rect.width,null!=h?h:0))}renderPlotsForCenterYAxis(e){const{xAxisHalfSize:t,secondStartX:n,yAxisHeight:o}=e.centerYAxis,r=e.xAxis.tickCount,l=[...this.renderPlotLineModels(Ct(t,r),!0),...this.renderPlotLineModels(Ct(t,r,n),!0)],c=Ct(o,e.yAxis.tickCount);return[...l,...[...this.renderPlotLineModels(c,!1,{size:t}),...this.renderPlotLineModels(c,!1,{size:t,startPosition:n})]]}renderPlots(e){return e.centerYAxis?this.renderPlotsForCenterYAxis(e):[...this.renderPlotLineModels(this.getTickPixelPositions(!1,e),!1,{axes:e}),...this.renderPlotLineModels(this.getTickPixelPositions(!0,e),!0,{axes:e})]}getTickPixelPositions(e,t){const{offsetSize:n}=this.getPlotAxisSize(e);return Ct(n,co(e,t).tickCount)}renderPlotBackgroundRect(){return Object.assign(Object.assign({type:"rect",x:0,y:0},z(this.rect,"width","height")),{color:this.theme.backgroundColor})}render(e){var t,n,o;const{layout:r,axes:l,plot:c,scale:h,zoomRange:d,theme:m}=e;if(!c)return;this.rect=r.plot,this.startIndex=d?d[0]:0,this.theme=m.plot;const f=null!=(t=e.categories)?t:[],{lines:v,bands:y,visible:x}=c,S=null===(o=null===(n=h)||void 0===n?void 0:n.xAxis)||void 0===o?void 0:o.limit;this.models.line=this.renderLines(l,S,f,v),this.models.band=this.renderBands(l,S,f,y),x&&(this.models.plot=[this.renderPlotBackgroundRect(),...this.renderPlots(l)])}makeLineModel(e,t,{color:n,dashSegments:o=[],lineWidth:r=1},l,c=0){const h=kt(e?t:c),d=kt(e?0:t);return{type:"line",x:h,y:d,x2:h+(e?0:null!=l?l:this.rect.width),y2:d+(e?this.rect.height:0),strokeStyle:n,lineWidth:r,dashSegments:o}}beforeDraw(e){e.ctx.strokeStyle="rgba(0, 0, 0, 0.05)",e.ctx.lineWidth=1}}function uo(legend){return legend.data.reduce((e,{active:t,label:label})=>Object.assign(Object.assign({},e),{[label]:t}),{})}function po({models:e,comparisonModel:t,name:n,eventDetectType:o}){switch(n){case"heatmap":return bo(e,t);case"bullet":return"grouped"===o?xo(e,t):bo(e,t);case"radar":case"bubble":case"scatter":case"area":case"line":return function(e,t){var n;let o=!1;e.length&&(null===(n=t)||void 0===n?void 0:n.length)&&e.length===t.length&&(o=e.reduce((e,n,o)=>e&&n.seriesIndex===t[o].seriesIndex&&n.index===t[o].index,!0));return o}(e,t);case"pie":return yo(e,t);case"column":case"bar":return"grouped"===o?xo(e,t):yo(e,t);case"boxPlot":return"grouped"===o?yo(e,t):function(e,t){var n,o,r,l,c;let h=!1;if(e.length&&(null===(n=t)||void 0===n?void 0:n.length)){const{type:n,data:data}=e[0];h=n===t[0].type&&(null===(o=data)||void 0===o?void 0:o.label)===(null===(r=t[0].data)||void 0===r?void 0:r.label)&&(null===(l=data)||void 0===l?void 0:l.category)===(null===(c=t[0].data)||void 0===c?void 0:c.category)}return h}(e,t);case"treemap":return l=t,(r=e).length&&(null===(c=l)||void 0===c?void 0:c.length)&&r[0].label===l[0].label;default:return!1}var r,l,c}function mo(e,t,rect){let n=1/0,o=[];return e.forEach(e=>{const{x:r,y:l,radius:c}=e,h=Bt({x:r+rect.x,y:l+rect.y},t);n>h?(n=h,o=[e]):n===h&&(o.length&&o[0].radius>c?o=[e]:o.push(e))}),o}function go(rect,e,t,n=!0){const{pointOnColumn:o,tickCount:r,tickDistance:l}=e,{width:c,height:h}=rect,d=o?[]:[0,r-1],m=l/2;return E(0,r).map(e=>{const r=d.includes(e)?m:l;let f=0;return 0!==e&&(f+=o?l*e:m+l*(e-1)),{type:"rect",y:n?0:f,height:n?h:r,x:n?f:0,width:n?r:c,index:e,label:t[e]}})}function fo(e,t){const n=t.reduce((e,t)=>{const{index:n,seriesIndex:o}=t;return e[o]||(e[o]=[]),e[o][n]=t,e},[]);return e.reduce((e,t)=>{const{seriesIndex:o,index:r}=t,data=n[o][r],{category:l}=data;return l?(e[l]||(e[l]=[]),e[l].push(Object.assign(Object.assign({},t),{data:data})),e):e},{})}function vo(e){return e.reduce((e,t)=>!e.length||t.depth>e[0].depth?[t]:e,[])}function bo(e,t){var n;return e.length&&(null===(n=t)||void 0===n?void 0:n.length)&&e[0].name===t[0].name}function yo(e,t){var n;let o=!1;return e.length&&(null===(n=t)||void 0===n?void 0:n.length)&&e.length===t.length&&(o=e.reduce((e,n,o)=>{var r,l,c,h;return e&&(null===(r=n.data)||void 0===r?void 0:r.label)===(null===(l=t[o].data)||void 0===l?void 0:l.label)&&(null===(c=n.data)||void 0===c?void 0:c.category)===(null===(h=t[o].data)||void 0===h?void 0:h.category)},!0)),o}function xo(e,t){var n;return e.length&&(null===(n=t)||void 0===n?void 0:n.length)&&e[0].index===t[0].index}function So(e,t,n=!1){var o,r,l;const c=function(e,t,n=!1){return"stackTotal"!==t&&L(["center","start","end","auto","outer"],e.anchor)?e.anchor:function(e,t=!1){let n="auto";switch(e){case"point":n="center";break;case"rect":n=t?"center":"auto";break;case"sector":case"treemapSeriesName":n="center";break;case"stackTotal":n="auto"}return n}(t,n)}(e,t,n),{offsetX:h=0,offsetY:d=0}=e,m=P(e.formatter)?e.formatter:e=>String(e)||"",f={anchor:c,offsetX:h,offsetY:d,formatter:m};if(n){const t=e.stackTotal;f.stackTotal={visible:!k(null===(o=t)||void 0===o?void 0:o.visible)||t.visible,formatter:P(null===(r=t)||void 0===r?void 0:r.formatter)?t.formatter:m}}return"sector"===t&&(null===(l=e.pieSeriesName)||void 0===l?void 0:l.visible)&&(f.pieSeriesName=Object.assign({anchor:"center"},e.pieSeriesName)),f}function Oo(rect,e){const{anchor:t,offsetX:n=0,offsetY:o=0}=e,{direction:r,plot:{x:l=0,y:c=0}}=rect,h=function(rect,e){const{x:t,y:n,width:o,height:r,direction:l}=rect,c=n+r/2;let h,d="center";if("right"===l)switch(e){case"start":d="left",h=t;break;case"end":d="right",h=t+o;break;case"center":d="center",h=t+o/2;break;default:d="left",h=t+o}else switch(e){case"start":d="right",h=t+o;break;case"end":d="left",h=t;break;case"center":d="center",h=t+o/2;break;default:d="right",h=t}return{x:h,y:c,textAlign:d,textBaseline:"middle"}}(rect,t);let{x:d,y:m,textAlign:f}=h;if("auto"===t){const t=function(rect,e,t){const{width:n,value:o,direction:r,plot:l,theme:c}=rect,{formatter:h}=e,d=ze(c),m=vt(j(o)?o:h(o),d);let{x:f,textAlign:v}=t;return("left"===r&&f-m<0||f+m>l.size)&&(f=rect.x+n,v="right","left"===r&&n>=m&&(f=rect.x,v="left")),{x:f,textAlign:v}}(rect,e,{x:d,textAlign:f});d=t.x,f=t.textAlign}m+=o,"left"===r?d-=n:d+=n;return"right"===f?d-=10:"left"===f&&(d+=10),d-=l,m-=c,{x:d,y:m,textAlign:f,textBaseline:h.textBaseline}}function wo(rect,e){const{anchor:t,offsetX:n=0,offsetY:o=0}=e,{direction:r,plot:{x:l=0,y:c=0}}=rect,h=function(rect,e){const{x:t,y:n,width:o,height:r,direction:l}=rect,c=t+o/2;let h="middle",d=0;if("top"===l)switch(e){case"end":h="top",d=n;break;case"start":h="bottom",d=n+r;break;case"center":h="middle",d=n+r/2;break;default:h="bottom",d=n}else switch(e){case"end":h="bottom",d=n+r;break;case"start":h="top",d=n;break;case"center":h="middle",d=n+r/2;break;default:h="top",d=n+r}return{x:c,y:d,textAlign:"center",textBaseline:h}}(rect,t);let{x:d,y:m,textBaseline:f}=h;if("auto"===t){const e=function(rect,e,t){const{height:n,direction:o,plot:r,theme:l,value:c}=rect,h=ze(l),d=r.size,m=bt(""+c,h);let{y:f,textBaseline:v}=t;return(!("bottom"===o)&&f-m<0||f+m>d)&&(f=rect.y,v="top",f+m>d&&(f=rect.y,v="bottom"),"bottom"===o&&(f=rect.y+n,v="bottom")),{y:f,textBaseline:v}}(rect,0,h);m=e.y,f=e.textBaseline}d+=n,"top"===r?m+=o:"bottom"===r&&(m-=o);return"bottom"===f?m-=5:"top"===f&&(m+=5),d-=l,m-=c,{x:d,y:m,textAlign:h.textAlign,textBaseline:f}}function Mo(rect,e){const{type:t,value:n,direction:o,name:r,theme:l}=rect,c=function(e){return L(["left","right"],e)}(o)?Oo(rect,e):wo(rect,e),h="stackTotal"===t?e.stackTotal.formatter:e.formatter;return Object.assign(Object.assign({type:t},c),{text:j(n)?n:h(n),name:r,seriesColor:rect.color,theme:l})}function Ao(e,t){const{totalAngle:n,degree:{start:o,end:r},drawingStartAngle:l}=e;let c="center";if("outer"!==t)return c;const h=$t(0,l),d=$t(n/2,l),m=$t((r+o)/2,l);return l>=-90&&l<90?h<m&&d>m?c="left":d<m&&(c="right"):h<m&&d>m?c="right":d<m&&(c="left"),c}function Co(e,t){const{formatter:n}=t,o=function(e,t){const n=t.anchor,o=Vt(Ft(n,Object.assign(Object.assign({},e),{radius:Object.assign(Object.assign({},e.radius),{outer:"outer"===n?e.radius.outer+30:e.radius.outer})}))),r=Ao(e,n);return Object.assign(Object.assign({},o),{textAlign:r,textBaseline:To(t)?"bottom":"middle"})}(e,t),{value:r,name:l,theme:c}=e,h=t.anchor,d=Object.assign(Object.assign({},c),{color:c.useSeriesColor?e.color:c.color});return Object.assign(Object.assign({type:"sector"},o),{text:n(r),name:l,callout:jo(t)?Bo(e,h):null,theme:d})}function ko(e,t){var n,o,r,l,c;return(null===(r=null===(o=null===(n=e)||void 0===n?void 0:n.series)||void 0===o?void 0:o[t])||void 0===r?void 0:r.dataLabels)||(null===(c=null===(l=e)||void 0===l?void 0:l.series)||void 0===c?void 0:c.dataLabels)||{}}function To(e){var t;return e.anchor===(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function jo(e){var t;return"outer"===e.anchor||"outer"!==(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function Do(e){var t;return"outer"!==e.anchor||"outer"===(null===(t=e.pieSeriesName)||void 0===t?void 0:t.anchor)}function Bo(e,t){if("outer"!==t)return null;const{x:n,y:o}=Vt(Ft("outer",Object.assign(Object.assign({},e),{radius:Object.assign(Object.assign({},e.radius),{outer:e.radius.outer+20})}))),{x:r,y:l}=Vt(Ft("outer",Object.assign({},e))),{callout:c}=e.theme;return{x:n,y:o,x2:r,y2:l,theme:Object.assign(Object.assign({},c),{lineColor:c.useSeriesColor?e.color:c.lineColor})}}function Po(e,t,n){const{index:o,seriesIndex:r,chartType:l}=e;return T(o)&&("grouped"===t||T(r))&&(A(l)||l===n)}function Ro(e,t){const{index:n,seriesIndex:o,chartType:r}=e;return T(n)&&T(o)&&(A(r)||r===t)}class Eo extends Lt{constructor(){super(...arguments),this.models={rect:[],series:[],dot:[]},this.activatedResponders=[],this.eventDetectType="nearest",this.yAxisName="yAxis",this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")},this.selectSeries=e=>{const{index:t,seriesIndex:n}=e;if(!Ro(e,"line"))return;const o=this.getResponderCategoryByIndex(t);if(!o)throw new Error(se);const r=this.tooltipCircleMap[o][n];if(!r)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:[r],name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=e=>{var t;const{index:n,seriesIndex:o}=e;if(!Po(e,this.eventDetectType,"line"))return;const r=this.getResponderCategoryByIndex(n);if(!r)return;const l="grouped"===this.eventDetectType?this.tooltipCircleMap[r]:[this.tooltipCircleMap[r][o]];(null===(t=l)||void 0===t?void 0:t.length)&&(this.onMousemoveNearType(l),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize(){this.type="series",this.name="line",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}initUpdate(e){this.drawModels.rect[0].width=this.models.rect[0].width*e}setEventDetectType(e,t){var n,o;(e.area||e.column)&&(this.eventDetectType="grouped"),(null===(o=null===(n=t)||void 0===n?void 0:n.series)||void 0===o?void 0:o.eventDetectType)&&(this.eventDetectType=t.series.eventDetectType),e.scatter&&(this.eventDetectType="near")}render(e,t){var n,o;const{viewRange:r}=t,{layout:l,series:c,scale:h,axes:d,legend:legend,theme:m}=e;if(!c.line)throw new Error(re(this.name));const f=null!=(n=e.categories)?n:[],v=Object.assign({},e.options);(null===(o=v)||void 0===o?void 0:o.series)&&"line"in v.series&&(v.series=Object.assign(Object.assign({},v.series),v.series.line)),this.setEventDetectType(c,v);const y=d.xAxis,{tickDistance:x,pointOnColumn:S,labelDistance:O}=y,w=c.line.data,M={pointOnColumn:S,options:v.series||{},tickDistance:x,labelDistance:O};this.theme=m.series.line,this.rect=l.plot,this.activeSeriesMap=uo(legend),this.startIndex=r?r[0]:0,this.selectable=this.getSelectableOption(v),this.yAxisName=ii(v,this.name,"yAxis");const A=this.renderLinePointsModel(w,h,M,f),{dotSeriesModel:C,responderModel:k}=this.renderCircleModel(A,M),T=this.makeTooltipData(w,f);this.tooltipCircleMap=fo(k,T),this.models={rect:[this.renderClipRectAreaModel()],series:A,dot:C},this.drawModels||(this.drawModels=Object.assign(Object.assign({},this.models),{rect:[this.renderClipRectAreaModel(!0)]})),ko(v,this.name).visible&&this.renderDataLabels(this.getDataLabels(A)),this.responders=this.getResponders(y,k,T,f)}getResponders(e,t,n,o){let r;return r="near"===this.eventDetectType?this.makeNearTypeResponderModel(t,n):"point"===this.eventDetectType?this.makeNearTypeResponderModel(t,n,0):go(this.rect,e,o),r}makeNearTypeResponderModel(e,t,n){return e.map((e,o)=>Object.assign(Object.assign({},e),{data:t[o],detectionSize:n}))}makeTooltipData(e,t){return e.flatMap(({rawData:e,name:n,color:o},r)=>e.map((e,l)=>C(e)?{}:{label:n,color:o,value:xi(e),category:t[Oi(e,t,l,this.startIndex)],seriesIndex:r,index:l}))}renderClipRectAreaModel(e){return{type:"clipRectArea",x:0,y:0,width:e?0:this.rect.width,height:this.rect.height}}renderLinePointsModel(e,t,n,o){var r,l;const{spline:c}=n.options,h=t[this.yAxisName].limit,d=null===(l=null===(r=t)||void 0===r?void 0:r.xAxis)||void 0===l?void 0:l.limit,{lineWidth:m,dashSegments:f}=this.theme;return e.map(({rawData:e,name:t,color:r},l)=>{const v=[],y=this.activeSeriesMap[t];return e.forEach((e,t)=>{if(C(e))return v.push(null);const r=xi(e),l=(1-Dt(r,h))*this.rect.height,c=Rt(z(n,"pointOnColumn","tickDistance","labelDistance"),this.rect.width,d,Si(e),Oi(e,o,t,this.startIndex));v.push({x:c,y:l,value:r})}),c&&jt(v),{type:"linePoints",points:v,seriesIndex:l,name:t,color:Ke(r,y?1:.3),lineWidth:m,dashSegments:f}})}renderCircleModel(e,{options:t}){const n=[],o=[],r=!!t.showDot,{hover:l,dot:c}=this.theme,h=l.dot;return e.forEach(({color:e,name:t,points:l},d)=>{const m=this.activeSeriesMap[t];l.forEach((l,f)=>{var v,y;if(C(l))return;const{x:x,y:S}=l,O={type:"circle",x:x,y:S,seriesIndex:d,name:t,index:f};r&&n.push(Object.assign(Object.assign({},O),{radius:c.radius,color:Ke(e,m?1:.3),style:[{lineWidth:c.borderWidth,strokeStyle:(v=c.borderColor,null!=v?v:e)}]})),o.push(Object.assign(Object.assign({},O),{radius:h.radius,color:(y=h.color,null!=y?y:Ke(e,1)),style:["default"]}))})}),{dotSeriesModel:n,responderModel:o}}getCircleModelsFromRectResponders(e,t){var n,o;if(!e.length||!e[0].label)return[];const r=null!=(o=this.tooltipCircleMap[null===(n=e[0])||void 0===n?void 0:n.label])?o:[];return"grouped"===this.eventDetectType?r:mo(r,t,this.rect)}onMousemoveNearType(e){this.eventBus.emit("renderHoveredSeries",{models:this.getResponderSeriesWithTheme(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e}onMousemoveNearestType(e,t){const n=this.getCircleModelsFromRectResponders(e,t);this.onMousemoveNearType(n)}onMousemoveGroupedType(e){const t=this.getCircleModelsFromRectResponders(e);this.onMousemoveNearType(t)}onMousemove({responders:e,mousePosition:t}){"nearest"===this.eventDetectType?this.onMousemoveNearestType(e,t):L(["near","point"],this.eventDetectType)?this.onMousemoveNearType(e):this.onMousemoveGroupedType(e),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}getDataLabels(e){const t=this.theme.dataLabels;return e.flatMap(({points:e,name:n,color:o})=>e.map(e=>C(e)?{}:Object.assign(Object.assign({type:"point"},e),{name:n,theme:Object.assign(Object.assign({},t),{color:t.useSeriesColor?o:t.color})})))}getResponderSeriesWithTheme(e,t){const{radius:n,color:o,borderWidth:r,borderColor:l}=this.theme[t].dot;return e.map(e=>{const t=null!=o?o:e.color;return Object.assign(Object.assign({},e),{radius:n,color:t,style:[{lineWidth:r,strokeStyle:null!=l?l:Ke(t,.5)}]})})}onClick({responders:e,mousePosition:t}){if(this.selectable){let n;n="near"===this.eventDetectType?e:this.getCircleModelsFromRectResponders(e,t),this.eventBus.emit("renderSelectedSeries",{models:this.getResponderSeriesWithTheme(n,"select"),name:this.name}),this.eventBus.emit("needDraw")}}getResponderCategoryByIndex(e){var t,n;return null===(n=null===(t=Object.values(this.tooltipCircleMap).flatMap(e=>e).find(t=>t.index===e))||void 0===t?void 0:t.data)||void 0===n?void 0:n.category}}class Lo extends Lt{constructor(){super(...arguments),this.activatedResponders=[],this.seriesColorMap={},this.seriesIconTypeMap={},this.onClickCheckbox=e=>{const{label:label,checked:t}=e[0];this.store.dispatch("setAllLegendActiveState",!0),this.store.dispatch("setLegendCheckedState",{name:label,checked:!t}),t?this.store.dispatch("disableSeries",label):this.store.dispatch("enableSeries",label),this.eventBus.emit("needDraw")},this.onClickLabel=e=>{const{label:label}=e[0];this.eventBus.emit("resetSelectedSeries"),this.activatedResponders.length&&this.activatedResponders[0].label===label?(this.store.dispatch("setAllLegendActiveState",!0),this.activatedResponders=[]):(this.store.dispatch("setAllLegendActiveState",!1),this.store.dispatch("setLegendActiveState",{name:label,active:!0}),this.activatedResponders=e),this.eventBus.emit("needDraw")}}onClick({responders:e}){var t;if(e.length){const{data:data}=e[0];"checkbox"===(null===(t=data)||void 0===t?void 0:t.name)?this.eventBus.emit("clickLegendCheckbox",Se(e)):this.eventBus.emit("clickLegendLabel",Se(e))}}initialize(){this.type="legend",this.name="legend",this.eventBus.on("clickLegendCheckbox",this.onClickCheckbox),this.eventBus.on("clickLegendLabel",this.onClickLabel)}initColorAndIconTypeMap(e){this.seriesColorMap={},this.seriesIconTypeMap={},e.forEach(({label:label,color:e,iconType:t})=>{this.seriesColorMap[label]=e,this.seriesIconTypeMap[label]=t})}renderLegendModel(legend){const{data:data,showCheckbox:e,align:t,useScatterChartIcon:n}=legend,o=hs(t),r=data.map(({width:e})=>e),l=os(this.theme.label.fontSize);return[Object.assign({type:"legend",align:t,showCheckbox:e,data:data.map((e,t)=>{var c;const h=U(r.slice(0,t))+es*t;return Object.assign(Object.assign({},e),{iconType:(c=this.seriesIconTypeMap[e.label],null!=c?c:e.iconType),color:this.seriesColorMap[e.label],x:o?0+h:0,y:o?cs.Y:cs.Y+l*t,useScatterChartIcon:n})})},this.theme.label)]}makeCheckboxResponder(data,e){return e?data.map(e=>Object.assign(Object.assign({},e),{type:"rect",x:e.x,y:e.y,width:ss,height:ss,data:{name:"checkbox"}})):[]}makeLabelResponder(data,e){const t=Ee(this.theme.label);return data.map(n=>Object.assign(Object.assign({},n),{type:"rect",x:n.x+(e?ss+ts:0)+ns+ts,y:n.y,width:vt(n.label,t),data:{name:"label"},height:ss}))}render({layout:e,legend:legend,theme:t}){if(this.isShow=legend.visible,!this.isShow)return;const{showCheckbox:n,data:o}=legend;this.rect=e.legend,this.theme=t.legend,this.initColorAndIconTypeMap(o),this.models=this.renderLegendModel(legend);const{data:data}=this.models[0],r=this.makeCheckboxResponder(data,n),l=this.makeLabelResponder(data,n);this.responders=[...r,...l]}}function zo(e,t,rect){var n;const{type:o}=e,r=[];if("point"===o)r.push(function(e,t,rect){const{width:n,height:o}=rect,{anchor:r,offsetX:l=0,offsetY:c=0,formatter:h}=t,{name:d,theme:m}=e;let f="middle";"end"===r?f="bottom":"start"===r&&(f="top");const v=e.x+l,y=e.y+c;return{type:"point",x:v<0||v>n?e.x:v,y:y<0||y>o?e.y:y,text:h(e.value),textAlign:"center",textBaseline:f,name:d,theme:m}}(e,t,rect));else if("sector"===o){if(r.push(Co(e,t)),null===(n=t.pieSeriesName)||void 0===n?void 0:n.visible){const n=function(e,t){var n;const o=null===(n=t.pieSeriesName)||void 0===n?void 0:n.anchor,r="outer"===o,l=Vt(Ft(o,Object.assign(Object.assign({},e),{radius:Object.assign(Object.assign({},e.radius),{outer:r?e.radius.outer+30:e.radius.outer})}))),c=Ao(e,o),h=e.theme.pieSeriesName,d=Object.assign(Object.assign({},h),{color:h.useSeriesColor?e.color:h.color});return Object.assign(Object.assign({type:"pieSeriesName"},l),{text:e.name,callout:Do(t)?Bo(e,o):null,textAlign:c,textBaseline:To(t)?"top":"middle",theme:d})}(e,t);r.push(n)}}else"line"===o?r.push(function(e,t){const{value:n,textAlign:o,textBaseline:r}=e,{formatter:l}=t;return Object.assign(Object.assign({},e),{x:e.x,y:(e.y+e.y2)/2,textAlign:null!=o?o:"center",textBaseline:null!=r?r:"middle",text:j(n)?n:l(n)})}(e,t)):r.push(Mo(e,t));return r}class Io extends Lt{constructor(){super(...arguments),this.dataLabelsMap={},this.renderSeriesDataLabels=e=>{this.appendDataLabels(e),this.models=this.renderLabelModel(),this.drawModels?this.sync():this.drawModels=this.getDrawModelsAppliedOpacity(0)}}initialize(){this.type="dataLabels",this.name="dataLabels",this.eventBus.on("renderDataLabels",this.renderSeriesDataLabels)}initUpdate(e){this.drawModels&&(this.drawModels=this.getDrawModelsAppliedOpacity(e))}render({layout:e,options:t,series:n,nestedPieSeries:o}){this.rect=e.plot,this.options=t,this.isShow=this.visibleDataLabels(n,o)}visibleDataLabels(e,t){var n,o;const r=!!(null===(o=null===(n=this.options.series)||void 0===n?void 0:n.dataLabels)||void 0===o?void 0:o.visible),l=Object.keys(e).some(e=>{var t,n,o;return!!(null===(o=null===(n=null===(t=this.options.series)||void 0===t?void 0:t[e])||void 0===n?void 0:n.dataLabels)||void 0===o?void 0:o.visible)}),c=!(!t||!Object.keys(t).some(e=>{var t,n,o;return!!(null===(o=null===(n=null===(t=this.options.series)||void 0===t?void 0:t[e])||void 0===n?void 0:n.dataLabels)||void 0===o?void 0:o.visible)}));return r||l||c}appendDataLabels({name:e,data:data}){const t=ko(this.options,e),n=!!Fn(this.options),o=[];data.forEach(e=>{var r;const{type:l,value:c}=e,h=So(t,l,n);"stackTotal"===l&&!(null===(r=h.stackTotal)||void 0===r?void 0:r.visible)||A(c)||o.splice(o.length,0,...zo(e,h,this.rect))}),this.dataLabelsMap[e]={data:o,options:t}}getDrawModelsAppliedOpacity(e){return Object.keys(this.models).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:this.models[n].map(t=>Object.assign(Object.assign({},t),{opacity:e}))}),{series:[],total:[]})}renderLabelModel(){return Object.keys(this.dataLabelsMap).map(e=>{const{data:data}=this.dataLabelsMap[e];return this.makeLabelModel(data)}).reduce((e,t)=>({series:[...e.series,...t.series],total:[...e.total,...t.total]}),{series:[],total:[]})}makeLabelModel(e){return e.reduce((e,t)=>{var n;const{type:o,x:r,y:l,text:text,textAlign:c,textBaseline:h,name:d,callout:m,theme:f}=t;if(!function(rect,e){const{height:t,width:n}=rect,{x:o,y:r}=e;return o>=0&&o<=n&&r>=0&&r<=t}(this.rect,{x:r,y:l}))return e;const v="stackTotal"===o?"total":"series";return Object.assign(Object.assign({},e),{[v]:[...(n=e[v],null!=n?n:[]),{type:"dataLabel",dataLabelType:o,text:text,x:r,y:l,textAlign:c,textBaseline:h,opacity:1,name:d,callout:m,theme:f}]})},{series:[],total:[]})}}class Wo extends Lt{initialize({name:e}){this.type="axisTitle",this.name=e,this.isYAxis=L([zt.Y,zt.SECONDARY_Y],e)}renderAxisTitle(option,e){const{text:text,offsetX:t,offsetY:n}=option,[o,r]=this.isYAxis?[this.name===zt.Y?t:this.rect.width+t,n]:[this.rect.width+t,n],l=Ee(this.theme);return[{type:"label",text:text,x:o,y:r,style:["axisTitle",{textAlign:e,fillStyle:this.theme.color,font:l}]}]}getTextAlign(e=!1){let t="right";return this.name===zt.Y&&(t=e?"center":"left"),t}render({axes:e,layout:t,theme:n}){var o;const r=null===(o=e[this.name])||void 0===o?void 0:o.title;this.isShow=!!r,this.isShow&&(this.rect=t[this.name+"Title"],this.theme=ni(n,this.name).title,this.models=this.renderAxisTitle(r,this.getTextAlign(!!e.centerYAxis)))}}class No extends Lt{initialize(){this.type="title",this.name="title"}renderTitle(e){var t,n,o;let text="",r=0,l=0,c="left";j(e)?text=e:(text=e.text,c=null!=(t=e.align)?t:"left",r+=null!=(n=e.offsetX)?n:0,l+=null!=(o=e.offsetY)?o:0);const h=Ee(this.theme),d=vt(text,h);return"center"===c?r+=(this.rect.width-d)/2:"right"===c&&(r+=this.rect.width-d),[{type:"label",x:r,y:l,text:text,style:["title",{font:h,fillStyle:this.theme.color}]}]}render({options:e,layout:t,theme:n}){var o;this.isShow=!!(null===(o=e.chart)||void 0===o?void 0:o.title),this.isShow&&(this.theme=n.title,this.rect=t.title,this.models=this.renderTitle(e.chart.title))}}var Yo=function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};const _o={line:"circle",area:"circle",boxPlot:"boxPlot"};class Ho extends Lt{constructor(){super(...arguments),this.models={guideLine:[]},this.isShow=!1,this.renderHoveredSeries=({models:e,name:t,eventDetectType:n})=>{var o,r;const l=this.getSeriesModels(t);this.models[t]=[...e],this.isShow=!!this.getSeriesModels().length;const c=!!(null===(o=l)||void 0===o?void 0:o.length)&&!!e.length&&po({models:e,comparisonModel:l,eventDetectType:n,name:t});(null===(r=l)||void 0===r?void 0:r.length)&&!e.length?this.eventBus.emit("unhoverSeries",Se(l)):e.length&&!c&&this.eventBus.emit("hoverSeries",Se(e)),this.modelForGuideLine=this.getModelForGuideLine(t),"grouped"===n&&this.renderGroupedModels(t)},this.resetHoveredSeries=()=>{this.models={guideLine:[]}}}getSeriesModels(e){var t;const n=this.models,{guideLine:o}=n,r=Yo(n,["guideLine"]);return null===(t=e?r[e]:Object.values(r))||void 0===t?void 0:t.flatMap(e=>e)}hasGuideLine(){const[e]=this.getSeriesModels().filter(({type:e})=>"rect"===e);return!A(this.modelForGuideLine)&&A(e)}getModelForGuideLine(e){return this.getSeriesModels().filter(({type:t})=>t===_o[e])[0]}renderGroupedModels(e){L(Object.keys(_o),e)&&(this.isShow&&this.hasGuideLine()?this.models.guideLine=[this.renderGuideLineModel(this.modelForGuideLine)]:this.models.guideLine=[])}renderGuideLineModel(e){const t=kt("boxPlot"===e.type&&e.boxPlotDetection?e.boxPlotDetection.x+e.boxPlotDetection.width/2:e.x);return{type:"line",x:t,y:0,x2:t,y2:this.rect.height,strokeStyle:"#ddd",lineWidth:1}}initialize(){this.type="hoveredSeries",this.name="hoveredSeries",this.eventBus.on("renderHoveredSeries",this.renderHoveredSeries),this.eventBus.on("resetHoveredSeries",this.resetHoveredSeries)}render({layout:e}){this.rect=e.plot}}class Fo extends Lt{constructor(){super(...arguments),this.models={selectionArea:[]},this.dragStartPosition=null,this.dragStartPoint=null,this.isDragging=!1}initialize(){this.type="zoom"}render(e){if(!e.zoomRange)return;this.resetSelectionArea();const{layout:t,axes:n,categories:o}=e;this.rect=t.plot;const{tickDistance:r,pointOnColumn:l,tickCount:c}=n.xAxis;this.responders=this.makeRectResponderModel(o,{pointOnColumn:l,tickDistance:r,tickCount:c})}resetSelectionArea(){this.dragStartPosition=null,this.dragStartPoint=null,this.models.selectionArea=[],this.isDragging=!1}onMousedown({responders:e,mousePosition:t}){e.length&&(this.dragStartPoint=e.find(e=>"selectionArea"===e.data.name),this.dragStartPosition=t)}onMouseup({responders:e}){if(this.isDragging&&this.dragStartPoint&&e.length){const t=[this.dragStartPoint,e[0]].sort((a,b)=>a.index-b.index).map(e=>{var t;return null===(t=e.data)||void 0===t?void 0:t.value});this.store.dispatch("zoom",t),this.eventBus.emit("zoom",Se(t)),this.eventBus.emit("resetHoveredSeries"),this.eventBus.emit("hideTooltip"),setTimeout(()=>{this.eventBus.emit("resetSelectedSeries")})}this.resetSelectionArea()}makeRectResponderModel(e,t){const n=e.length,{pointOnColumn:o,tickDistance:r}=t,{height:l}=this.rect,c=o?[]:[0,n-1],h=r/2;return E(0,n).map(t=>{const n=c.includes(t);let d=0;return 0!==t&&(d+=o?r*t:h+r*(t-1)),{type:"rect",x:d,y:0,height:l,width:n?h:r,index:t,data:{name:"selectionArea",value:e[t]}}})}onMousemove({responders:e,mousePosition:t}){if(e.length){if(this.dragStartPosition&&!this.isDragging){const{x:e}=t,{x:n}=this.dragStartPosition;this.isDragging=Math.abs(n-e)>15}if(this.isDragging){const t=this.dragStartPoint.index,n=e[0].index,[o,r]=[t,n].sort($),l=this.responders.slice(o,r+1);this.models.selectionArea=[...l.map(e=>Object.assign(Object.assign({},e),{x:e.x,y:0,type:"rect",color:"rgba(0, 0, 0, 0.2)"}))],this.eventBus.emit("needDraw")}}}onMouseoutComponent(){this.resetSelectionArea()}}class $o extends Lt{initialize(){this.type="resetButton",this.name="resetButton"}onClick({responders:e}){e.length&&(this.eventBus.emit("resetZoom"),this.store.dispatch("resetZoom"))}render({options:e,layout:t},n){bs(e)&&(this.rect=t.resetButton,this.isShow=n.isLineTypeSeriesZooming,this.models=this.isShow?[{type:"resetButton",x:0,y:0}]:[],this.responders=this.isShow?[{type:"rect",x:0,y:0,width:24,height:24}]:[])}}class Vo extends Lt{constructor(){super(...arguments),this.models={},this.activeSeriesNames={},this.isShow=!1,this.renderSelectedSeries=e=>{const{name:t,alias:n}=e,o=this.getSelectedSeriesModels(e);this.models[n||t]=po(Object.assign(Object.assign({},e),{models:o,comparisonModel:this.models[n||t]}))?[]:o,this.isShow=!!Object.values(this.models).flatMap(e=>e).length,this.eventBus.emit(this.isShow?"selectSeries":"unselectSeries",Se(this.models)),this.activeSeriesNames[t]=this.getSeriesNames(e.models,t),this.setActiveState()},this.resetSelectedSeries=()=>{this.models={},this.store.dispatch("setAllLegendActiveState",!0)}}getSeriesNames(e,t){const n=[];return L(["line","area","radar","bubble","scatter","bullet","boxPlot"],t)?e.forEach(e=>{const label=e.name;label&&n.push(label)}):L(["bar","column"],t)?e.forEach(e=>{var t;const label=null===(t=e.data)||void 0===t?void 0:t.label;label&&n.push(label)}):"pie"===t&&Object.keys(this.models).flatMap(e=>this.models[e]).forEach(e=>{var t,o;const label=(null===(t=e.data)||void 0===t?void 0:t.rootParentName)||(null===(o=e.data)||void 0===o?void 0:o.label);label&&n.push(label)}),n}getSelectedSeriesModels(e){const{models:t,eventDetectType:n,name:o}=e;let r=t;return"column"!==o&&"bar"!==o&&"bullet"!==o||"grouped"!==n||(r=t.filter(e=>!e.data)),r}setActiveState(){this.isShow?(this.store.dispatch("setAllLegendActiveState",!1),Object.values(this.activeSeriesNames).forEach(e=>{e.forEach(e=>{this.store.dispatch("setLegendActiveState",{name:e,active:!0})})})):this.store.dispatch("setAllLegendActiveState",!0),this.eventBus.emit("needDraw")}initialize(){this.type="selectedSeries",this.name="selectedSeries",this.eventBus.on("renderSelectedSeries",this.renderSelectedSeries),this.eventBus.on("resetSelectedSeries",this.resetSelectedSeries)}render({layout:e}){this.rect=e.plot}}class Go extends Lt{initialize(){this.type="background",this.name="background"}render({layout:e,theme:t}){const{width:n,height:o}=e.chart;this.theme=t.chart,this.rect={x:0,y:0,width:n,height:o},this.models=[Object.assign(Object.assign({type:"rect"},this.rect),{color:this.theme.backgroundColor})]}}function Xo(e,t){const{color:n,lineWidth:o,points:r,dashSegments:l=[]}=t;e.lineCap="round",e.beginPath(),l&&Ie(e,l);let c=!1;r.forEach((t,n)=>{var o,l;if(C(t))c=!1;else{if(!c)return e.moveTo(t.x,t.y),void(c=!0);if(t.controlPoint&&(null===(l=null===(o=r[n-1])||void 0===o?void 0:o.controlPoint)||void 0===l?void 0:l.next)){const{x:o,y:l}=r[n-1].controlPoint.next,{controlPoint:c,x:h,y:d}=t;e.bezierCurveTo(o,l,c.prev.x,c.prev.y,h,d)}else e.lineTo(t.x,t.y)}}),Ye(e,{lineWidth:o,strokeStyle:n}),e.closePath(),Ie(e,[])}function Uo(e,t){const{fillColor:n}=t;e.beginPath(),Xo(e,t),Ne(e,n),e.closePath()}function Ko(e,t){const{opened:n,x:o,y:r,theme:l}=t,{borderColor:c,backgroundColor:h,borderWidth:d,borderRadius:m,xIcon:f,dotIcon:v}=l,y=o+d,x=r+d,S=24-2*d;tt(e,{type:"pathRect",x:y,y:x,fill:h,stroke:c,width:S,height:S,radius:m,lineWidth:d}),n?function(e,t,n){const{x:o,y:r,theme:{color:l,lineWidth:c}}=t,h=n/3,d=o+h,m=r+h,f=o+2*h,v=r+2*h;[{x:d,y:m,x2:f,y2:v},{x:d,y:v,x2:f,y2:m}].forEach(p=>{it(e,Object.assign(Object.assign({type:"line"},p),{strokeStyle:l,lineWidth:c}))})}(e,{x:y,y:x,theme:f},S):function(e,t,n){const{x:o,y:r,theme:{color:l,width:c,height:h,gap:d}}=t,m=(n-(3*h+2*d))/2,f=o+(n-c)/2;[{x:f,y:r+m},{x:f,y:r+m+h+d},{x:f,y:r+m+2*(h+d)}].forEach(p=>{st(e,Object.assign(Object.assign({type:"rect"},p),{color:l,width:c,height:h}))})}(e,{x:y,y:x,theme:v},S)}function qo(e,t){const{x:n,y:o}=t;tt(e,{type:"pathRect",x:n,y:o,fill:"#f4f4f4",stroke:"#f4f4f4",width:24,height:24,radius:5}),function(e,t){const{x:n,y:o}=t,r=n+12,l=o+12,c="#545454";it(e,{type:"line",lineWidth:2,x:r-2,y:l+24/7,x2:r+2,y2:l+24/7,strokeStyle:c}),it(e,{type:"line",lineWidth:2,x:r-2,y:l-24/7,x2:r+2,y2:l-24/7,strokeStyle:c}),circle(e,{type:"circle",x:r+2,y:l,radius:24/7,angle:{start:Math.PI/2,end:3*Math.PI/2},color:"transparent",style:[{lineWidth:2,strokeStyle:c}]});const h=r-2,d=l-24/7;Uo(e,{type:"areaPoints",points:[{x:h-3,y:d},{x:h,y:d-3},{x:h,y:d+3}],lineWidth:1,color:c,fillColor:c})}(e,{x:n,y:o})}function Zo(e,t){const{x:n,y:o}=t;tt(e,{type:"pathRect",x:n,y:o,fill:"#f4f4f4",stroke:"#f4f4f4",width:24,height:24,radius:5}),function(e,t){const{x:n,y:o}=t,r=n+12,l=o+12;circle(e,{type:"circle",x:r,y:l,radius:4.8,angle:{start:0,end:Math.PI/2},color:"transparent",style:[{lineWidth:2,strokeStyle:"#545454"}]});const c=r+4.8;Uo(e,{type:"areaPoints",points:[{x:c-3,y:l},{x:c+3,y:l},{x:c,y:l+3}],lineWidth:1,color:"#545454",fillColor:"#545454"})}(e,{x:n,y:o})}class Jo extends Cn{constructor(e){var t;super({el:e.el,options:e.options,series:{line:e.data.series},categories:null===(t=e.data)||void 0===t?void 0:t.categories}),this.modules=[jn,Qn,Bi,so],this.addData=(data,e)=>{var t;(null===(t=this.store.state.options.series)||void 0===t?void 0:t.showDot)&&(this.animationControlFlag.updating=!0),this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Eo),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(Io),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(Fo),this.componentManager.add($o),this.painter.addGroups([o,l,v,f,r,y,c,x])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{line:t},categories:e})}addPlotLine(data){this.store.dispatch("addPlotLine",{data:data})}removePlotLine(e){this.store.dispatch("removePlotLine",{id:e})}addPlotBand(data){this.store.dispatch("addPlotBand",{data:data})}removePlotBand(e){this.store.dispatch("removePlotBand",{id:e})}}function Qo(e,t,n){var o,r;return[{hasOuterLabel:t.visible&&"outer"===t.anchor,labels:["00.00%"],theme:n},{hasOuterLabel:(null===(o=t.pieSeriesName)||void 0===o?void 0:o.visible)&&"outer"===(null===(r=t.pieSeriesName)||void 0===r?void 0:r.anchor),labels:e,theme:n.pieSeriesName}].reduce((e,t)=>{const{width:n,height:o}=e,{hasOuterLabel:r,labels:l,theme:c}=t;if(r){const{maxLabelWidth:e,maxLabelHeight:t}=mi(l,0,ze(c));return{width:Math.max(e+30,n),height:Math.max(t+30,o)}}return e},{width:0,height:0})}class er extends Lt{constructor(){super(...arguments),this.models={series:[]},this.activatedResponders=[],this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.alias||this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.alias||this.name}),this.eventBus.emit("needDraw")},this.selectSeries=({seriesIndex:e,name:t})=>{if(!T(e)||!A(t)&&t!==this.alias)return;const n=this.responders[e];if(!n)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:this.getResponderModelsWithTheme([n],"select"),name:this.name,alias:this.alias}),this.eventBus.emit("needDraw")},this.showTooltip=({seriesIndex:e,name:t})=>{if(!T(e)||!A(t)&&t!==this.alias)return;const n=[this.responders[e]];n.length&&(this.eventBus.emit("renderHoveredSeries",{models:this.getResponderModelsWithTheme(n,"hover"),name:this.name,alias:this.alias}),this.activatedResponders=this.makeTooltipResponder(n),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.alias||this.name}),this.eventBus.emit("needDraw"))}}initUpdate(e){if(!this.drawModels)return;let t;const n=this.models.series.findIndex(({clockwise:n,degree:{start:o,end:r},totalAngle:l})=>(t=n?l*e:360-l*e,Xt(n,o,r,t)));this.syncEndAngle(n<0?this.models.series.length:n),~n&&(this.drawModels.series[n].degree.end=t)}syncEndAngle(e){if(!(e<1))for(let i=0;i<e;i+=1){const e=this.models.series[i].degree.end;this.drawModels.series[i].degree.end!==e&&(this.drawModels.series[i].degree.end=e)}}initialize(param){var e,t;this.type="series",this.name="pie",this.alias=null!=(t=null===(e=param)||void 0===e?void 0:e.alias)?t:"",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}render(e){var t,n,o,r;const{layout:l,series:c,legend:legend,options:h,nestedPieSeries:d,theme:m}=e,f=null!=(t=e.categories)?t:[];if(!c.pie)throw new Error(re(this.name));const v=m.series.pie;let y,x;this.theme=this.alias?v[this.alias]:v,this.rect=l.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(h);const S=ko(h,this.alias);if(d){const{data:data}=d[this.alias],e=Object.keys(d),t=e.findIndex(e=>e===this.alias),o=G(e),r=Qo(d[o].data.map(({name:e})=>e),ko(h,o),this.theme.dataLabels),l=this.getRenderOptionsMap(h,e,r);y=this.renderPieModel(data,l[this.alias],t),x=zs(data,null===(n=f)||void 0===n?void 0:n[t])}else{const e=null===(o=c.pie)||void 0===o?void 0:o.data,{width:t,height:n}=Qo(e.map(({name:e})=>e),S,this.theme.dataLabels),l=this.makeRenderOptions(h,t,n);y=this.renderPieModel(e,l),x=zs(e,null===(r=f)||void 0===r?void 0:r[0])}if(this.models.series=y,this.drawModels||(this.drawModels={series:this.models.series.map(e=>Object.assign(Object.assign({},e),{degree:Object.assign(Object.assign({},e.degree),{end:e.degree.start})}))}),S.visible){const e=y.map(e=>Object.assign(Object.assign({},e),{value:""+Ns(e.percentValue),theme:this.theme.dataLabels}));this.renderDataLabels(e,this.alias)}this.responders=y.map((e,t)=>Object.assign(Object.assign({},e),{type:"sector",radius:e.radius,seriesIndex:t,data:Object.assign(Object.assign({},x[t]),{percentValue:e.percentValue}),color:Ke(e.color,1)}))}getRadiusRangeMap(e,t){return t.reduce((t,n)=>{var o,r;const l=this.getOptions(e,n).series;return(null===(o=l)||void 0===o?void 0:o.radiusRange)&&(t[n]=null===(r=l)||void 0===r?void 0:r.radiusRange),t},{})}getRenderOptionsMap(e,t,n){const o=this.initRenderOptionsMap(e,t,n),r=this.getRadiusRangeMap(e,t);return t.forEach((e,n)=>{const l=Object.values(o).map(({radiusRange:e})=>e);o[e].radiusRange=function({alias:e,renderOptions:t,radiusRangeMap:n,pieIndex:o,radiusRanges:r,totalPieAliasCount:l}){var c,h,d,m,f;const v=Object.keys(n).length,{defaultRadius:y=0}=t;let{inner:x,outer:S}=t.radiusRange;if(!n[e])if(v)if(o&&r[o-1].outer&&(x=r[o-1].outer),null===(c=r[o+1])||void 0===c?void 0:c.inner)S=r[o+1].inner;else if(o===l-1)S=y;else{S=x+(y-(null!=(d=null===(h=r[o-1])||void 0===h?void 0:h.outer)?d:0)-(null!=(f=null===(m=r[o+1])||void 0===m?void 0:m.inner)?f:0))/(l-v)}else{const e=y/l;x=o*e,S=(o+1)*e}return{inner:x,outer:S}}({alias:e,renderOptions:o[e],radiusRangeMap:r,pieIndex:n,radiusRanges:l,totalPieAliasCount:t.length})}),o}initRenderOptionsMap(e,t,{width:n,height:o}){return t.reduce((t,r)=>Object.assign(Object.assign({},t),{[r]:this.makeRenderOptions(this.getOptions(e,r),n,o)}),{})}getOptions(e,t){var n;const o=Object.assign({},e);return(null===(n=o)||void 0===n?void 0:n.series)&&t&&(o.series=Object.assign(Object.assign({},o.series),o.series[t])),o}makeRenderOptions(e,t=0,n=0){var o,r,l,c,h,d,m,f,v,y,x,S,O,w;const M=e.series,A=null==(r=null===(o=M)||void 0===o?void 0:o.clockwise)||r,C=null!=(h=null===(c=null===(l=M)||void 0===l?void 0:l.angleRange)||void 0===c?void 0:c.start)?h:0,k=null!=(f=null===(m=null===(d=M)||void 0===d?void 0:d.angleRange)||void 0===m?void 0:m.end)?f:360,T=Ls(A,C,k),j=function(e,t,n){return Ls(e,t,n)<=180&&(function(e,t,n){return e&&(t>=-90&&n<=90||t>=90&&n<=180)}(e,t,n)||function(e,t,n){return!e&&(t>=-180&&n<=90||t<=90&&n>=-90)}(e,t,n))}(A,C,k),{width:D,height:B}=this.rect,P=function({width:e,height:t},n=!1,o=0,r=0){let l;return l=n?Math.min(e/2,t)-r:e>t?t/2-r:e/2-o,Math.max(l,10)}(this.rect,j,t,n),R=Q(P,null!=(x=null===(y=null===(v=M)||void 0===v?void 0:v.radiusRange)||void 0===y?void 0:y.inner)?x:0),E=Q(P,null!=(w=null===(O=null===(S=M)||void 0===S?void 0:S.radiusRange)||void 0===O?void 0:O.outer)?w:this.alias?0:P);return{clockwise:A,cx:D/2,cy:j?function(e,t){return t?e*Es:e*Rs}(this.rect.height,A):B/2,drawingStartAngle:C-90,radiusRange:{inner:R,outer:E},angleRange:{start:C,end:k},totalAngle:T,defaultRadius:P}}renderPieModel(e,t,n){const o=[],r=e.reduce((e,{data:data})=>e+(null!=data?data:0),0),{clockwise:l,cx:c,cy:h,drawingStartAngle:d,radiusRange:{inner:m,outer:f},totalAngle:v}=t,y=l?0:360,{lineWidth:x,strokeStyle:S}=this.theme;return e.forEach((t,O)=>{const w=this.alias?this.getAliasSeriesColor(t,e,n):this.getSeriesColor(t),{data:data,name:M}=t;if(!C(data)){const e=Math.max(data/r*v,1)*(l?1:-1),t=data/r*100,n=o[o.length-1],A=O&&n?n.degree.end:y,C=l?Math.min(A+e,360):Math.max(A+e,0);o.push({type:"sector",name:M,color:w,x:c,y:h,degree:{start:A,end:C},radius:{inner:m,outer:f},value:data,style:[{lineWidth:x,strokeStyle:S}],clockwise:l,drawingStartAngle:d,totalAngle:v,percentValue:t})}}),o}makeTooltipResponder(e){return e.map(e=>Object.assign(Object.assign({},e),Vt(Ft("center",this.models.series[e.seriesIndex]))))}onMousemove({responders:e}){this.eventBus.emit("renderHoveredSeries",{models:this.getResponderModelsWithTheme(e,"hover"),name:this.alias||this.name}),this.activatedResponders=this.makeTooltipResponder(e),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.alias||this.name}),this.eventBus.emit("needDraw")}onClick({responders:e}){this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getResponderModelsWithTheme(e,"select"),name:this.name,alias:this.alias}),this.eventBus.emit("needDraw"))}getResponderModelsWithTheme(e,t){const n=this.theme[t],o=n.lineWidth,r=this.theme.lineWidth===o?0:.5*o;return e.map(e=>{var t,o;return Object.assign(Object.assign({},e),{color:(o=null===(t=n)||void 0===t?void 0:t.color,null!=o?o:e.color),style:[z(n,"lineWidth","strokeStyle","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY")],radius:{inner:Math.max(e.radius.inner-r,0),outer:e.radius.outer+r}})})}getOpacity(e,t){const{select:select,areaOpacity:n}=this.theme,{areaOpacity:o,restSeries:{areaOpacity:r}}=select;return t?e?o:r:n}getIndexOfGroup(e,t,n){return e.filter(e=>t===e.parentName).findIndex(e=>n===e.name)}getSeriesColor(e){const{color:t,name:n}=e,o=this.activeSeriesMap[n];return Ke(t,this.getOpacity(o,this.hasActiveSeries()))}getAliasSeriesColor(e,t,n){const{color:o,name:r}=e,{select:{color:l}}=this.theme,{rootParentName:c,parentName:h}=e,d=this.getIndexOfGroup(t,h,r),m=this.getAliasSeriesOpacity(c,h,n,d,r);return Ke(this.activeSeriesMap[null!=c?c:r]&&null!=l?l:o,m)}getAliasSeriesOpacity(e,t,n,o,r){const l=this.activeSeriesMap[null!=e?e:r],c=this.getOpacity(l,this.hasActiveSeries());return n&&t?function(e,t,n,o=.85){const r=Number((e*Math.pow(o,t)).toFixed(2));return Number(Math.pow(r,n+1).toFixed(2))}(c,n,o):c}hasActiveSeries(){return Object.values(this.activeSeriesMap).some(e=>!e)}}function ir(e,t){const{degree:{start:n,end:o},color:r,style:style}=t;if(n===o)return;const l=360===Math.abs(n-o);if(e.beginPath(),style){const t=Pe(style,{});Object.keys(t).forEach(n=>{e[n]=t[n]})}l?function(e,t){const{x:n,y:o,radius:{inner:r,outer:l},clockwise:c}=t;if(e.arc(n,o,l,0,2*Math.PI,!c),r){const{x:t,y:l}=Gt(n,o,r,0),h=r?t:n,d=r?l:o;e.moveTo(h,d),e.arc(n,o,r,0,2*Math.PI,c)}}(e,t):function(e,t){const{x:n,y:o,radius:{inner:r,outer:l},degree:{start:c,end:h},clockwise:d,drawingStartAngle:m}=t;if(r<=0&&l<=0)return;const f=$t(c,m),v=$t(h,m);r||e.moveTo(n,o);e.arc(n,o,l,f,v,!d),r&&e.arc(n,o,r,v,f,d)}(e,t),e.closePath(),Ne(e,r),e.stroke()}class sr extends Cn{constructor({el:e,options:t,data:data}){super({el:e,options:t,series:{pie:data.series},categories:data.categories}),this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(Lo),this.componentManager.add(er),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,f,r,y,S,c])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{pie:t},categories:e})}}function nr(e,t){var n,o,r,l,c,h,d,m,f,v,y,x,S,O;const{categories:w,axisSize:M,options:A,theme:C}=e,k=t===zt.X,T=k?"x":"y",j=null!=(r=null===(o=null===(n=A[t])||void 0===n?void 0:n.label)||void 0===o?void 0:o.formatter)?r:e=>e,D=ui(w[T],null===(l=A[t])||void 0===l?void 0:l.date),B=D.map((label,e)=>j(label,{index:e,labels:D,axisName:t})),P=B.length,R=P?M/P:M,E=M/P,L=P+1,z=null!=(d=null===(h=null===(c=A[t])||void 0===c?void 0:c.tick)||void 0===h?void 0:h.interval)?d:1,I=null!=(v=null===(f=null===(m=A[t])||void 0===m?void 0:m.label)||void 0===f?void 0:f.interval)?v:1,W=hi({labels:B,pointOnColumn:!0,tickDistance:R,tickCount:L,tickInterval:z,labelInterval:I},M),N=gi(t,A),{maxLabelWidth:Y,maxLabelHeight:_}=mi(B,N,Ee(C.label)),H={labels:B,viewLabels:W,pointOnColumn:!0,isLabelAxis:k,tickCount:L,tickDistance:R,labelDistance:E,tickInterval:z,labelInterval:I,title:di(null===(y=A.xAxis)||void 0===y?void 0:y.title),maxLabelWidth:Y,maxLabelHeight:_};if(t===zt.X){const e=null!=(O=null===(S=null===(x=A.xAxis)||void 0===x?void 0:x.label)||void 0===S?void 0:S.margin)?O:0,t=yt(_)+e,n=pi(Y,_,M/W.length,ci(A)),{needRotateLabel:o,rotationHeight:r}=n,l=(o?r:_)+t;return Object.assign(Object.assign(Object.assign({},H),n),{maxHeight:l,offsetY:t})}return H}var or={name:"axes",state:()=>({axes:{xAxis:{},yAxis:{}}}),action:{setAxesData({state:e}){const{layout:t,theme:n}=e,{width:o,height:r}=t.plot,l=e.categories,c=e.options,h={xAxis:nr({axisSize:o,categories:l,options:c,theme:ni(n,zt.X)},zt.X),yAxis:nr({axisSize:r,categories:l,options:c,theme:ni(n,zt.X)},zt.Y)};ai(e.axes,h)&&this.notify(e,"layout"),e.axes=h}},computed:{},observe:{updateAxes(){this.dispatch("setAxesData")}}};var rr={name:"heatmapSeriesData",state:()=>({heatmapSeries:[]}),action:{setHeatmapSeriesData({state:e,computed:t}){var n,o,r;e.heatmapSeries=(n=e.series,o=e.categories,r=t.viewRange,n.heatmap?n.heatmap.data.map((e,t)=>{const{yCategory:n,data:data}=e;return yi(data,r).map((e,r)=>({colorValue:e,category:{x:o.x[r],y:n},indexes:[r,t]}))}):[])}},observe:{updateTreemapSeriesData(){this.dispatch("setHeatmapSeriesData")}}};const ar="__TOAST_UI_TREEMAP_ROOT";function lr(e,t){var n;if(!e.treemap)return[];const o=e.treemap.data.filter(e=>!C(e.data)).map((e,t)=>function e(t,n,o,r){var l;const c=G(n),h=r?`${r}_${c}`:"__TOAST_UI_TREEMAP_"+c,{colorValue:d}=t,m=[{label:t.label,hasChild:!!t.children,id:h,indexes:n,parentId:r||ar,depth:o,data:(l=t.data,null!=l?l:0),colorValue:d}];return t.children&&t.children.forEach((t,r)=>{C(t.data)||m.push(...e(t,[...n,r],o+1,h))}),m}(e,[t],0)).flatMap(s=>s).sort((a,b)=>b.depth-a.depth);return function(e){e.forEach(({parentId:t,data:data})=>{t!==ar&&(e.find(({id:e})=>e===t).data+=data)})}(o),function(e){const t=e.filter(({parentId:e})=>e===ar).reduce((e,{data:data})=>e+data,0);e.forEach(n=>{const o=n.parentId===ar?t:e.find(({id:e})=>e===n.parentId).data;n.ratio=n.data/o})}(o),(null===(n=t.series)||void 0===n?void 0:n.useColorValue)&&function(e){e.forEach(t=>{const{id:n,colorValue:o}=t;if(A(o)){const o=e.filter(({parentId:e})=>e===n),r=o.reduce((e,t)=>e+(A(t.colorValue)?0:t.colorValue),0);t.colorValue=r/o.length}})}(o),o}var cr={name:"treemapSeriesData",state:()=>({treemapSeries:[]}),action:{setTreemapSeriesData({state:e}){e.treemapSeries=lr(e.series,e.options)}},observe:{updateTreemapSeriesData(){this.dispatch("setTreemapSeriesData")}}};var dr={name:"colorValueScale",state:()=>({treemapZoomId:{prev:ar,cur:ar},colorValueScale:{}}),action:{setColorValueScale({state:e}){const{layout:t,treemapSeries:n,legend:legend,heatmapSeries:o}=e;if(!legend.useSpectrumLegend)return;const r=(null!=n?n:o.flatMap(e=>e)).reduce((e,{colorValue:t})=>t?[...e,t]:e,[]),l=kn([...new Set(r)]),c=hs(legend.align)?t.plot.width/2:t.plot.height;we(e.colorValueScale,In({dataRange:l,offsetSize:c,useSpectrumLegend:!0,scaleOption:{}}))},setTreemapZoomId({state:e},t){e.treemapZoomId.prev=e.treemapZoomId.cur,e.treemapZoomId.cur=t},zoomBack({state:e}){var t,n;const{treemapSeries:o,treemapZoomId:r}=e,{prev:l}=r,c=o.find(({id:e})=>e===l);e.treemapZoomId.prev=null!=(n=null===(t=c)||void 0===t?void 0:t.parentId)?n:ar,e.treemapZoomId.cur=l}},observe:{updateColorValueScale(){this.dispatch("setColorValueScale")}},computed:{isTreemapSeriesZooming:({treemapZoomId:e})=>e&&e.cur!==e.prev}};class ur extends Lt{constructor(){super(...arguments),this.labels=[],this.renderSpectrumTooltip=([e])=>{if(e){const{labels:t,align:n}=this,{colorValue:o,color:r}=e,{width:l,height:c}=this.rect;this.models.tooltip=[{type:"spectrumTooltip",width:l,height:c,x:0,y:0,labels:t,align:n,colorRatio:e.colorRatio,color:r,text:String(o),verticalAlign:hs(n)}]}else this.models.tooltip=[]}}initialize(){this.type="spectrumLegend",this.name="spectrumLegend"}makeLabels(e){const{stepCount:t,limit:n,stepSize:o}=e,r=n.min;return E(0,t+1).reduce((e,t)=>[...e,String(r+o*t)],[])}renderSpectrumLegendModel(e,t){const{labels:n,align:o}=this,{width:r,height:l}=this.rect;return[{type:"spectrumLegend",width:r,height:l,x:0,y:0,labels:n,align:o,startColor:e,endColor:t,verticalAlign:hs(this.align)}]}render({layout:e,legend:legend,colorValueScale:t,theme:n}){var o,r;if(this.rect=e.legend,this.align=legend.align,this.isShow=legend.visible,!this.isShow)return;this.labels=this.makeLabels(t);const{startColor:l,endColor:c}=(null===(o=n.series)||void 0===o?void 0:o.heatmap)||(null===(r=n.series)||void 0===r?void 0:r.treemap);this.models={legend:this.renderSpectrumLegendModel(l,c),tooltip:[]},this.eventBus.on("renderSpectrumTooltip",this.renderSpectrumTooltip)}}function pr(e,t){return e.map((e,n)=>t[n]-e)}function mr(e,t){if(A(t))return;const n=Math.abs(e.max-e.min);return n&&!C(t)?(t-e.min)/n:0}function gr(e,t,n){const o=function(e,g,b){const t="#"+Ve(e.toString(16),2)+Ve(g.toString(16),2)+Ve(b.toString(16),2);return!!Ge(t)&&t}(...n.map((n,o)=>n+parseInt(String(t[o]*e),10)));return j(o)?o:""}class fr extends Lt{constructor(){super(...arguments),this.activatedResponders=[],this.onMouseoutComponent=()=>{this.emitMouseEvent([])},this.selectSeries=({index:e,seriesIndex:t,state:n})=>{var o;if(!T(e)||!T(t))return;const r=t*(null===(o=n.series.heatmap)||void 0===o?void 0:o[0].data.length)+e,l=this.responders[r];if(!l)throw new Error(se);this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme([l],"select"),name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=({index:e,seriesIndex:t,state:n})=>{var o;if(!T(e)||!T(t))return;const r=t*(null===(o=n.series.heatmap)||void 0===o?void 0:o[0].data.length)+e,l=this.responders[r];l&&this.emitMouseEvent([l])}}initialize(){this.type="series",this.name="heatmap",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}render(e){const{layout:t,heatmapSeries:n,axes:o,theme:r,colorValueScale:l,options:c}=e;if(!n.length)throw new Error(re(this.name));this.theme=r.series.heatmap,this.selectable=this.getSelectableOption(c),this.rect=t.plot;const h={height:o.yAxis.tickDistance,width:o.xAxis.tickDistance};this.models={series:this.renderHeatmapSeries(n,h,l)},ko(c,this.name).visible&&this.renderDataLabels(this.makeDataLabels()),this.responders=this.makeHeatmapSeriesResponder()}makeDataLabels(){const e=this.theme.dataLabels;return this.models.series.reduce((t,n)=>C(n.colorValue)?t:[...t,Object.assign(Object.assign({},n),{type:"treemapSeriesName",value:n.colorValue,direction:"left",plot:{x:0,y:0,size:0},theme:Object.assign(Object.assign({},e),{color:e.useSeriesColor?n.color:e.color})})],[])}makeHeatmapSeriesResponder(){return this.models.series.reduce((e,t)=>C(t.colorValue)?e:[...e,Object.assign(Object.assign({},t),{data:Object.assign(Object.assign({},t),{label:t.name,value:t.colorValue,templateType:"heatmap"}),thickness:Xs,style:["shadow"]})],[])}renderHeatmapSeries(e,t,n){const{startColor:o,endColor:r,borderColor:l,borderWidth:c}=this.theme,h=Ue(o),d=pr(h,Ue(r)),{height:m,width:f}=t;return e.flatMap(data=>data.flatMap(e=>{const{indexes:t,colorValue:o,category:r}=e,v=`${r.x}, ${r.y}`,[y,x]=t,S=mr(n.limit,o),O=C(o)?"rgba(0, 0, 0, 0)":gr(S,d,h);return{type:"rect",name:v,width:f-2*c,height:m-2*c,x:f*y+c,y:m*x+c,colorValue:o,colorRatio:S,color:O,thickness:c,borderColor:l}}))}getRespondersWithTheme(e,t){return e.map(e=>Y(e,Object.assign(Object.assign({},this.theme[t]),{style:["shadow"]})))}onClick({responders:e}){this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(e,"select"),name:this.name}),this.eventBus.emit("needDraw"))}onMousemove({responders:e}){this.activatedResponders=e,this.emitMouseEvent(e)}emitMouseEvent(e){this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.eventBus.emit("seriesPointHovered",{models:e,name:this.name}),this.eventBus.emit("renderSpectrumTooltip",e),this.eventBus.emit("needDraw")}}function vr(e,t){return e.map((e,n)=>({data:e,yCategory:t.y[n]})).reverse()}class yr extends Cn{constructor(e){super({el:e.el,categories:e.data.categories,options:e.options,series:{heatmap:vr(e.data.series,e.data.categories)}}),this.modules=[rr,dr,or],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.addSeries=(data,e)=>{this.resetSeries(),this.store.dispatch("addHeatmapSeries",Object.assign({data:data},e))},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ur),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(fr),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,c,h])}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{heatmap:vr(t,e)},categories:e})}}const xr=.06,Sr=1;class Or extends Lt{constructor(){super(...arguments),this.models={rect:[],series:[],dot:[]},this.activatedResponders=[],this.eventDetectType="nearest",this.isStackChart=!1,this.isRangeChart=!1,this.isSplineChart=!1,this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")},this.selectSeries=e=>{const{index:t,seriesIndex:n}=e;if(!Ro(e,"area"))return;const o=this.getResponderCategoryByIndex(t);if(!o)throw new Error(se);const r=this.tooltipCircleMap[o][n];if(!r)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:[r],name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=e=>{const{index:t,seriesIndex:n}=e;if(!Po(e,this.eventDetectType,"area"))return;const o=this.getResponderCategoryByIndex(t);if(!o)return;const r="grouped"===this.eventDetectType?this.tooltipCircleMap[o]:[this.tooltipCircleMap[o][n]];r.length&&(this.onMousemoveNearType(r),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize(){this.type="series",this.name="area",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}initUpdate(e){this.drawModels&&(this.drawModels.rect[0].width=this.models.rect[0].width*e)}getBaseYPosition(e){const t=e.min>=0?e.min:Math.min(e.max,0),n=this.rect.height/(e.max-e.min);return(e.max-t)*n}getStackValue(e,t,n){const{type:o}=e.stack,{values:r,sum:l}=e.stackData[n],c=U(r.slice(0,t+1));return"percent"===o?100*c/l:c}setEventDetectType(e,t){var n,o;(null===(o=null===(n=t)||void 0===n?void 0:n.series)||void 0===o?void 0:o.eventDetectType)&&(this.eventDetectType=t.series.eventDetectType),(e.line||this.isStackChart)&&(this.eventDetectType="grouped")}getAreaOptions(e){var t;const n=Object.assign({},e);return(null===(t=n.series)||void 0===t?void 0:t.area)&&(n.series=Object.assign(Object.assign({},n.series),n.series.area)),n}render(e,t){var n,o,r,l,c;const{viewRange:h}=t,{layout:d,series:m,scale:f,axes:v,legend:legend,stackSeries:y,theme:x,rawCategories:S}=e;if(!m.area)throw new Error(re(this.name));let O;const w=this.getAreaOptions(e.options),M=e.categories;this.theme=x.series.area,this.rect=d.plot,this.activeSeriesMap=uo(legend),this.startIndex=h?h[0]:0,this.selectable=this.getSelectableOption(w),this.isSplineChart=null!=(o=null===(n=w.series)||void 0===n?void 0:n.spline)&&o;const{limit:A}=f[ii(w,this.name,"yAxis")],{tickDistance:C,pointOnColumn:k,tickCount:T}=v.xAxis,j=m.area.data;this.baseYPosition=this.getBaseYPosition(A),(null===(r=y)||void 0===r?void 0:r.area)?(this.isStackChart=!0,O=y.area):vi(null===(l=Z(j))||void 0===l?void 0:l.data)&&(this.isRangeChart=!0),this.setEventDetectType(m,w);const D={pointOnColumn:k,options:w.series||{},tickDistance:C,tickCount:T,areaStackSeries:O};this.linePointsModel=this.renderLinePointsModel(j,A,D);const B=this.renderAreaPointsModel(),P=!!(null===(c=w.series)||void 0===c?void 0:c.showDot),{dotSeriesModel:R,responderModel:E}=this.renderCircleModel(P),L=this.makeTooltipData(j,S);this.models=H({rect:[this.renderClipRectAreaModel()],series:[...this.linePointsModel,...B],dot:R}),this.drawModels||(this.drawModels=Object.assign(Object.assign({},this.models),{rect:[this.renderClipRectAreaModel(!0)]})),ko(w,this.name).visible&&this.renderDataLabels(this.getDataLabels(B)),this.tooltipCircleMap=fo(E,L),this.responders="near"===this.eventDetectType?this.makeNearTypeResponderModel(E,L):go(this.rect,v.xAxis,M)}makeNearTypeResponderModel(e,t){const n=t.length;return e.map((e,o)=>Object.assign(Object.assign({},e),{data:t[o%n]}))}renderClipRectAreaModel(e){return{type:"clipRectArea",x:0,y:0,width:e?0:this.rect.width,height:this.rect.height}}makeTooltipData(e,t){return e.flatMap(({rawData:e,name:n,color:o},r)=>{const l=[];return e.forEach((e,c)=>{if(!C(e)){const h=this.isRangeChart?`${e[0]} ~ ${e[1]}`:e;l.push({label:n,color:o,value:h,category:t[c],seriesIndex:r,index:c})}}),l})}getLinePointModelValue(e,t){return this.isRangeChart?t?e[0]:e[1]:e}getLinePointModel(e,t,n,o){const{pointOnColumn:r,tickDistance:l,pairModel:c,areaStackSeries:h}=o,{rawData:d,name:m,color:f}=e,v=this.activeSeriesMap[m],y=[],x=Ke(f,v?Sr:xr),{lineWidth:S,dashSegments:O}=this.theme;return d.forEach((e,o)=>{if(C(e))return void y.push(null);const d=this.getLinePointModelValue(e,c),m=Dt(this.isStackChart?this.getStackValue(h,t,o):d,n),f=l*(o-this.startIndex)+(r?l/2:0),v=(1-m)*this.rect.height;y.push({x:f,y:v,value:d})}),c&&y.reverse(),this.isSplineChart&&jt(y),{type:"linePoints",lineWidth:S,dashSegments:O,color:x,points:y,seriesIndex:t,name:m}}renderLinePointsModel(e,t,n){const o=e.map((e,o)=>this.getLinePointModel(e,o,t,n));if(this.isRangeChart){const r=Y(n,{pairModel:!0}),l=e.map((e,n)=>this.getLinePointModel(e,n,t,r));o.push(...l)}return o}getCombinedPoints(e,t){return[...e>=0?this.linePointsModel[e].points:[],...[...this.linePointsModel[t].points].reverse()]}renderRangeAreaSeries(e){const t=[];return e.forEach(e=>{let n=[];const{points:o}=e;o.slice(0,o.length/2+1).forEach((r,i)=>{const l=i===o.length/2-1,c=C(r);if(c||n.push(r),n.length&&(l||c)){const r=n.map((e,t)=>{const r=o.length/2+i-n.length+t+(!c&&l?1:0);return o[r]}).reverse();t.push(Object.assign(Object.assign({},e),{type:"areaPoints",lineWidth:0,color:"rgba(0, 0, 0, 0)",fillColor:this.getAreaOpacity(e.name,e.color),points:[...n,...r]})),n=[]}})}),t}renderAreaSeries(e){const t=[],n=[];return e.forEach(e=>{let o=[];const r=[...n],{points:l}=e;l.forEach((c,i)=>{const h=i===l.length-1,d=C(c);if(C(c)||o.push(c),o.length&&(d||h)){const l=o.map((e,t)=>{const l=i-o.length+t+(!d&&h?1:0),c=A(r[l])?this.baseYPosition:r[l];return this.isStackChart&&(n[l]=e.y),{x:e.x,y:c}}).reverse();this.isStackChart&&this.isSplineChart&&jt(l),t.push(Object.assign(Object.assign({},e),{type:"areaPoints",lineWidth:0,color:"rgba(0, 0, 0, 0)",fillColor:this.getAreaOpacity(e.name,e.color),points:[...o,...l]})),o=[]}})}),t}getCombinedLinePointsModel(){if(!this.isRangeChart)return this.linePointsModel;const e=this.linePointsModel.length/2;return E(0,e).reduce((t,i)=>{const n=i,o=e+i,r=this.getCombinedPoints(n,o);return[...t,Object.assign(Object.assign({},this.linePointsModel[i]),{points:r})]},[])}getAreaOpacity(e,t){const{select:select,areaOpacity:n}=this.theme,o=this.activeSeriesMap[e];return Ke(t,Object.values(this.activeSeriesMap).some(e=>!e)?o?select.areaOpacity:select.restSeries.areaOpacity:n)}renderAreaPointsModel(){const e=this.getCombinedLinePointsModel();return this.isRangeChart?this.renderRangeAreaSeries(e):this.renderAreaSeries(e)}renderCircleModel(e){const t=[],n=[],{hover:o,dot:r}=this.theme,l=o.dot;return this.linePointsModel.forEach(({points:o,color:c,seriesIndex:h,name:d},m)=>{const f=this.isRangeChart&&m>=this.linePointsModel.length/2,v=this.activeSeriesMap[d];o.forEach((m,y)=>{var x,S,O;if(C(m))return;const w=Object.assign(Object.assign({type:"circle"},m),{seriesIndex:h,name:d,index:f?o.length-y-1:y});e&&t.push(Object.assign(Object.assign({},w),{radius:r.radius,color:Ke(c,v?1:.3),style:[{lineWidth:r.borderWidth,strokeStyle:(x=r.borderColor,null!=x?x:c)}]}));const M=null!=(S=l.color)?S:Ke(c,1);n.push(Object.assign(Object.assign({},w),{radius:l.radius,color:M,style:[{lineWidth:l.borderWidth,strokeStyle:(O=l.borderColor,null!=O?O:Ke(M,.5))}]}))})}),{dotSeriesModel:t,responderModel:n}}getPairCircleModel(e){const t=[];return e.forEach(circle=>{const{seriesIndex:e,y:n,data:data}=circle,{category:o}=data,r=this.tooltipCircleMap[o].find(t=>t.seriesIndex===e&&t.y!==n);t.push(r)}),t}getCircleModelsFromRectResponders(e,t){var n;if(!e.length||!e[0].label)return[];const o=null!=(n=this.tooltipCircleMap[e[0].label])?n:[];return"grouped"===this.eventDetectType?o:mo(o,t,this.rect)}onMousemoveGroupedType(e){const t=this.getCircleModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=this.isRangeChart?t.slice(0,t.length/2):t}onMousemoveNearestType(e,t){const n=this.getCircleModelsFromRectResponders(e,t);this.onMousemoveNearType(n)}onMousemoveNearType(e){let t=[];this.isRangeChart&&(t=this.getPairCircleModel(e));const n=[...e,...t];this.eventBus.emit("renderHoveredSeries",{models:n,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e}onMousemove({responders:e,mousePosition:t}){"nearest"===this.eventDetectType?this.onMousemoveNearestType(e,t):"near"===this.eventDetectType?this.onMousemoveNearType(e):this.onMousemoveGroupedType(e),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}getDataLabels(e){const t=this.theme.dataLabels;return e.flatMap(({points:e,name:n,fillColor:o})=>e.map(e=>C(e)?{}:Object.assign(Object.assign({type:"point"},e),{name:n,theme:Object.assign(Object.assign({},t),{color:t.useSeriesColor?Ke(o,1):t.color})})))}getSelectedSeriesWithTheme(e){const{radius:t,color:n,borderWidth:o,borderColor:r}=this.theme.select.dot;return e.map(e=>{const l=null!=n?n:e.color;return Object.assign(Object.assign({},e),{radius:t,color:l,style:[{lineWidth:o,strokeStyle:null!=r?r:Ke(l,.5)}]})})}onClick({responders:e,mousePosition:t}){if(this.selectable){let n;n="near"===this.eventDetectType?e:this.getCircleModelsFromRectResponders(e,t),this.eventBus.emit("renderSelectedSeries",{models:this.getSelectedSeriesWithTheme(n),name:this.name}),this.eventBus.emit("needDraw")}}getResponderCategoryByIndex(e){var t,n;return null===(n=null===(t=Object.values(this.tooltipCircleMap).flatMap(e=>e).find(t=>t.index===e))||void 0===t?void 0:t.data)||void 0===n?void 0:n.category}}class wr extends Cn{constructor(e){super({el:e.el,options:e.options,series:{area:e.data.series},categories:e.data.categories}),this.modules=[qn,jn,Qn,Bi,so],this.addData=(data,e)=>{this.resetSeries(),this.animationControlFlag.updating=!0,this.store.dispatch("addData",{data:data,category:e})},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Or),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(Io),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(Fo),this.componentManager.add($o),this.painter.addGroups([o,l,v,f,r,y,c,x])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{area:t},categories:e})}addPlotLine(data){this.store.dispatch("addPlotLine",{data:data})}removePlotLine(e){this.store.dispatch("removePlotLine",{id:e})}addPlotBand(data){this.store.dispatch("addPlotBand",{data:data})}removePlotBand(e){this.store.dispatch("removePlotBand",{id:e})}}class Mr extends Lt{constructor(){super(...arguments),this.models={series:[]},this.activatedResponders=[],this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name}),this.eventBus.emit("needDraw")},this.getModelsForSelectInfo=e=>{const{index:t,seriesIndex:n,state:o}=e;if(!Ro(e,"scatter"))return[];const{name:r}=o.series.scatter.data[n];return[this.responders.filter(({name:e})=>e===r)[t]]},this.selectSeries=e=>{const t=this.getModelsForSelectInfo(e);if(!t.length)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=e=>{const t=this.getModelsForSelectInfo(e);t.length&&(this.eventBus.emit("renderHoveredSeries",{models:t,name:this.name}),this.activatedResponders=t,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize(){this.type="series",this.name="scatter",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}initUpdate(e){this.drawModels.series.forEach((t,n)=>{t.size=this.models.series[n].size*e})}render(e){const{layout:t,series:n,scale:o,legend:legend,options:r,theme:l}=e;if(!n.scatter)throw new Error(re(this.name));const c=n.scatter.data;this.theme=l.series.scatter,this.rect=t.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(r);const h=this.renderScatterPointsModel(c,o.xAxis.limit,o[ii(r,this.name,"yAxis")].limit),d=this.makeTooltipModel(c);this.models.series=h,this.drawModels||(this.drawModels=H(this.models)),this.responders=h.map((e,t)=>Object.assign(Object.assign({},e),{type:"circle",detectionSize:0,radius:this.theme.size/2,color:e.fillColor,style:[{strokeStyle:e.borderColor,lineWidth:e.borderWidth}],data:d[t]}))}renderScatterPointsModel(e,t,n){return e.flatMap(({data:data,name:e,color:o,iconType:r},l)=>{const c=[],h=Ke(o,this.activeSeriesMap[e]?1:.3);return data.forEach((o,d)=>{const m=Si(o),f=j(m)?Number(new Date(m)):Number(m),v=xi(o),y=Dt(f,t),x=Dt(v,n),S=y*this.rect.width,O=(1-x)*this.rect.height;c.push(Object.assign({x:S,y:O,type:"scatterSeries",iconType:r,seriesIndex:l,name:e,borderColor:h,index:d},z(this.theme,"borderWidth","size","fillColor")))}),c})}makeTooltipModel(e){return[...e].flatMap(({data:data,name:e,color:t})=>{const n=[];return data.forEach(o=>{const r={x:Si(o),y:xi(o)};n.push({label:e,color:t,value:r})}),n})}getClosestModel(e){if(!e.length)return[];const t=this.models.series.find(({index:t,seriesIndex:n})=>T(t)&&T(n)&&t===e[0].index&&n===e[0].seriesIndex);return t?[t]:[]}getResponderAppliedTheme(e,t){const{fillColor:n,size:o}=this.theme[t];return e.map(e=>Y(e,Object.assign(Object.assign({},this.theme[t]),{color:n,radius:o/2})))}onMousemove({responders:e,mousePosition:t}){const n=mo(e,t,this.rect);let o=this.getClosestModel(n);o=this.getResponderAppliedTheme(o,"hover"),this.eventBus.emit("renderHoveredSeries",{models:o,name:this.name}),this.activatedResponders=n,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}onClick({responders:e,mousePosition:t}){if(this.selectable){const n=mo(e,t,this.rect);let o=this.getClosestModel(n);o=this.getResponderAppliedTheme(o,"select"),this.eventBus.emit("renderSelectedSeries",{models:o,name:this.name}),this.eventBus.emit("needDraw")}}}class Ar extends Cn{constructor(e){super({el:e.el,options:e.options,series:e.data.series}),this.modules=[jn,Qn,Bi,so],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,chartType:e})},this.addSeries=(data,e)=>{this.resetSeries(),this.store.dispatch("addSeries",Object.assign({data:data},e))},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Eo),this.componentManager.add(Mr),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(Io),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(Fo),this.painter.addGroups([o,l,v,f,r,y,c,x,m])}setData(data){this.resetSeries(),this.store.dispatch("setData",data)}}class Cr extends Cn{constructor(e){super({el:e.el,options:e.options,series:e.data.series,categories:e.data.categories}),this.modules=[qn,jn,Qn,Bi,so],this.addData=(data,e,t)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e,chartType:t})},this.addSeries=(data,e)=>{this.resetSeries(),this.store.dispatch("addSeries",Object.assign({data:data},e))},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Or),this.componentManager.add(Eo),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(Io),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(Fo),this.componentManager.add($o),this.painter.addGroups([o,l,v,f,r,y,c,x])}setData(data){this.resetSeries(),this.store.dispatch("setData",data)}addPlotLine(data){this.store.dispatch("addPlotLine",{data:data})}removePlotLine(e){this.store.dispatch("removePlotLine",{id:e})}addPlotBand(data){this.store.dispatch("addPlotBand",{data:data})}removePlotBand(e){this.store.dispatch("removePlotBand",{id:e})}}function kr(e,t,n){return e<0?function(e,t,n){let o=e;return o>=n?0:(n<0&&(o=Math.min(e-n,0)),e<t&&(o-=e-t),o)}(e,t,n):function(e,t,n){let o=e;return t>0&&(o=Math.max(e-t,0)),e>n&&(o-=e-n),o}(e,t,n)}function Tr(e,t,n=!1){const o=e[t];return e.reduce((e,r,l)=>(n?l<=t:l<t)&&r*o>=0?e+r:e,0)}function jr(e,t,n,o){const r=Tr(e,t,!1),l=Tr(e,t,!0);if(function(e,t,n,o){const r=e[t],l=Tr(e,t,!1),c=r>=0,h=r<0;return c&&l>=o||h&&l<=n||0===t&&c&&r<n||0===t&&h&&r>o}(e,t,n,o))return null;if(0===t)return kr(e[t],n,o);if(r<n&&l>o)return o-n;let c=e[t];return l>o?c=o-r:l<n?c=n-r:r<n?c=l-n:r>o&&(c=l-o),c}var Dr;!function(e){e[e.POSITIVE=0]="POSITIVE",e[e.NEGATIVE=1]="NEGATIVE",e[e.BOTH=2]="BOTH"}(Dr||(Dr={}));const Br={BAR:"bar",COLUMN:"column"};function Pr(e){return!!(e%2)}class Rr extends Lt{constructor(){super(...arguments),this.models={series:[]},this.activatedResponders=[],this.isBar=!0,this.valueAxis="xAxis",this.labelAxis="yAxis",this.anchorSizeKey="height",this.offsetSizeKey="width",this.basePosition=0,this.leftBasePosition=0,this.rightBasePosition=0,this.isRangeData=!1,this.offsetKey="x",this.eventDetectType="point",this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")},this.selectSeries=e=>{const{index:t,seriesIndex:n}=e;if(!Ro(e,"column"))return;const o=this.tooltipRectMap[n][t];if(!o)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme([o],"select"),name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=e=>{const{index:t,seriesIndex:n}=e;if(!Po(e,this.eventDetectType,"column"))return;const o="grouped"===this.eventDetectType?this.getGroupedRect([this.responders[t]],"hover"):this.getRespondersWithTheme([this.tooltipRectMap[t][n]],"hover");o.length&&(this.eventBus.emit("renderHoveredSeries",{models:o,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders="grouped"===this.eventDetectType?this.tooltipRectMap[t]:o,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize({name:e,stackChart:t}){this.initializeFields(e),t||(this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent))}initializeFields(e){this.type="series",this.name=e,this.isBar=e===Br.BAR,this.offsetKey=this.isBar?"x":"y",this.valueAxis=this.isBar?"xAxis":"yAxis",this.labelAxis=this.isBar?"yAxis":"xAxis",this.anchorSizeKey=this.isBar?"height":"width",this.offsetSizeKey=this.isBar?"width":"height"}initUpdate(e){this.drawModels&&(this.isRangeData?this.initUpdateRangeData(e):(this.initUpdateClipRect(e),this.initUpdateConnector(e)))}initUpdateRangeData(e){const{series:t}=this.drawModels;this.drawModels.clipRect=this.models.clipRect;const n=this.models.series;t.forEach((t,o)=>{const r=n[o];0===e&&(t[this.offsetSizeKey]=0);const l=t[this.offsetSizeKey]+(r[this.offsetSizeKey]-t[this.offsetSizeKey])*e;t[this.offsetSizeKey]=l,this.isBar||(t[this.offsetKey]=r[this.offsetKey]+r[this.offsetSizeKey]-l)})}initUpdateClipRect(e){const{clipRect:t}=this.drawModels;if(!t)return;const n=t[0],o=this.offsetSizeKey,r=this.models.clipRect[0],l=n[o]+(r[o]-n[o])*e;n[o]=l,n[this.offsetKey]=Math.max(this.basePosition-l*this.basePosition/r[o],0)}initUpdateConnector(e){const{connector:t}=this.drawModels;if(!t)return;const n=this.models.connector;t.forEach((t,o)=>{const r=qe(n[o].strokeStyle)*e;t.strokeStyle=Ke(t.strokeStyle,r)})}setEventDetectType(e,t){var n,o;e.line&&(this.eventDetectType="grouped"),(null===(o=null===(n=t)||void 0===n?void 0:n.series)||void 0===o?void 0:o.eventDetectType)&&(this.eventDetectType=t.series.eventDetectType)}getOptions(e){var t;const n=Object.assign({},e);return(null===(t=n)||void 0===t?void 0:t.series)&&n.series.column&&(n.series=Object.assign(Object.assign({},n.series),n.series.column)),n}render(e,t){var n,o;const{layout:r,series:l,axes:c,stackSeries:h,legend:legend,theme:d,scale:m}=e;if(this.isShow=!(h&&h[this.name]),!this.isShow)return;const f=null!=(n=e.categories)?n:[],v=this.getOptions(e.options);this.setEventDetectType(l,v),this.theme=d.series[this.name],this.rect=r.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(v),this.valueAxis=ii(v,this.name,this.isBar?"xAxis":"yAxis");const y=l[this.name].data.map(e=>Object.assign(Object.assign({},e),{data:yi(e.data,t.viewRange)}));c.centerYAxis&&(this.valueAxis="centerYAxis");const{tickDistance:x}=c[this.labelAxis],S=!!(null===(o=v.series)||void 0===o?void 0:o.diverging),{limit:O,stepSize:w}=this.getScaleData(m),M=At(O,w),{min:A,max:C}=Qt(M);this.basePosition=this.getBasePosition(c[this.valueAxis]);let k=this.getOffsetSize();const{centerYAxis:T}=c;if(S){const[e,t]=this.getDivergingBasePosition(T);this.basePosition=this.getOffsetSize()/2,this.leftBasePosition=e,this.rightBasePosition=t,k=this.getOffsetSizeWithDiverging(T)}const j={min:A,max:C,tickDistance:x,diverging:S,ratio:this.getValueRatio(A,C,k),hasNegativeValue:X(M),seriesDirection:this.getSeriesDirection(M),defaultPadding:We(x)},D=this.renderSeriesModel(y,j),B=this.makeTooltipData(y,j,f),P=this.renderClipRectAreaModel();if(this.models={clipRect:[P],series:D},this.drawModels||(this.drawModels={clipRect:[this.initClipRect(P)],series:_(D)}),ko(v,this.name).visible){const e=D.reduce((e,data)=>fi(data.value)?[...e,...this.makeDataLabelRangeData(data)]:[...e,this.makeDataLabel(data,T)],[]);this.renderDataLabels(e)}this.tooltipRectMap=this.makeTooltipRectMap(D,B),this.responders=this.getBoxSeriesResponders(D,B,c,f)}getScaleData(e){return e["centerYAxis"===this.valueAxis?"xAxis":this.valueAxis]}getBoxSeriesResponders(e,t,n,o){const r=this.renderHoveredSeriesModel(e);return"grouped"===this.eventDetectType?go(this.rect,this.isBar?n.yAxis:n.xAxis,o,!this.isBar):r.map((e,n)=>Object.assign(Object.assign({},e),{data:t[n]}))}makeTooltipRectMap(e,t){return e.reduce((e,n,o)=>{const r=n.index,l=Object.assign(Object.assign({},n),{data:t[o]});return e[r]||(e[r]=[]),e[r].push(l),e},[])}renderClipRectAreaModel(){return{type:"clipRectArea",x:0,y:0,width:this.rect.width,height:this.rect.height}}initClipRect(e){return{type:"clipRectArea",width:this.isBar?0:e.width,height:this.isBar?e.height:0,x:this.isBar?0:e.x,y:this.isBar?e.y:0}}renderSeriesModel(e,t){const{tickDistance:n,diverging:o}=t,r=e.length,l=o&&2===e.length,c=this.getColumnWidth(t,r,l),h=[],d=(n-c*(l?1:r))/2;return e.forEach(({data:data,color:e,name:r},l)=>{const m=(o?0:l)*c+d,f=o&&Pr(l);this.isRangeData=vi(data),data.forEach((o,l)=>{const d=m+l*n,v=this.makeBarLength(o,t),y=this.getSeriesColor(r,e);if(T(v)){const e=this.getStartPosition(v,o,t,f);h.push(Object.assign(Object.assign({type:"rect",color:y,value:o},this.getAdjustedRect(d,e,v,c)),{name:r,index:l}))}})}),h}renderHoveredSeriesModel(e){return e.map(data=>this.makeHoveredSeriesModel(data))}makeHoveredSeriesModel(data){const{x:e,y:t,width:n,height:o,color:r,index:l}=data;return{type:"rect",color:Ke(r,1),x:e,y:t,width:n,height:o,index:l}}getRectModelsFromRectResponders(e){var t;return e.length?null!=(t=this.tooltipRectMap[e[0].index])?t:[]:[]}getGroupedRect(e,t){const n=this.getRectModelsFromRectResponders(e),{color:o,opacity:r}=this.theme[t].groupedRect;return n.length?e.map(e=>Object.assign(Object.assign({},e),{color:Ke(o,r)})):[]}onMousemoveGroupedType(e){const t=this.getRectModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:this.getGroupedRect(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}onMousemove({responders:e}){"grouped"===this.eventDetectType?this.onMousemoveGroupedType(e):(this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}makeTooltipData(e,t,n){const o=[];return e.forEach(({data:data,name:e,color:r})=>{data.forEach((l,c)=>{T(this.makeBarLength(l,t))&&o.push({label:e,color:r,value:this.getTooltipValue(l),category:n.length?n[c]:""})})}),o}getTooltipValue(e){return fi(e)?`${e[0]} ~ ${e[1]}`:e}getBasePosition({labels:e,tickCount:t,zeroPosition:n}){const o=this.isBar?e:[...e].reverse(),r=Ct(this.getOffsetSize(),t),l=this.getSeriesDirection(o);return n||this.getTickPositionIfNotZero(r,l)}getDivergingBasePosition(e){let t,n;if(e)t=e.xAxisHalfSize,n=e.secondStartX;else{t=n=this.getOffsetSize()/2}return[t,n]}getOffsetSize(){return this.rect[this.offsetSizeKey]}getValueRatio(e,t,n){return n/(t-e)}makeBarLength(e,t){if(C(e))return null;const{min:n,max:o,ratio:r}=t,l=function(e,t,n){if(fi(e)){let[o,r]=e;return o<t&&(o=t),r>n&&(r=n),r-o}return kr(e,t,n)}(e,n,o);return Math.max(this.getBarLength(l,r),2)}getBarLength(e,t){return e<0?Math.abs(e)*t:e*t}getStartPositionWithRangeValue(e,t,n){const{min:o,ratio:r}=n;let[l]=e;l<o&&(l=o);const c=(l-o)*r;return this.isBar?c:this.getOffsetSize()-c-t}getStartPosition(e,t,n,o){const{diverging:r,seriesDirection:l}=n;let c;return c=fi(t)?this.getStartPositionWithRangeValue(t,e,n):r?o?this.getStartPosOnLeftBottomSide(e,r):this.getStartPosOnRightTopSide(e,r):l===Dr.POSITIVE?this.getStartPosOnRightTopSide(e):l===Dr.NEGATIVE||t<0?this.getStartPosOnLeftBottomSide(e):this.getStartPosOnRightTopSide(e),c}getStartPosOnRightTopSide(e,t=!1){let n;return n=t?this.isBar?this.rightBasePosition:this.rightBasePosition-e:this.isBar?this.basePosition:this.basePosition-e,n}getStartPosOnLeftBottomSide(e,t=!1){let n;return n=t?this.isBar?this.leftBasePosition-e:this.leftBasePosition:this.isBar?this.basePosition-e:this.basePosition,n}getAdjustedRect(e,t,n,o){return{x:this.isBar?t:e,y:this.isBar?e:t,width:this.isBar?n:o,height:this.isBar?o:n}}getColumnWidth(e,t,n=!1){const{tickDistance:o,defaultPadding:r}=e;t=n?1:t;const l=this.theme.barWidth;return l?Q(o,l):(o-2*r)/t}getSeriesDirection(e){let t=Dr.BOTH;return e.every(e=>Number(e)>=0)?t=Dr.POSITIVE:K(e)&&(t=Dr.NEGATIVE),t}getTickPositionIfNotZero(e,t){const n=Number(V(e)),o=Number(G(e));let r=0;return t===Dr.POSITIVE?r=this.isBar?n:o:t===Dr.NEGATIVE&&(r=this.isBar?o:n),r}makeDataLabel(rect,e){return Object.assign(Object.assign({},rect),{direction:this.getDataLabelDirection(rect,e),plot:{x:0,y:0,size:this.getOffsetSize()},theme:I(this.theme.dataLabels,"stackTotal")})}makeDataLabelRangeData(rect){return rect.value.reduce((e,t,n)=>[...e,Object.assign(Object.assign({},rect),{value:t,direction:this.getDataLabelRangeDataDirection(n%2==0),plot:{x:0,y:0,size:this.getOffsetSize()},theme:I(this.theme.dataLabels,"stackTotal")})],[])}getDataLabelRangeDataDirection(e){let t;return t=this.isBar?e?"left":"right":e?"bottom":"top",t}getDataLabelDirection(rect,e){let t;if(this.isBar){const n=e?this.leftBasePosition:this.basePosition;t=rect.x<n?"left":"right"}else t=rect.y>=this.basePosition?"bottom":"top";return t}getOffsetSizeWithDiverging(e){return e?e.xAxisHalfSize:this.getOffsetSize()/2}onClick({responders:e}){if(this.selectable){let t;t="grouped"===this.eventDetectType?[...this.getGroupedRect(e,"select"),...this.getRectModelsFromRectResponders(e)]:this.getRespondersWithTheme(e,"select"),this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}}getRespondersWithTheme(e,t){const{color:n,borderColor:o,borderWidth:r,shadowBlur:l,shadowColor:c,shadowOffsetX:h,shadowOffsetY:d}=this.theme[t];return e.map(e=>Object.assign(Object.assign({},e),{color:null!=n?n:e.color,thickness:r,borderColor:o,style:[{shadowBlur:l,shadowColor:c,shadowOffsetX:h,shadowOffsetY:d}]}))}getSeriesColor(e,t){const{select:select,areaOpacity:n}=this.theme,o=this.activeSeriesMap[e];return Ke(t,Object.values(this.activeSeriesMap).some(e=>!e)?o?select.areaOpacity:select.restSeries.areaOpacity:n)}}class Er extends Rr{constructor(){super(...arguments),this.selectSeries=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{stackSeries:o}=n,r=o[this.name],{name:l}=r.data[t],c=this.tooltipRectMap[e].find(({name:e})=>e===l);if(!c)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme([c],"select"),name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}}initialize({name:e,stackChart:t}){this.initializeFields(e),t&&(this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent))}render(e,t){var n,o;const{layout:r,series:l,axes:c,stackSeries:h,legend:legend,theme:d,scale:m}=e,{viewRange:f}=t;if(this.isShow=!!h[this.name],!this.isShow)return;const v=null!=(n=e.categories)?n:[],y=this.getOptions(e.options);this.setEventDetectType(l,y),this.theme=d.series[this.name],this.rect=r.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(y);const x=function(e,t){if(!t)return e;const n=Array.isArray(e.stackData)?yi(e.stackData,t):Object.assign({},Object.keys(e.stackData).reduce((n,o)=>Object.assign(Object.assign({},n),{[o]:yi(e.stackData[o],t)}),{})),data=e.data.map(e=>Object.assign(Object.assign({},e),{data:yi(e.data,t)}));return Object.assign(Object.assign({},e),{data:data,stackData:n})}(h[this.name],f),{tickDistance:S}=c[this.labelAxis],O=!!(null===(o=y.series)||void 0===o?void 0:o.diverging),{limit:w,stepSize:M}=this.getScaleData(m),A=At(w,M),{min:C,max:k}=Qt(A),{stack:T,scaleType:j}=x;this.basePosition=this.getBasePosition(c[this.valueAxis]);let D=this.getOffsetSize();const{centerYAxis:B}=c;if(O){const[e,t]=this.getDivergingBasePosition(B);this.basePosition=this.getOffsetSize()/2,this.leftBasePosition=e,this.rightBasePosition=t,D=this.getOffsetSizeWithDiverging(B)}const P={stack:T,scaleType:j,tickDistance:S,min:C,max:k,diverging:O,hasNegativeValue:X(A),seriesDirection:this.getSeriesDirection(A),defaultPadding:We(S),offsetSize:D,centerYAxis:B},{series:R,connector:E}=this.renderStackSeriesModel(x,P),L=this.renderClipRectAreaModel(),z=this.getTooltipData(x,v);if(this.models={clipRect:[L],series:R,connector:E},this.drawModels||(this.drawModels={clipRect:[this.initClipRect(L)],series:_(R),connector:_(E)}),ko(y,this.name).visible){const e=this.getDataLabels(R,P),t=this.getTotalDataLabels(x,P);this.renderDataLabels([...e,...t])}this.tooltipRectMap=this.makeTooltipRectMap(R,z),this.responders=this.getBoxSeriesResponders(R,z,c,v)}renderStackSeriesModel(e,t){const{stackData:n}=e;return Hn(n)?this.makeStackGroupSeriesModel(e,t):this.makeStackSeriesModel(n,t,e.data)}makeStackSeriesModel(e,t,n,o=1,r=0){const l=[],c=this.getStackColumnWidth(t,o),{diverging:h}=t,d=h&&Pr(r);return e.forEach(({values:e,total:h},m)=>{const f=this.getSeriesPosition(t,c,m,r,o),v=this.getStackValueRatio(h,t);e.forEach((o,r)=>{const{barLength:h,dataPosition:y}=this.getStackRectInfo(e,r,v,t,d),{name:x}=n[r],S=this.activeSeriesMap[x],O=Ke(n[r].color,S?1:.2);l.push(Object.assign(Object.assign({type:"rect",color:O,name:x,value:o},this.getAdjustedRect(f,y,null!=h?h:0,c)),{index:m}))})}),{series:l,connector:this.makeConnectorSeriesModel(e,t,o,r)}}makeStackGroupSeriesModel(e,t){const{stack:n}=t,o=e.stackData,r=e.data,l=Object.keys(o);let c=[],h=[];return l.forEach((e,d)=>{const m=r.filter(({stackGroup:t})=>t===e),{series:f,connector:v}=this.makeStackSeriesModel(o[e],t,m,l.length,d);c=[...c,...f],n.connector&&(h=[...h,...v])}),{series:c,connector:h}}makeConnectorSeriesModel(e,t,n=1,o=0){const{diverging:r,stack:{connector:l}}=t;if(!l)return[];const c=this.getStackColumnWidth(t,n),h=r&&Pr(o),d=[];return e.forEach(({values:e,total:r},l)=>{const m=this.getSeriesPosition(t,c,l,o,n),f=[],v=this.getStackValueRatio(r,t);e.forEach((n,o)=>{const{barLength:r,dataPosition:l}=this.getStackRectInfo(e,o,v,t,h),{x:d,y:y}=this.getAdjustedRect(m,l,r,c),x=!h&&this.isBar?d+r:d,S=h&&!this.isBar?y+r:y;f.push({x:x,y:S})}),d.push(f)}),this.makeConnectorModel(d,l,c)}getTooltipData(e,t){const n=e.data,{stackData:o}=e,r=n.map(({color:e})=>e);return Hn(o)?this.makeGroupStackTooltipData(n,o,t):this.makeStackTooltipData(n,o,r,t)}makeGroupStackTooltipData(e,t,n){return Object.keys(t).flatMap(o=>{const r=e.filter(({stackGroup:e})=>e===o),l=r.map(({color:e})=>e);return this.makeStackTooltipData(r,t[o],l,n)})}makeStackTooltipData(e,t,n,o){const r=[];return t.forEach(({values:t},l)=>{t.forEach((t,c)=>{r.push({label:e[c].name,color:n[c],value:t,category:o.length?o[l]:""})})}),r}makeConnectorModel(e,t,n){if(!t||!e.length)return[];const{color:o,lineWidth:r,dashSegments:l}=this.theme.connector,c=[],h=e.length,d=e[0].length;for(let t=0;t<d;t+=1){const d=[];for(let n=0;n<h;n+=1)d.push(e[n][t]);d.forEach((e,t)=>{const{x:h,y:m}=e;if(t<d.length-1){const{x:e,y:f}=d[t+1];c.push({type:"line",x:this.isBar?h:h+n,y:this.isBar?m+n:m,x2:e,y2:f,dashSegments:l,strokeStyle:o,lineWidth:r})}})}return c}getStackValueRatio(e,t){const{stack:{type:n},scaleType:o,min:r,max:l,offsetSize:c}=t;return"percent"===n?c/function(e,t){const{positive:n,negative:o}=e;let r=n+Math.abs(o);return L(["dualPercentStack","divergingPercentStack"],t)&&(r*=2),r}(e,o):this.getValueRatio(r,l,c)}getStackBarLength(e,t,n,o){const r=function(e,t,n){const{stack:o,min:r,max:l}=n;return _n(o)?e[t]:jr(e,t,r,l)}(e,t,o);return T(r)?this.getBarLength(r,n):null}getStackColumnWidth(e,t){const{tickDistance:n,diverging:o,defaultPadding:r}=e,l=o?1:t,c=this.theme.barWidth;return c?Q(n,c):(n-2*r)/l}getSeriesPosition(e,t,n,o,r){const{tickDistance:l,diverging:c}=e;return n*l+(l-t*(c?1:r))/2+t*(c?0:o)}getStackStartPosition(e,t,n,o,r){const{stack:l,diverging:c,seriesDirection:h}=o;let d;return d=c?r?this.calcStartPosOnLeftBottomSide(e,t,o,n):this.calcStartPosOnRightTopSide(e,t,o,n):_n(l)?this.calcStartPositionWithPercent(e,t,n):h===Dr.POSITIVE?this.calcStartPosOnRightTopSide(e,t,o,n):h===Dr.NEGATIVE?this.calcStartPosOnLeftBottomSide(e,t,o,n):this.calcStartPositionWithStack(e,t,o,n),d}calcStartPosOnLeftBottomSide(e,t,n,o){const{min:r,max:l,diverging:c}=n,h=c?this.leftBasePosition:this.basePosition,d=Tr(e,t,!1),m=Tr(e,t,!0),f=m<r,v=this.isBar?m:d,y=l<0?Math.min(v-l,0):v;let x;return x=this.isBar?f?0:h-Math.abs(y)*o:h+Math.abs(y)*o,x}calcStartPosOnRightTopSide(e,t,n,o){const{min:r,max:l,diverging:c}=n,h=c?this.rightBasePosition:this.basePosition,d=Tr(e,t,!1),m=Tr(e,t,!0),f=m>l,v=this.isBar?d:m,y=(r>0?Math.max(v-r,0):v)*o;let x;return x=this.isBar?h+y:f?0:h-y,x}calcStartPositionWithStack(e,t,n,o){return e[t]<0?this.calcStartPosOnLeftBottomSide(e,t,n,o):this.calcStartPosOnRightTopSide(e,t,n,o)}calcStartPositionWithPercent(e,t,n){const o=this.basePosition,r=Tr(e,t,this.isBar?e[t]<0:e[t]>0);return this.isBar?r*n+o:o-r*n}getStackRectInfo(e,t,n,o,r){return{barLength:this.getStackBarLength(e,t,n,o),dataPosition:this.getStackStartPosition(e,t,n,o,r)}}getDataLabels(e,t){return e.map(data=>this.makeDataLabel(data,t.centerYAxis))}getTotalDataLabels(e,t){const{stackData:n,stack:o}=e;return _n(o)?[]:Hn(n)?this.makeGroupTotalDataLabels(e,t):this.makeTotalDataLabels(n,t)}makeGroupTotalDataLabels(e,t){let n=[];const o=e.stackData,r=Object.keys(o);return r.forEach((e,l)=>{const c=this.makeTotalDataLabels(o[e],t,r.length,l);n=[...n,...c]}),n}makeTotalDataLabels(e,t,n=1,o=0){const r=[],{min:l,max:c,seriesDirection:h,diverging:d,centerYAxis:m}=t,f=this.getStackColumnWidth(t,n);return e.forEach((data,e)=>{const{total:v}=data,y=this.getSeriesPosition(t,f,e,o,n),x=this.getStackValueRatio(v,t);(function(e){let t=["positive","negative"];return e===Dr.POSITIVE?t=["positive"]:e===Dr.NEGATIVE&&(t=["negative"]),t})(h).forEach(e=>{const n=v[e];if(!n)return;const h=this.makeBarLength(n,{min:l,max:c,ratio:x}),S=this.getStartPosition(h,n,t,d&&Pr(o)),O=Object.assign({type:"stackTotal",value:n,name:"totalLabel-"+e,theme:this.theme.dataLabels.stackTotal},this.getAdjustedRect(y,S,h,f));r.push(this.makeTotalDataLabel(O,m))})}),r}makeTotalDataLabel(e,t){return Object.assign(Object.assign({},e),{direction:this.getDataLabelDirection(e,t),plot:{x:0,y:0,size:this.getOffsetSize()}})}onMousemoveGroupedType(e){const t=this.getRectModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:[...t,...this.getGroupedRect(e,"hover")],name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}}class Lr extends Lt{constructor(){super(...arguments),this.models=[]}initialize(){this.type="zeroAxis",this.name="zeroAxis"}render({layout:e,axes:t,series:n,options:o}){this.rect=e.plot;const r=Kt(n,o),l=r?"xAxis":"yAxis",{zeroPosition:c}=t[l];T(c)&&(this.models=this.renderZeroModel(c,r))}renderZeroModel(e,t){const n=kt(0),o=kt(e);let r;return r=t?{type:"line",x:o,y:n,x2:o,y2:kt(this.rect.height),strokeStyle:"rgba(0, 0, 0, 0.5)"}:{type:"line",x:n,y:o,x2:kt(this.rect.width),y2:o,strokeStyle:"rgba(0, 0, 0, 0.5)"},[r]}}class zr extends Lt{constructor(){super(...arguments),this.models={label:[],tick:[],axisLine:[]}}initialize({name:e}){this.type="axis",this.name=e,this.yAxisComponent=e===zt.Y}render({layout:e,axes:t,theme:n}){const{centerYAxis:o}=t;if(!o)return;this.theme=ni(n,this.name),this.rect=e[this.name],"yAxis"===this.name&&(this.rect=Object.assign(Object.assign({},this.rect),{x:o.x}));const{viewLabels:r,tickCount:l,tickInterval:c,needRotateLabel:h,radian:d,offsetY:m}=t[this.name],f={tickInterval:c,centerYAxis:o,needRotateLabel:h,radian:d,offsetY:m,relativePositions:Ct(this.axisSize(o),l)},v=this.yAxisComponent?"y":"x",y=this.yAxisComponent?"x":"y";this.models.label=this.renderLabelModels(r,v,y,f),this.models.tick=this.renderTickModels(v,y,f),this.models.axisLine=this.renderAxisLineModel(o),this.drawModels||(this.drawModels={tick:[],label:[],axisLine:this.models.axisLine},["tick","label"].forEach(e=>{this.drawModels[e]=this.models[e].map(e=>{const t=Object.assign({},e);return this.yAxisComponent?t.y=0:t.x=0,t})}))}renderAxisLineModel({xAxisHalfSize:e,secondStartX:t}){const n=kt(0),o=kt(this.rect.width);let r;if(this.yAxisComponent){const e=kt(this.rect.height);r=[{type:"line",x:o,y:n,x2:o,y2:e},{type:"line",x:n,y:n,x2:n,y2:e}]}else r=[{type:"line",x:n,y:n,x2:kt(e),y2:n},{type:"line",x:kt(t),y:n,x2:o,y2:n}];return r}renderTickModels(e,t,n){const o=this.yAxisComponent?kt(this.rect.width):kt(0),{tickInterval:r,centerYAxis:{secondStartX:l},relativePositions:c}=n;return c.reduce((n,c,h)=>{if(h%r)return n;const d={type:"tick",isYAxis:this.yAxisComponent,tickSize:this.yAxisComponent?-5:5,[e]:kt(c),[t]:o},m=Object.assign({},d);return this.yAxisComponent?(m[t]=kt(0),m.tickSize=5):m[e]=kt(c+l),[...n,d,m]},[])}renderLabelModels(e,t,n,o){const{centerYAxis:{secondStartX:r,yAxisLabelAnchorPoint:l},offsetY:c,needRotateLabel:h,radian:d}=o,m=this.theme.label,f=Ee(m);let v,y,x;this.yAxisComponent?(v=kt(l),y="center",x=e):(v=c,x=[...e].reverse(),y=h?"left":"center");const style=["default",{textAlign:y,font:f,fillStyle:m.color}];return x.reduce((o,{text:text,offsetPos:l},c)=>{const h={type:"label",text:text,style:style,[t]:kt(l)+(this.yAxisComponent?0:r),[n]:v,radian:d},m=[h];if(!this.yAxisComponent){const n=Object.assign(Object.assign({},h),{text:e[c].text,[t]:kt(h[t]-r)});m.push(n)}return[...o,...m]},[])}axisSize(e){let t;return t=this.yAxisComponent?this.rect.height:e.xAxisHalfSize,t}beforeDraw(e){e.ctx.strokeStyle="rgba(0, 0, 0, 0.5)",e.ctx.lineWidth=1}}class Ir extends Cn{constructor({el:e,options:t,data:data}){super({el:e,options:t,series:{bar:data.series},categories:data.categories}),this.modules=[qn,jn,Qn,Bi,so],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){var e;super.initialize();const t=!!(null===(e=this.store.initStoreState.options.series)||void 0===e?void 0:e.stack);this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Rr,{name:"bar",stackChart:t}),this.componentManager.add(Er,{name:"bar",stackChart:t}),this.componentManager.add(Lr),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(zr,{name:"yAxis"}),this.componentManager.add(zr,{name:"xAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,c])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{bar:t},categories:e})}}class Wr extends Cn{constructor({el:e,options:t,data:data}){super({el:e,options:t,series:{column:data.series},categories:data.categories}),this.modules=[qn,jn,Qn,Bi,so],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){var e;super.initialize();const t=!!(null===(e=this.store.initStoreState.options.series)||void 0===e?void 0:e.stack);this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Er,{name:"column",stackChart:t}),this.componentManager.add(Rr,{name:"column",stackChart:t}),this.componentManager.add(Lr),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,c])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{column:t},categories:e})}}function Nr(e,t){return e.find(({component:component})=>component.name===t&&"point"===component.eventDetectType)}class Yr extends Cn{constructor({el:e,options:t,data:{series:n,categories:o}}){super({el:e,options:t,series:n,categories:o}),this.modules=[qn,jn,Qn,Bi,so],this.addData=(data,e,t)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e,chartType:t})},this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Er,{name:"column"}),this.componentManager.add(Rr,{name:"column"}),this.componentManager.add(Eo),this.componentManager.add(Lr),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"secondaryYAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Wo,{name:"secondaryYAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,c,v])}handleEventForAllResponders(e,t,n,o){if(M(Nr(r=t,"column"))&&M(Nr(r,"line"))){t.find(({component:component})=>"column"===component.name).component[n]({mousePosition:o,responders:[]},e)}var r}addSeries(data,e){this.resetSeries(),this.store.dispatch("addSeries",Object.assign({data:data},e))}setData(data){this.resetSeries(),this.store.dispatch("setData",data)}addPlotLine(data){this.store.dispatch("addPlotLine",{data:data})}removePlotLine(e){this.store.dispatch("removePlotLine",{id:e})}addPlotBand(data){this.store.dispatch("addPlotBand",{data:data})}removePlotBand(e){this.store.dispatch("removePlotBand",{id:e})}}function _r(e){return e.reduce((e,t)=>{const n=t.data.filter(e=>!C(e));return Math.max(e,...n.map(({r:e})=>e))},0)}class Hr extends Lt{constructor(){super(...arguments),this.models={series:[]},this.activatedResponders=[],this.maxRadius=-1,this.maxValue=-1,this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name}),this.eventBus.emit("needDraw")},this.selectSeries=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{name:o}=n.series.bubble.data[e],r=this.responders.filter(({name:e})=>e===o)[t];if(!r)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:[r],name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=e=>{const{index:t,seriesIndex:n,state:o}=e;if(!T(t)||!T(n))return;const{name:r}=o.series.bubble.data[n],l=[this.responders.filter(({name:e})=>e===r)[t]];l.length&&(this.eventBus.emit("renderHoveredSeries",{models:l,name:this.name}),this.activatedResponders=l,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize(){this.type="series",this.name="bubble",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}initUpdate(e){this.drawModels.series.forEach((t,n)=>{t.radius=this.models.series[n].radius*e})}render(e){const{layout:t,series:n,scale:o,axes:r,circleLegend:l,legend:legend,options:c,theme:h}=e,{plot:d}=t;if(!n.bubble)throw new Error(re(this.name));const{xAxis:m,yAxis:f}=r,v=n.bubble.data;this.theme=h.series.bubble,this.rect=d,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(c);const y=this.rect.width/m.tickCount,x=this.rect.height/f.tickCount;this.maxRadius=l.radius?l.radius:Math.min(y,x),this.maxValue=_r(v);const S=this.renderBubblePointsModel(v,o),O=this.makeTooltipModel(v);this.models.series=S,this.drawModels||(this.drawModels=H(this.models)),this.responders=S.map((e,t)=>Object.assign(Object.assign({},e),{type:"circle",detectionSize:0,radius:e.radius+1,color:Ke(e.color,.85),data:O[t],index:t}))}renderBubblePointsModel(e,t){const{xAxis:{limit:n},yAxis:{limit:o}}=t,{borderWidth:r,borderColor:l}=this.theme;return e.flatMap(({data:data,name:e,color:t},c)=>{const h=[],d=Ke(t,this.activeSeriesMap[e]?.8:.1);return data.filter(e=>!C(e)).forEach(t=>{const m=Si(t),f=j(m)?Number(new Date(m)):Number(m),v=xi(t),y=Dt(f,n),x=Dt(v,o),S=y*this.rect.width,O=(1-x)*this.rect.height,w=Math.max(.5,t.r/this.maxValue*this.maxRadius);h.push({x:S,y:O,type:"circle",radius:w,color:d,style:["default"],seriesIndex:c,name:e,borderWidth:r,borderColor:l})}),h})}makeTooltipModel(e){return[...e].flatMap(({data:data,name:e,color:t})=>{const n=[];return data.filter(e=>!C(e)).forEach(o=>{const{r:r,label:label}=o;n.push({label:`${e}/${label}`,color:t,value:{x:Si(o),y:xi(o),r:r}})}),n})}getResponderAppliedTheme(e,t){return e.map(e=>Y(e,this.theme[t]))}onMousemove({responders:e,mousePosition:t}){const n=mo(e,t,this.rect),o=this.getResponderAppliedTheme(n,"hover");this.eventBus.emit("renderHoveredSeries",{models:o,name:this.name}),this.activatedResponders=n,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}onClick({responders:e,mousePosition:t}){if(this.selectable){const n=mo(e,t,this.rect),o=this.getResponderAppliedTheme(n,"select");this.eventBus.emit("renderSelectedSeries",{models:o,name:this.name}),this.eventBus.emit("needDraw")}}}class Fr extends Lt{constructor(){super(...arguments),this.models={circleLegend:[]}}initialize(){this.type="circleLegend"}render({layout:e,series:t,circleLegend:n}){if(!t.bubble)throw new Error(oe);if(this.isShow=n.visible,!this.isShow)return;const o=t.bubble.data;this.rect=e.circleLegend,this.renderCircleLegend(o,n)}renderCircleLegend(e,t){const n=_r(e),{radius:o}=t;this.models.circleLegend=[{type:"circleLegend",radius:o,value:n,x:o,y:this.rect.height-o}]}}function $r(e,t){const{x:n,y:o,radius:r,value:l}=t;[1,.5,.25].forEach((t,c)=>{const h=t*r,d=o+(c?(1-t)*r:0);circle(e,{type:"circle",x:n,y:d,radius:h,color:"#fff",seriesIndex:0,style:["default",{strokeStyle:"#888",lineWidth:1}]}),lt(e,{type:"label",x:n,y:d-h,text:String(l*t),style:["default",{textAlign:"center",textBaseline:"bottom"}]})})}class Vr extends Cn{constructor(e){super({el:e.el,options:e.options,series:{bubble:e.data.series}}),this.modules=[jn,Qn,Bi,so],this.addData=data=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Hr),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(Fr),this.painter.addGroups([o,l,O,f,r,y])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){this.resetSeries(),this.store.dispatch("setData",{series:{bubble:data.series}})}}class Gr extends Cn{constructor(e){var t,n;super({el:e.el,options:e.options,series:{scatter:(n=e.data.series,n.map(e=>{const t={};return Object.assign(Object.assign({},e),{data:e.data.filter(e=>!C(e)).reduce((e,n)=>{const o=`${Si(n)}-${xi(n)}`;return t[o]?e:(t[o]=!0,[...e,n])},[])})}))},categories:null===(t=e.data)||void 0===t?void 0:t.categories}),this.modules=[jn,Qn,Bi,so],this.addData=data=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Mr),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,m])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{scatter:t},categories:e})}}function Xr(e,t,n){return{width:e?t:n,height:e?n:t}}function Ur(e,t,n){return e*t+(t-n)/2}class Kr extends Lt{constructor(){super(...arguments),this.models={range:[],bullet:[],marker:[]},this.activatedResponders=[],this.eventDetectType="point",this.vertical=!1,this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name}),this.eventBus.emit("needDraw")},this.selectSeries=({seriesIndex:e,state:t})=>{var n;if(!T(e))return;const{name:o}=null===(n=t.series.bullet)||void 0===n?void 0:n[e],r=this.filterBulletResponder(this.responders).filter(({name:e})=>e===o);if(!r)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(r,"select"),name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=({seriesIndex:e,state:t})=>{var n;if(!T(e))return;const{name:o}=null===(n=t.series.bullet)||void 0===n?void 0:n[e],r=this.filterBulletResponder(this.responders).filter(({name:e})=>e===o);r.length&&this.onMousemove({responders:r})}}initialize(){this.type="series",this.name="bullet",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}render(e){var t,n;const{layout:o,axes:r,series:l,scale:c,legend:legend,options:h,theme:d,categories:m}=e;if(!l.bullet)throw new Error(re(this.name));this.setEventDetectType(l,h),this.theme=d.series.bullet,this.rect=o.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(h),this.vertical=!!(null===(n=null===(t=h)||void 0===t?void 0:t.series)||void 0===n?void 0:n.vertical);const f=Kt(l,h),{labelAxisName:v,valueAxisName:y}=Zt(f),{valueSizeKey:x}=Jt(f),{tickDistance:S}=r[v],{zeroPosition:O}=r[y],{min:w,max:M}=c[y].limit,A=l.bullet.data,C=Object.assign({ratio:this.rect[x]/(M-w),tickDistance:S,zeroPosition:O},this.getBulletBarWidths(S)),k=this.renderRanges(A,C),T=this.renderBullet(A,C),j=this.renderMarkers(A,C);this.models.range=k,this.models.bullet=T,this.models.marker=j,this.drawModels||(this.drawModels={range:k.map(e=>Object.assign({},e)),bullet:T.map(e=>Object.assign(Object.assign({},e),{height:this.vertical?0:e.height,width:this.vertical?e.width:0,y:this.vertical?e.y+e.height:e.y})),marker:j.map(e=>Object.assign({},e))});const D={range:k,bullet:T,marker:j},B=this.makeTooltipModel(D);this.tooltipRectMap=this.makeTooltipRectMap(D,B),this.responders=this.getBulletSeriesResponders(D,B,r,m),ko(h,this.name).visible&&this.renderDataLabels(this.getDataLabels([...k,...T,...j],this.vertical,this.rect[x]))}getDataLabels(e,t,n){const{dataLabels:o}=this.theme,r=I(o,"marker"),{useSeriesColor:l,color:c}=r,{marker:marker}=o;return e.filter(e=>"line"===e.type||"range"!==e.modelType).map(e=>"line"===e.type?Object.assign(Object.assign({},e),{x:t?(e.x+e.x2)/2:e.x,theme:Object.assign(Object.assign({},marker),{color:marker.useSeriesColor?e.strokeStyle:marker.color})}):Object.assign(Object.assign({},e),{direction:t?"top":"right",plot:{x:0,y:0,size:n},theme:Object.assign(Object.assign({},r),{color:l?e.color:c})}))}setEventDetectType(e,t){var n,o;(null===(o=null===(n=t)||void 0===n?void 0:n.series)||void 0===o?void 0:o.eventDetectType)&&(this.eventDetectType=t.series.eventDetectType)}getBulletSeriesResponders(e,t,n,o){return"grouped"===this.eventDetectType?go(this.rect,this.vertical?n.xAxis:n.yAxis,o,this.vertical):function(e,t){const{range:n,marker:marker,bullet:o}=e,{range:r,marker:l,bullet:c}=t;return[...n.map((e,t)=>Object.assign(Object.assign({},e),{data:r[t]})),...o.map((e,t)=>Object.assign(Object.assign({},e),{data:c[t]})),...marker.map((e,t)=>Object.assign(Object.assign({},e),{detectionSize:5,data:l[t]}))]}(e,t)}makeTooltipRectMap(e,t){const n={};return Object.keys(e).forEach(o=>{e[o].forEach((e,r)=>{const label=e.name;n[label]||(n[label]=[]);const l=Object.assign(Object.assign({},e),{data:t[o][r]});n[label].push(l)})}),n}getBulletSeriesModelsFromRectResponders(e){var t;return e.length?null!=(t=this.tooltipRectMap[e[0].label])?t:[]:[]}getGroupedRect(e,t){const n=this.getBulletSeriesModelsFromRectResponders(e),{color:o,opacity:r}=this.theme[t].groupedRect;return n.length?e.map(e=>Object.assign(Object.assign({},e),{color:Ke(o,r)})):[]}onMousemoveGroupedType(e){const t=this.getBulletSeriesModelsFromRectResponders(e);this.eventBus.emit("renderHoveredSeries",{models:[...this.getGroupedRect(e,"hover"),...this.getRespondersWithTheme(t,"hover")],name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}onMousemove({responders:e}){"grouped"===this.eventDetectType?this.onMousemoveGroupedType(e):(this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.activatedResponders=e.length?[e[e.length-1]]:[]),this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}onClick({responders:e}){if(this.selectable){const t="grouped"===this.eventDetectType?[...this.getGroupedRect(e,"select"),...this.getRespondersWithTheme(this.getBulletSeriesModelsFromRectResponders(e),"select")]:this.getRespondersWithTheme(e,"select");this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}}filterBulletResponder(e){return e.filter(e=>{var t;return"bullet"===(null===(t=e)||void 0===t?void 0:t.modelType)})}renderRanges(e,{tickDistance:t,ratio:n,zeroPosition:o,rangeWidth:r}){const l=[];return e.forEach(({ranges:e,color:c,name:h},d)=>{(null!=e?e:[]).forEach((e,m)=>{if(!C(e)){const[f,v]=e,y=(v-f)*n,x=Ur(d,t,r);l.push(Object.assign(Object.assign({type:"rect",name:h,color:this.getRangeColor(Ke(c,this.getSeriesOpacity(h)),m,h),x:this.vertical?x:f*n+o,y:this.vertical?o-v*n:x},Xr(this.vertical,r,y)),{modelType:"range",seriesColor:c,tooltipColor:this.getRangeColor(c,m,h,!0),value:e}))}})}),l}renderBullet(e,{tickDistance:t,ratio:n,zeroPosition:o,bulletWidth:r}){const{borderColor:l,borderWidth:c}=this.theme;return e.reduce((e,{data:data,color:h,name:d},m)=>{if(C(data))return[...e];const f=Math.max(data*n,2),v=Ur(m,t,r),y=Object.assign({type:"rect",name:d,color:Ke(h,this.getSeriesOpacity(d)),x:this.vertical?v:o,y:this.vertical?o-f:v,thickness:c,borderColor:l,modelType:"bullet",seriesColor:h,tooltipColor:h,value:data},Xr(this.vertical,r,f));return[...e,y]},[])}renderMarkers(e,{tickDistance:t,ratio:n,zeroPosition:o,markerWidth:r}){const{markerLineWidth:l}=this.theme,c=[];return e.forEach(({markers:e,color:h,name:d},m)=>{const f=Ur(m,t,r);(null!=e?e:[]).forEach(marker=>{if(!C(marker)){const e=marker*n,t=this.vertical?f:e+o,m=this.vertical?o-e:f;c.push({type:"line",name:d,x:t,y:m,x2:this.vertical?t+r:t,y2:this.vertical?m:m+r,strokeStyle:Ke(h,this.getSeriesOpacity(d)),lineWidth:l,seriesColor:h,tooltipColor:h,value:marker})}})}),c}makeTooltipModel(e){const{range:t,bullet:n,marker:marker}=e;return{range:this.makeTooltipData(t,"Range"),bullet:this.makeTooltipData(n,"Actual"),marker:this.makeTooltipData(marker,"Marker")}}makeTooltipData(data,title){return data.map(e=>{const{name:t,seriesColor:n,tooltipColor:o,value:r}=e;return{label:t,color:Ke(n,1),value:[{title:title,value:r,color:o}],templateType:"bullet"}})}getBulletBarWidths(e){const{barWidth:t,barWidthRatios:n}=this.theme,{rangeRatio:o,bulletRatio:r,markerRatio:l}=n,c=t?Q(e,t):.6*e;return{rangeWidth:c*o,bulletWidth:c*r,markerWidth:c*l}}getRangeColor(e,t,n,o=!1){const{rangeColors:r}=this.theme,l=Array.isArray(r)&&r[t];return Ke(l?r[t]:e,(l?qe(r[t]):Js[t])*this.getSeriesOpacity(n,o))}getSeriesOpacity(e,t=!1){const{select:select,areaOpacity:n}=this.theme,o=this.activeSeriesMap[e],r=Object.values(this.activeSeriesMap).some(e=>!e),l=t?n:select.restSeries.areaOpacity,c=o?select.areaOpacity:l;return r?c:n}getRespondersWithTheme(e,t){const{color:n,borderColor:o,borderWidth:r}=this.theme[t];return this.filterBulletResponder(e).map(e=>Object.assign(Object.assign({},e),{color:null!=n?n:e.tooltipColor,thickness:r,borderColor:o,style:[Object.assign({},z(this.theme[t],"shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY"))]}))}}class qr extends Cn{constructor({el:e,options:t,data:{series:n}}){super({el:e,options:t,series:{bullet:n}}),this.modules=[jn,Qn,Bi,so],this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Kr),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,f,r,y,c])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){this.resetSeries(),this.store.dispatch("setData",{series:{bullet:data.series}})}}var Zr={name:"seriesData",state:()=>({nestedPieSeries:{}}),action:{setNestedPieSeriesData({state:e,initStoreState:t}){const{theme:n,disabledSeries:o}=e,r=t.series,l={},c={};r.pie.forEach(({name:e,data:data},t)=>{const{colors:h}=n.series.pie[e],d=[],m=data.map((e,n)=>{var o;const{parentName:l,name:m}=e,f=l&&t?c[l]:null===(o=h)||void 0===o?void 0:o[n];d.push(f),c[m]=f;const v=l&&t?function e(t,n,o){var r,l;const c=null===(r=t.pie)||void 0===r?void 0:r[n].data.find(({name:e})=>e===o);return(null===(l=c)||void 0===l?void 0:l.parentName)?e(t,n-1,c.parentName):o}(r,t-1,l):m;return Object.assign(Object.assign({},e),{data:e.data,rootParentName:v,color:f})});l[e]={data:m.filter(({rootParentName:e})=>!o.includes(e)),colors:d}}),e.nestedPieSeries=l,this.dispatch("updateNestedPieChartLegend")}},observe:{updateNestedPieSeriesData(){this.dispatch("setNestedPieSeriesData")}}};class Jr extends Cn{constructor({el:e,options:t,data:{series:n,categories:o}}){super({el:e,options:t,series:{pie:n},categories:o}),this.modules=[Zr],this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign({},e))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){var e;super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(Lo),(e=this.store.initStoreState.series.pie,null!=e?e:[]).forEach(({name:e})=>{this.componentManager.add(er,{alias:e})}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,f,r,y,S,c])}addSeries(data,e){this.resetSeries(),this.store.dispatch("addSeries",Object.assign({data:data},e)),this.componentManager.add(er,{alias:data.name})}setData(data){var e;this.componentManager.remove(er),this.resetSeries(),this.store.dispatch("setData",{series:{pie:data.series}}),(e=this.store.initStoreState.series.pie,null!=e?e:[]).forEach(({name:e})=>{this.componentManager.add(er,{alias:e})})}}const Qr=.2,ea=1;class ta extends Lt{constructor(){super(...arguments),this.models={area:[],line:[],dot:[]},this.activatedResponders=[],this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name}),this.eventBus.emit("needDraw")},this.selectSeries=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{name:o}=n.series.radar.data[t],r=this.responders.filter(({name:e})=>e===o)[e];if(!r)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme([r],"select"),name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{name:o}=n.series.radar.data[t],r=[this.responders.filter(({name:e})=>e===o)[e]];r.length&&(this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(r,"hover"),name:this.name}),this.activatedResponders=r,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw"))}}initialize(){this.type="series",this.name="radar",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}render(e){var t,n,o,r,l,c,h,d;const{layout:m,axes:f,series:v,legend:legend,options:y,theme:x,scale:S}=e;if(!v.radar)throw new Error(re(this.name));this.theme=x.series.radar,this.rect=m.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(y);const O=e.categories,{axisSize:w,centerX:M,centerY:A}=f.radialAxis,{limit:C,stepSize:k}=S.yAxis,T=At(C,k),{min:j,max:D}=Qt(T),B={categories:O,degree:360/O.length,centerX:M,centerY:A,showArea:(o=null===(n=null===(t=y)||void 0===t?void 0:t.series)||void 0===n?void 0:n.showArea,null!=o&&o),ratio:w/(D-j)},P=null===(r=v.radar)||void 0===r?void 0:r.data,R=this.makeRadarPointsData(P,B),E=this.renderDotModels(R);this.models.area=(null===(c=null===(l=y)||void 0===l?void 0:l.series)||void 0===c?void 0:c.showArea)?this.renderAreaModels(R):[],this.models.line=this.renderLineModels(R),this.models.dot=(null===(d=null===(h=y)||void 0===h?void 0:h.series)||void 0===d?void 0:d.showDot)?E:[],this.drawModels||(this.drawModels={area:this.initDrawModels("area",M,A),line:this.initDrawModels("line",M,A),dot:this.models.dot.map(e=>Object.assign(Object.assign({},e),{x:M,y:A}))});const L=this.makeTooltipModel(E,O);this.responders=E.map((e,t)=>Object.assign(Object.assign({},e),{data:L[t],color:Ke(e.color,1)}))}initDrawModels(e,t,n){return this.models[e].map(e=>{var o;return Object.assign(Object.assign({},e),{distances:null===(o=e.distances)||void 0===o?void 0:o.map(()=>0),points:e.points.map(()=>({x:t,y:n}))})})}makeTooltipModel(e,t){return e.map(({name:e,color:n,value:o,index:r})=>({label:e,color:n,value:o,category:t[r]}))}makeTooltipModel2(e,t){return e.flatMap(({data:data,name:e,color:n})=>data.filter(e=>!C(e)).map((o,r)=>({label:e,color:n,value:o,category:t[r]})))}getRespondersWithTheme(e,t){const{radius:n,borderWidth:o,borderColor:r,color:l}=this.theme[t].dot;return e.map(e=>{const t=null!=l?l:e.color;return Object.assign(Object.assign({},e),{radius:n,color:t,style:[{lineWidth:o,strokeStyle:null!=r?r:Ke(t,.5)}]})})}onClick({responders:e}){this.selectable&&(this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(e,"select"),name:this.name}),this.eventBus.emit("needDraw"))}onMousemove({responders:e}){this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.activatedResponders=e,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}makeRadarPointsData(e,t){const{centerX:n,centerY:o,degree:r,ratio:l,showArea:c}=t;return e.map(({data:data,color:e,name:t})=>{const h=data.reduce((e,t,c)=>{if(C(t))return{distances:[...e.distances,0],linePoints:[...e.linePoints,null],areaPoints:[...e.areaPoints,{x:n,y:o}]};const h=t*l,d=Gt(n,o,h,$t(r*c));return{distances:[...e.distances,h],linePoints:[...e.linePoints,d],areaPoints:[...e.areaPoints,d]}},{linePoints:[],distances:[],areaPoints:[]});return C(data[0])||C(data[data.length-1])||(h.linePoints.push(h.linePoints[0]),h.areaPoints.push(h.areaPoints[0])),Object.assign(Object.assign({name:t,seriesColor:e,data:data},h),this.getSeriesColor(c,e,t))})}renderAreaModels(e){return e.map(({distances:e,areaPoints:t,name:n,fillColor:o,seriesColor:r})=>({type:"areaPoints",name:n,distances:e,points:t,fillColor:o,color:Ke(r,0),lineWidth:0}))}renderLineModels(e){const{lineWidth:t,dashSegments:n}=this.theme;return e.map(({distances:e,linePoints:o,name:r,lineColor:l})=>({type:"linePoints",lineWidth:null!=t?t:Hs,name:r,distances:e,points:o,color:l,dashSegments:n}))}renderDotModels(e){const{radius:t,color:n}=this.theme.dot,o=[];return e.forEach(({linePoints:e,lineColor:r,name:l,data:data},c)=>e.slice(0,e.length-1).forEach((e,h)=>{var d;C(e)||o.push(Object.assign(Object.assign({type:"circle"},e),{radius:t,color:null!=n?n:r,style:[{strokeStyle:"rgba(0, 0, 0, 0)"}],name:l,seriesIndex:c,index:h,value:null===(d=data)||void 0===d?void 0:d[h]}))})),o}getSeriesColor(e,t,n){const o=this.activeSeriesMap[n],{select:select,areaOpacity:r}=this.theme,l=Object.values(this.activeSeriesMap).some(e=>!e),c=Ke(t,o?ea:Qr);let h=0;if(e){const e=o?select.areaOpacity:select.restSeries.areaOpacity;h=l?e:r}return{lineColor:c,fillColor:Ke(c,h)}}}function ia(e,t,n=0){const o=e.map((n,o)=>o/(e.length-1)*t);return n&&o.splice(o.length-n),o}class sa extends Lt{constructor(){super(...arguments),this.models={plot:[],dot:[],label:[]}}initialize(){this.type="plot",this.name="radar"}render(e){var t,n;const{layout:o,axes:r,options:l}=e;this.rect=o.plot;const c=null!=(t=e.categories)?t:[],h=this.makeRenderOptions(r.radialAxis,null===(n=l.plot)||void 0===n?void 0:n.type,c);this.models={plot:this.renderPlot(h),dot:this.renderCategoryDot(h),label:this.renderCategoryLabel(h)}}makeRenderOptions(e,t="spiderweb",n=[]){const{labels:o,axisSize:r,centerX:l,centerY:c}=e;return{type:t,categories:n,degree:360/n.length,centerX:l,centerY:c,seriesRadius:r,radiusRange:ia(o,r).slice(1,o.length)}}renderPlot(e){return"spiderweb"===e.type?this.makeSpiderwebPlot(e):this.makeCirclePlot(e)}makeSpiderwebPlot(e){const{degree:t,centerX:n,centerY:o,categories:r,radiusRange:l}=e;return l.map(e=>({type:"polygon",color:"rgba(0, 0, 0, 0.05)",lineWidth:1,points:r.map((r,l)=>Gt(n,o,e,$t(t*l)))}))}makeCirclePlot(e){const{centerX:t,centerY:n,radiusRange:o}=e;return o.map(e=>({type:"circle",color:"rgba(0, 0, 0, 0)",style:["plot"],radius:e,x:t,y:n}))}renderCategoryDot(e){const{degree:t,centerX:n,centerY:o,categories:r,seriesRadius:l}=e;return r.map((e,r)=>{const{x:c,y:h}=Gt(n,o,l,$t(t*r));return{type:"rect",color:"rgba(0, 0, 0, .5)",width:4,height:4,x:c-2,y:h-2}})}renderCategoryLabel(e){const{degree:t,centerX:n,centerY:o,categories:r,seriesRadius:l}=e,c=l+35;return r.map((text,e)=>Object.assign({type:"label",style:["default",{textAlign:"center"}],text:text},Gt(n,o,c,$t(t*e))))}}const na=5,oa=1;function ra(e){return e.slice(1,e.length-1)}class aa extends Lt{constructor(){super(...arguments),this.models=[]}initialize(){this.type="axis",this.name="radial"}render({layout:e,axes:t}){if(this.rect=e.plot,!t.radialAxis)return;const{axisSize:n,centerX:o,centerY:r,labels:l,maxLabelWidth:c,maxLabelHeight:h,labelInterval:d}=t.radialAxis,m=ra(ia(l,n)),f=c+2*na,v=h+2*oa,y=ra(l);this.models=y.reduce((e,text,t)=>t%d?e:[...e,Object.assign({type:"rectLabel",text:text,style:["rectLabel"],width:f,height:v,borderRadius:7,backgroundColor:"#f3f3f3"},Gt(o,r,m[t],$t(0)))],[])}}class la extends Cn{constructor({el:e,options:t,data:data}){super({el:e,options:t,series:{radar:data.series},categories:data.categories}),this.modules=[jn,Qn,Bi],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.setOptions=e=>{this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(Lo),this.componentManager.add(sa),this.componentManager.add(aa),this.componentManager.add(ta),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,f,r,y,d,l,v])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{radar:t},categories:e})}}function ca({height:e,width:t}){return e<t}function ha(e,t){const{width:n,height:o}=t,r=function(e,t,n){return t*n/Mt(e)}(Et(e,"data"),n,o);return e.map(e=>({id:e.id,weight:e.data*r})).sort((a,b)=>b.weight-a.weight)}function da(e,t,n,o){const r=e*e,l=o*o;return Math.max(l*n/r,r/(l*t))}function ua(e,t,n){if(!t){t=Mt(Et(n,"weight"))}return t/e}function pa(e,t,n,o){t.reduce((e,t)=>{const r=t.weight/n;return o(r,e,t.id),e+r},e)}function ma(e,t,rect){e[t]=rect}function ga(e,t,n,o,r){const l=ua(o,r,t);pa(n.y,t,l,(t,o,r)=>{ma(e,r,{x:n.x,y:o,width:l,height:t})}),n.x+=l,n.width-=l}function fa(e,t,n,o,r){const l=ua(o,r,t);pa(n.x,t,l,(t,o,r)=>{ma(e,r,{x:o,y:n.y,width:t,height:l})}),n.y+=l,n.height-=l}function va(e,t){const n=e,o=ha(t,n);let r,l,c=[];const h={};return o.forEach(e=>{const t=Et(c,"weight"),o=Mt(t);c.length&&function(e,t,n,o){const r=Math.min(...t),l=Math.max(...t),c=da(e,r,l,n);return da(e+o,Math.min(r,o),Math.max(l,o),n)>=c}(o,t,r,e.weight)&&(l(h,c,n,r,o),c=[]),c.length||(r=function(e){return ca(e)?e.height:e.width}(n),l=function(e){return ca(e)?ga:fa}(n)),c.push(e)}),c.length&&l(h,c,n,r),h}class ba extends Lt{constructor(){super(...arguments),this.models={series:[],layer:[]},this.activatedResponders=[],this.onMouseoutComponent=()=>{this.emitMouseEvent([])},this.selectSeries=({seriesIndex:e})=>{if(!T(e))return;const t=this.responders.find(({indexes:t})=>G(t)===e);if(!t)throw new Error(se);this.eventBus.emit("renderSelectedSeries",{models:[t],name:this.name}),this.eventBus.emit("needDraw")},this.showTooltip=({seriesIndex:e})=>{if(!T(e))return;const t=this.responders.find(({indexes:t})=>G(t)===e);t&&this.emitMouseEvent([t])}}initialize(){this.type="series",this.name="treemap",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}getAllChildSeries(e,t){const n=[];return e.forEach(data=>{if(data.parentId===t&&(n.push(data),data.hasChild)){const t=this.getAllChildSeries(e,data.id);n.push(...t)}}),n}render(e){var t,n,o,r,l;const{layout:c,treemapSeries:h,colorValueScale:d,options:m,theme:f,treemapZoomId:v}=e;if(!h.length)throw new Error(re(this.name));const y=v.cur,x=this.getAllChildSeries(h,y);if(this.theme=f.series.treemap,this.rect=c.plot,this.selectable=this.getSelectableOption(m),this.models=this.renderTreemapSeries(x,m,d,y),this.zoomable=null!=(n=null===(t=m.series)||void 0===t?void 0:t.zoomable)&&n,ko(m,this.name).visible){const e=null!=(l=null===(r=null===(o=m.series)||void 0===o?void 0:o.dataLabels)||void 0===r?void 0:r.useTreemapLeaf)&&l,t=this.makeDataLabel(e,y);this.renderDataLabels(t)}this.responders=this.makeTreemapSeriesResponder(y)}makeTreemapSeriesResponder(e){const t=this.makeTooltipData();let{series:n}=this.models;return this.zoomable&&(n=n.filter(({parentId:t})=>t===e)),n.map((e,n)=>Object.assign(Object.assign({},e),{data:t[n],thickness:Xs,style:["shadow"]}))}makeTooltipData(){return this.models.series.map(({label:label,data:data,color:e})=>({label:label,color:e,value:data}))}makeBoundMap(e,t,n,o={}){const r=e.filter(e=>e.parentId===t);return o=Object.assign(Object.assign({},o),va(Object.assign({},n),r)),r.forEach(t=>{o=this.makeBoundMap(e,t.id,o[t.id],o)}),o}makeDataLabel(e,t){const n=e?this.models.series.filter(({hasChild:e})=>!e):this.models.series.filter(({parentId:e})=>e===t),o=this.theme.dataLabels;return n.map(e=>Object.assign(Object.assign({},e),{type:"treemapSeriesName",value:e.label,direction:"left",plot:{x:0,y:0,size:0},theme:Object.assign(Object.assign({},o),{color:o.useSeriesColor?e.color:o.color})}))}getColor(e,t){const{indexes:n}=e;return t[V(n)]}getOpacity(e){const{indexes:t,depth:n}=e,o=G(t);return 1===t.length?0:Number((.1*n+.05*o).toFixed(2))}renderTreemapSeries(e,t,n,o){var r,l,c;let h=[];const d=this.makeBoundMap(e,o,Object.assign(Object.assign({},this.rect),{x:0,y:0})),{colors:m,startColor:f,endColor:v,borderWidth:y,borderColor:x}=this.theme;let S,O;const w=null!=(l=null===(r=t.series)||void 0===r?void 0:r.useColorValue)&&l;w&&f&&v&&(S=Ue(f),O=pr(S,Ue(v)));const M=Object.keys(d).map(t=>{const o=e.find(e=>e.id===t);let r;return w&&(r=mr(n.limit,o.colorValue)),Object.assign(Object.assign(Object.assign({},o),d[t]),{type:"rect",colorRatio:r,color:w?gr(r,O,S):this.getColor(o,m),opacity:w?0:this.getOpacity(o),thickness:y,borderColor:x})});return(null===(c=t.series)||void 0===c?void 0:c.useColorValue)||(h=M.map(e=>Object.assign(Object.assign({},e),{color:Ke("#000000",e.opacity)}))),{series:M,layer:h}}getRespondersWithTheme(e,t){return e.map(e=>Y(e,Object.assign(Object.assign({},this.theme[t]),{style:["shadow"]})))}onClick({responders:e}){if(e.length)if(this.zoomable){const{id:t,hasChild:n}=e[0];n?(this.emitMouseEvent([]),this.store.dispatch("setTreemapZoomId",t),this.eventBus.emit("resetSelectedSeries")):this.selectable&&this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(e,"select"),name:this.name})}else if(this.selectable){const t=vo(e);this.eventBus.emit("renderSelectedSeries",{models:this.getRespondersWithTheme(t,"select"),name:this.name})}}onMousemove({responders:e}){const t=vo(e);this.activatedResponders=t,this.emitMouseEvent(t)}emitMouseEvent(e){this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name}),this.eventBus.emit("seriesPointHovered",{models:e,name:this.name}),this.eventBus.emit("renderSpectrumTooltip",e),this.eventBus.emit("needDraw")}}class ya extends Lt{initialize(){this.type="backButton",this.name="backButton"}onClick({responders:e}){e.length&&(this.store.dispatch("zoomBack"),this.eventBus.emit("resetSelectedSeries"))}render({options:e,layout:t},n){bs(e)&&(this.rect=t.resetButton,this.isShow=n.isTreemapSeriesZooming,this.models=this.isShow?[{type:"backButton",x:0,y:0}]:[],this.responders=this.isShow?[{type:"rect",x:0,y:0,width:24,height:24}]:[])}}class xa extends Cn{constructor(e){super({el:e.el,options:e.options,series:{treemap:e.data.series}}),this.modules=[cr,dr],this.hideSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!1}}}})},this.showSeriesDataLabel=()=>{this.store.dispatch("updateOptions",{options:{series:{dataLabels:{visible:!0}}}})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ur),this.componentManager.add(ba),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(Io),this.componentManager.add(ao,{chartEl:this.el}),this.componentManager.add(ya),this.painter.addGroups([o,f,r,y,c,h,x])}addSeries(data,e){this.resetSeries(),this.store.dispatch("addTreemapSeries",Object.assign({data:data},e))}setData(data){this.resetSeries(),this.store.dispatch("setData",{series:{treemap:data.series}})}}function Sa(e,t){return null!=t?t:e}class Oa extends Lt{constructor(){super(...arguments),this.models={series:[]},this.activatedResponders=[],this.eventDetectType="point",this.onMouseoutComponent=()=>{this.eventBus.emit("seriesPointHovered",{models:[],name:this.name}),this.eventBus.emit("renderHoveredSeries",{models:[],name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")},this.selectSeries=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{name:o}=n.series.boxPlot[t],r=this.getRespondersWithTheme(this.tooltipRectMap[`${o}-${e}`],"select");this.eventBus.emit("renderSelectedSeries",{models:r,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")},this.showTooltip=({index:e,seriesIndex:t,state:n})=>{if(!T(e)||!T(t))return;const{name:o}=n.series.boxPlot[t],r=this.getRespondersWithTheme(this.tooltipRectMap[`${o}-${e}`],"hover");this.eventBus.emit("renderHoveredSeries",{models:r,name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=r,this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}}initialize(){this.type="series",this.name="boxPlot",this.eventBus.on("selectSeries",this.selectSeries),this.eventBus.on("showTooltip",this.showTooltip),this.eventBus.on("hideTooltip",this.onMouseoutComponent)}render(e){var t,n;const{layout:o,axes:r,series:l,scale:c,legend:legend,options:h,theme:d}=e;if(!l.boxPlot)throw new Error(re(this.name));(null===(n=null===(t=h)||void 0===t?void 0:t.series)||void 0===n?void 0:n.eventDetectType)&&(this.eventDetectType=h.series.eventDetectType),this.theme=d.series.boxPlot,this.rect=o.plot,this.activeSeriesMap=uo(legend),this.selectable=this.getSelectableOption(h);const m=e.categories,{tickDistance:f}=r.xAxis,{min:v,max:y}=c.yAxis.limit,x=l.boxPlot.data,S=x.length,O=Object.assign({ratio:this.rect.height/(y-v),tickDistance:f},this.getBarWidths(f,S)),w=this.makeBoxPlots(x,O),M=this.renderSeriesModels(w);this.models.series=M,this.drawModels||(this.drawModels={series:M.map(e=>{const t=Object.assign({},e);return"rect"===e.type&&(t.y=e.y+e.height,t.height=0),t})});const A=this.makeTooltipModel(x,m);this.tooltipRectMap=this.makeTooltipRectMap(w,A),this.responders="grouped"===this.eventDetectType?this.makeGroupedResponderModel(w):this.makeDefaultResponderModel(w,A)}makeTooltipRectMap(e,t){const n={};return e.forEach((e,o)=>{if(!C(e)){const r=`${e.name}-${e.index}`;n[r]||(n[r]=[]),n[r].push(Object.assign(Object.assign({},this.makeHoveredModel(e)),{data:t[o]}))}}),n}makeGroupedResponderModel(e){const t=[];return e.forEach(e=>{const{type:n,index:o,name:r}=e,l=`${r}-${o}`;if("boxPlot"===n&&!t[l]){const{boxPlotDetection:n}=e;t.push(Object.assign(Object.assign({type:"rect",name:l},n),{y:0,height:this.rect.height}))}}),t}makeDefaultResponderModel(e,t){return e.map((e,n)=>Object.assign(Object.assign({},this.makeHoveredModel(e)),{data:t[n],color:Ke(e.color,1)}))}makeHoveredModel(e){const t="boxPlot"===e.type&&e.rect?{x:e.rect.x,y:e.rect.y}:{x:e.x,y:e.y},n=Object.assign({},e);return"boxPlot"===e.type&&(["lowerWhisker","upperWhisker","maximum","minimum","median"].forEach(t=>{e[t]&&(e[t].detectionSize=3)}),e.color=Ke(n.color,1)),Object.assign(Object.assign({},n),t)}getResponderModelFromMap(e){if(!e.length)return[];const t=e[0].name;return this.tooltipRectMap[t]}onMousemove({responders:e}){if("grouped"===this.eventDetectType){const t=this.getResponderModelFromMap(e);this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(t,"select"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=t}else this.eventBus.emit("renderHoveredSeries",{models:this.getRespondersWithTheme(e,"hover"),name:this.name,eventDetectType:this.eventDetectType}),this.activatedResponders=e;this.eventBus.emit("seriesPointHovered",{models:this.activatedResponders,name:this.name}),this.eventBus.emit("needDraw")}onClick({responders:e}){if(this.selectable){let t;t="grouped"===this.eventDetectType?this.getRespondersWithTheme(this.getResponderModelFromMap(e),"select"):this.getRespondersWithTheme(e,"select"),this.eventBus.emit("renderSelectedSeries",{models:t,name:this.name,eventDetectType:this.eventDetectType}),this.eventBus.emit("needDraw")}}renderSeriesModels(e){const t=[];return e.forEach(e=>{const{type:n,name:o}=e;"boxPlot"===n?["maximum","minimum","rect","median","upperWhisker","lowerWhisker"].forEach(n=>{t.push(Object.assign({name:o},e[n]))}):t.push(Object.assign({},e))}),t}makeBoxPlots(e,t){const{ratio:n,barWidth:o}=t,r=[],l=e.length,{dot:c}=this.theme;return e.forEach(({outliers:e,data:data,name:h,color:d},m)=>{const f=this.getSeriesColor(h,d);(null!=data?data:[]).forEach((e,n)=>{if(!C(e)){const c=this.getStartX(m,n,t,l),rect=this.getRect(e,c,f,t);r.push(Object.assign(Object.assign({type:"boxPlot",color:f,name:h,rect:rect,median:this.getMedian(e,c,f,t),minimum:this.getMinimum(e,c,f,t),maximum:this.getMaximum(e,c,f,t)},this.getWhisker(e,c,f,t,rect)),{index:n,boxPlotDetection:{x:c,width:o}}))}});const{color:v,radius:y,borderColor:x,borderWidth:S,useSeriesColor:O}=c;(null!=e?e:[]).forEach(e=>{const[c,d]=e,w=this.getStartX(m,c,t,l);r.push({type:"circle",name:h,x:w+o/2,y:this.getYPos(d,n),radius:y,style:[{strokeStyle:null!=x?x:f,lineWidth:S}],color:O?f:v,index:c})})}),r}makeTooltipModel(e,t){const n=[];return e.forEach(({outliers:e,data:data,name:o,color:r})=>{(null!=data?data:[]).forEach((e,l)=>{if(!C(e)){const c=[...e].reverse();n.push({label:o,color:r,value:["Maximum","Upper Quartile","Median","Lower Quartile","Minimum"].reduce((e,title,t)=>{const n=c[t];return C(n)?e:[...e,{title:title,value:n}]},[]),category:t[l],templateType:"boxPlot"})}}),(null!=e?e:[]).forEach(e=>{if(!C(e)){const[l,c]=e;n.push({label:o,color:r,value:[{title:"Outlier",value:c}],category:t[l],templateType:"boxPlot"})}})}),n}getStartX(e,t,n,o){const{tickDistance:r,barWidth:l}=n;return t*r+(e+1)*function(e,t,n){return(e-t*n)/(n+1)}(r,l,o)+l*e}getYPos(e,t,n){return T(n)?kt(this.rect.height-e*t,n):this.rect.height-e*t}getBarWidths(e,t){const{barWidth:n,barWidthRatios:o}=this.theme,{barRatio:r,minMaxBarRatio:l}=o,c=Math.max((e-We(e)*(t-1+2))/t,5),h=n?Q(e/t,n):c;return{barWidth:h*r,minMaxBarWidth:h*l}}getRespondersWithTheme(e,t){const{color:n,rect:rect,dot:o,line:line,shadowColor:r,shadowOffsetX:l,shadowOffsetY:c,shadowBlur:h}=this.theme[t],{whisker:d,median:m,maximum:f,minimum:v}=line,{color:y,radius:x,borderColor:S,borderWidth:O,useSeriesColor:w}=o;return e.map(e=>{const{type:t,data:data}=e;let o,M=e.color;if("circle"===t)M=data.color,o=Object.assign(Object.assign({},e),{radius:x,color:w?M:y,style:[{strokeStyle:Sa(M,S),lineWidth:O}]});else{const{rect:t,upperWhisker:y,lowerWhisker:x,median:S,maximum:O,minimum:w}=e;o=Object.assign(Object.assign({},e),{rect:Object.assign(Object.assign({},t),{color:null!=n?n:Ke(M,1),thickness:rect.borderWidth,borderColor:rect.borderColor,style:[{shadowColor:r,shadowOffsetX:l,shadowOffsetY:c,shadowBlur:h}]}),upperWhisker:Object.assign(Object.assign({},y),{strokeStyle:Sa(M,d.color),lineWidth:d.lineWidth}),lowerWhisker:Object.assign(Object.assign({},x),{strokeStyle:Sa(M,d.color),lineWidth:d.lineWidth}),median:Object.assign(Object.assign({},S),{strokeStyle:Sa(M,m.color),lineWidth:m.lineWidth}),maximum:Object.assign(Object.assign({},O),{strokeStyle:Sa(M,f.color),lineWidth:f.lineWidth}),minimum:Object.assign(Object.assign({},w),{strokeStyle:Sa(M,v.color),lineWidth:v.lineWidth})})}return o})}getRect(e,t,n,{barWidth:o,ratio:r}){const{rect:rect}=this.theme,[,l,,c]=e;return{type:"rect",x:t,y:this.getYPos(c,r),width:o,height:(c-l)*r,thickness:rect.borderWidth,borderColor:rect.borderColor,color:n}}getWhisker(e,t,n,{barWidth:o,ratio:r},rect){const[l,,,,c]=e,{lineWidth:h,color:d}=this.theme.line.whisker,m=kt(t+o/2,h);return{upperWhisker:{type:"line",x:m,y:this.getYPos(c,r,h),x2:m,y2:rect.y,strokeStyle:null!=d?d:n,lineWidth:h},lowerWhisker:{type:"line",x:m,y:this.getYPos(l,r,h),x2:m,y2:kt(rect.y+rect.height,h),strokeStyle:null!=d?d:n,lineWidth:h}}}getMedian(e,t,n,{barWidth:o,ratio:r}){const l=e[2],{lineWidth:c,color:h}=this.theme.line.median;return{type:"line",x:kt(t,c),y:this.getYPos(l,r,c),x2:kt(t+o,c),y2:this.getYPos(l,r,c),strokeStyle:null!=h?h:n,lineWidth:c}}getMinimum(e,t,n,{barWidth:o,ratio:r,minMaxBarWidth:l}){const c=e[0],{lineWidth:h,color:d}=this.theme.line.minimum;return{type:"line",x:kt(t+(o-l)/2,h),y:this.getYPos(c,r,h),x2:kt(t+(o-l)/2+l,h),y2:this.getYPos(c,r,h),strokeStyle:null!=d?d:n,lineWidth:h}}getMaximum(e,t,n,{barWidth:o,ratio:r,minMaxBarWidth:l}){const c=e[4],{lineWidth:h,color:d}=this.theme.line.maximum;return{type:"line",x:kt(t+(o-l)/2,h),y:this.getYPos(c,r,h),x2:kt(t+(o-l)/2+l,h),y2:this.getYPos(c,r,h),strokeStyle:null!=d?d:n,lineWidth:h}}getSeriesColor(e,t){const{select:select,areaOpacity:n}=this.theme,o=this.activeSeriesMap[e],r=Object.values(this.activeSeriesMap).some(e=>!e),l=o?select.areaOpacity:select.restSeries.areaOpacity;return Ke(t,r?l:n)}}function wa(e,t){const{rect:n,upperWhisker:o,lowerWhisker:r,median:l,minimum:c,maximum:h}=t;c&&it(e,Object.assign({type:"line"},c)),r&&it(e,Object.assign({type:"line"},r)),n&&st(e,Object.assign({type:"rect"},n)),o&&it(e,Object.assign({type:"line"},o)),h&&it(e,Object.assign({type:"line"},h)),l&&it(e,Object.assign({type:"line"},l))}class Ma extends Cn{constructor({el:e,options:t,data:{series:n,categories:o}}){super({el:e,options:t,series:{boxPlot:n},categories:o}),this.modules=[jn,Qn,Bi,so],this.addData=(data,e)=>{this.animationControlFlag.updating=!0,this.resetSeries(),this.store.dispatch("addData",{data:data,category:e})},this.setOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("initOptions",e)},this.updateOptions=e=>{this.resetSeries(),this.dispatchOptionsEvent("updateOptions",e)},this.showTooltip=e=>{this.eventBus.emit("showTooltip",Object.assign(Object.assign({},e),{state:this.store.state}))},this.hideTooltip=()=>{this.eventBus.emit("hideTooltip")}}initialize(){super.initialize(),this.componentManager.add(Go),this.componentManager.add(No),this.componentManager.add(ho),this.componentManager.add(Lo),this.componentManager.add(Oa),this.componentManager.add(It,{name:"yAxis"}),this.componentManager.add(It,{name:"xAxis"}),this.componentManager.add(Wo,{name:"xAxis"}),this.componentManager.add(Wo,{name:"yAxis"}),this.componentManager.add(Hi,{chartEl:this.el}),this.componentManager.add(Ho),this.componentManager.add(Vo),this.componentManager.add(ao,{chartEl:this.el}),this.painter.addGroups([o,l,w,f,r,y])}addSeries(data){this.resetSeries(),this.store.dispatch("addSeries",{data:data})}setData(data){const{categories:e,series:t}=data;this.resetSeries(),this.store.dispatch("setData",{series:{boxPlot:t},categories:e})}}class Aa{}Aa.lineChart=e=>new Jo(e),Aa.areaChart=e=>new wr(e),Aa.barChart=e=>new Ir(e),Aa.boxPlotChart=e=>new Ma(e),Aa.columnChart=e=>new Wr(e),Aa.pieChart=e=>new sr(e),Aa.heatmapChart=e=>new yr(e),Aa.bubbleChart=e=>new Vr(e),Aa.scatterChart=e=>new Gr(e),Aa.bulletChart=e=>new qr(e),Aa.radarChart=e=>new la(e),Aa.treemapChart=e=>new xa(e),Aa.nestedPieChart=e=>new Jr(e),Aa.lineAreaChart=e=>new Cr(e),Aa.lineScatterChart=e=>new Ar(e),Aa.columnLineChart=e=>new Yr(e)}}]);